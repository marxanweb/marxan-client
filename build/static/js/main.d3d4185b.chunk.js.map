{"version":3,"sources":["utilities.js","AppBar.js","ToolbarButton.js","MarxanDialog.js","LoginDialog.js","RegisterDialog.js","ResendPasswordDialog.js","UserMenu.js","HelpMenu.js","OptionsDialog.js","ProfileDialog.js","UsersDialog.js","AboutDialog.js","MenuItemWithButton.js","TargetIcon.js","LinearGauge.js","FeaturesList.js","SelectFeatures.js","InfoPanel.js","TransparencyControl.js","Legend.js","ResultsPane.js","FeatureInfoDialog.js","ProjectsDialog.js","Metadata.js","SelectFieldMapboxLayer.js","PlanningUnitsDialog.js","SelectCostFeatures.js","FeaturesDialog.js","NewProjectDialog.js","PlanningGridsDialog.js","NewPlanningGridDialog.js","ShapefileUpload.js","UploadPlanningGridDialog.js","NewFeatureDialog.js","CostsDialog.js","RunSettingsDialog.js","RendererSelector.js","ColorSelector.js","ClassificationDialog.js","MapContainer.js","ClumpingDialog.js","UploadFolder.js","UploadMarxanFiles.js","ImportDialog.js","RunLogDialog.js","ServerDetailsDialog.js","ChangePasswordDialog.js","Popup.js","PopupFeatureList.js","App.js","registerServiceWorker.js","index.js","genericFunctions.js","iucn.png","wcmc.png","mapbox_small.png","biopama_small.png","jrc_logo_color_small.png"],"names":["getMaxNumberOfClasses","brew","colorCode","colorScheme","colorSchemes","Object","keys","filter","key","map","property","Number","reduce","a","b","Math","max","AppBar","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","adminMenuOpen","evt","openFeaturesDialog","setState","menuAnchor","currentTarget","openUsersDialog","closeAdminMenu","openRunLogDialog","react_default","createElement","Fragment","Toolbar","style","display","open","backgroundColor","height","padding","className","index_es","icon","faBookOpen","onClick","openProjectsDialog","title","fontSize","faFish","bind","faThLarge","openPlanningGridsDialog","marginLeft","marginRight","infoPanelOpen","faArrowAltCircleLeft","toggleInfoPanel","resultsPanelOpen","faArrowAltCircleRight","toggleResultsPanel","faUser","showUserMenu","user","userRole","openAdminMenu","Popover_default","anchorEl","onRequestClose","Menu_default","desktop","onMouseLeave","menuItemStyle","color","listStyle","width","selectedMenuItemStyle","MenuItem_default","leftIcon","faUsers","faRunning","faQuestionCircle","showHelpMenu","React","Component","ToolbarButton","_style1","_style2","show","minWidth","label","assign","RaisedButton_default","overlayStyle","lineHeight","buttonStyle","MarxanDialog","offsetX","rightX","right","left","offsetY","marginTop","cancelButton","showCancelButton","src_ToolbarButton","cancelLabel","primary","onCancel","disabled","cancelDisabled","contentStyle","contentWidth","Dialog_default","showOverlay","titleClassName","titleStyle","titleBarIcon","actions","okLabel","onOk","okDisabled","children","position","top","sync_default","loading","showSpinner","LoginDialog","e","nativeEvent","value","selectServer","marxanServers","src_MarxanDialog","password","marxanServer","offline","guestUserEnabled","corsEnabled","undefined","SelectField_default","floatingLabelText","floatingLabelFixed","underlineShow","labelStyle","name","onChange","item","text","primaryText","innerDivStyle","faUnlink","faLock","host","description","id","TextField_default","event","changeUserName","inputStyle","onKeyPress","handleKeyPress","type","changePassword","openResendPasswordDialog","modal","RegisterDialog","validForm","email","mb_tk","validEmail","mb_tk_err","validateEmail","err","message","valid","test","String","toLowerCase","Error","_this2","client","MapboxClient","listTilesets","tilesets","createUpload","tileset","join","url","upload","_this3","c","newValue","errorText","lib_default","createNewUser","ResendPasswordDialog","resendPassword","resending","changeEmail","UserMenu","userMenuOpen","anchorOrigin","horizontal","vertical","targetOrigin","hideUserMenu","openOptionsDialog","marginBottom","faCog","openProfileDialog","faEdit","openChangePasswordDialog","faUserLock","logout","exit_to_app_default","white","HelpMenu","window","hideHelpMenu","openServerDetailsDialog","faServer","openDocumentation","help_outline_default","openAboutDialog","info_default","OptionsDialog","saveEnabled","options","saveOptions","payload","basemap","basemaps","changeBasemap","setOption","updateOptions","Checkbox_default","defaultChecked","userData","SHOWPOPUP","onCheck","isInputChecked","ProfileDialog","updated","updateUser","_this$setState","defineProperty","EMAIL","closeProfileDialog","updateState","defaultValue","NAME","floatingLabelShrinkStyle","floatingLabelFocusStyle","mapboxAccessTokenError","MAPBOXACCESSTOKEN","USER_ROLES","UsersDialog","selectedUser","oldRole","newRole","changeRole","deleteUser","users","closeDialog","autoDetectWindowHeight","bodyStyle","length","es","pageSize","showPagination","minRows","noDataText","data","thisRef","columns","Header","accessor","headerStyle","textAlign","Cell","row","original","menuStyle","underlineStyle","iconStyle","ROLE","getTrProps","rowInfo","column","background","indexOf","target","textContent","changeUser","faTrashAlt","_delete","paddingLeft","verticalAlign","toggleEnableGuestUser","checked","AboutDialog","marxanClientReleaseVersion","href","rel","src","iucn","alt","wcmc","biopama_small","jrc_logo_color_small","mapbox_small","MenuItemWithButton","TargetIcon","editing","localTargetValue","startEditing","str","isNumber","target_value","document","getElementById","interestFeature","focus","select","updateTargetValue","targetStatus","fontColor","blue300","react","visible","size","userSelect","alignItems","justifyContent","borderRadius","border","onBlur","stopEditing","LinearGauge","alwaysShowPercent","showUnprotectedPercent","targetAsLine","protectedWidth","protectedHidden","scaleFactor","scaledWidth","targetPxOffset","round","protected_percent","targetShortfallWidth","unprotectedWidth","opacity","fontStyle","FeaturesList","feature","openFeatureMenu","targetIcon","updateFeature","List","maxHeight","maxheight","overflow","features","pu_area","protected_area","target_area","leftAvatar","simple","src_TargetIcon","alias","secondaryText","src_LinearGauge","rightIconButton","IconButton_default","touch","tooltipPosition","iconClick","more_vert_default","grey400","SelectFeatures","src_FeaturesList","metadata","OLDVERSION","leftmargin","InfoPanel","iucnCategories","prevProps","prevState","snapshot","editingProjectName","project","editingDescription","DESCRIPTION","keyCode","blur","renameProject","renameDescription","startEditingProjectName","startEditingDescription","puEditing","stopPuEditSession","startPuEditSession","changeIucnCategory","checkedString","toggleProjectPrivacy","stopMarxan","pid","Paper_default","zDepth","Tabs","contentContainerStyle","margin","activeTab","onActive","project_tab_active","CREATEDATE","PRIVATE","features_tab_active","src_SelectFeatures","pu_tab_active","pu_alias","preprocessing","IUCN_CATEGORY","faUnlock","startStopPuEditSession","cursor","faEraser","clearManualEdits","settings_default","showRunSettingsDialog","secondary","runMarxan","TransparencyControl","showSlider","old_opacity","layer","changeOpacity","onMouseEnter","mouseEnter","mouseLeave","faEyeSlash","faEye","toggleLayer","Slider_default","sliderStyle","Legend","legendItems","breaks","numClasses","getNumClasses","colorSchemeLength","utilities","numClassesArray","Array","apply","classesToShow","range","suffix","legendLabel","src_TransparencyControl","resultsLayer","results_layer_opacity","pa_layer_visible","wdpaLayer","wdpa_layer_opacity","planning_units_legend_items","getPlanningUnitsLegend","protected_areas_legend_items","getProtectedAreasLegend","ResultsPane","showClipboard","selectedSolution","runtime","log","objDiv","scrollTop","scrollHeight","resetSolution","solutions","startTimer","stopTimer","timer","setInterval","clearInterval","solution","loadSolution","owner","node","body","createTextRange","moveToElementText","getSelection","selection","createRange","selectNodeContents","removeAllRanges","addRange","console","warn","selectText","execCommand","changeSolution","Run_Number","activeResultsTab","legend_tab_active","src_Legend","openClassificationDialog","solutions_tab_active","processing","instance","log_tab_active","assignment_default","copyLog","clearLog","FeatureInfoDialog","arguments","roundedText","toFixed","replace","getHTML","hint","innerHTML","substr","isValidTargetValue","obj","alert","html","getAreaHTML","contentEditable","suppressContentEditableWarning","updateFeatureValue","FEATURE_PROPERTIES","forEach","old_version","showForOld","push","renderKeyCell","renderValueCell","ProjectsDialog","selectedProject","deleteProject","oldVersion","getAllFeatures","then","loadAndClose","loadProject","openNewProjectDialog","cloneProject","openImportDialog","desc","Date","parse","tableColumns","includes","renderName","renderTitle","sortMethod","sortDate","projects","load","changeProject","unauthorisedMethods","faPlusCircle","_new","get_app_default","content_copy_default","Metadata","validName","setName","setDescription","paddingBottom","changeName","changeDescription","multiLine","rows","SelectFieldMapboxLayer","items","envelope","getLatLngLikeFromWKT","fitBounds","easing","num","addLayerToMap","feature_class_name","changeItem","wkt","require","coordinates","mapboxlayername","request","mapboxUser","parseUrlExists","res","statusCode","getStyle","layers","removeLayer","getSource","removeSource","addSource","addLayer","source","source-layer","paint","fill-color","fill-opacity","selectedValue","PlanningUnitsDialog","planning_unit_grids_received","mapboxgl","Map","container","mapContainer","center","zoom","ref","el","src_SelectFieldMapboxLayer","pu","planning_unit_grids","SelectCostFeatures","selectedFeature","ListItem","defaultProps","disableTouchRipple","disableFocusRipple","iconButtonElement","rightIconMenu","IconMenu_default","selectedCosts","openCostsDialog","FeaturesDialog","deleteFeature","showNewFeaturesDialogPopover","openNewFeatureDialog","initialiseDigitising","addingRemovingFeatures","clickFeature","unselectFeature","allFeatures","selectedFeatureIds","featuresDialogPopupOpen","closePopover","_newByImport","_newByDigitising","faCircle","clearAllFeatures","faCheckCircle","selectAllFeatures","NewProjectDialog","handleNext","stepIndex","handlePrev","steps","loadingFeatures","finished","featuresDialogOpen","JSON","stringify","gotoStart","selected","closeFeaturesDialog","removeFeature","addFeature","ids","index","arr","Promise","resolve","reject","createNewProject","planning_grid_name","maxWidth","src_Metadata","src_PlanningUnitsDialog","getPlanningUnitGrids","changePU","openImportPlanningGridDialog","src_SelectCostFeatures","src_FeaturesDialog","updateSelectedFeatures","PlanningGridsDialog","selectedPlanningGrid","deletePlanningGrid","openNewPlanningGridDialog","planningGrid","country","isNaN","_area","renderCountry","renderArea","planningGrids","changePlanningGrid","domains","areakm2s","shapes","NewPlanningGridDialog","iso3","domain","shape","areakm2","countries","createNewPlanningUnitGrid","response","dropDownStyle","changeIso3","original_n","faArrowAltCircleUp","changeDomain","changeShape","changeAreaKm2","ShapefileUpload","active","assertThisInitialized","fileUpload","files","requestEndpoint","formData","FormData","filename","append","post","withCredentials","SEND_CREDENTIALS","finishedLoading","checkForErrors","setFilename","parameter","htmlFor","accept","mandatory","spin","UploadPlanningGridDialog","zipFilename","catch","ex","src_ShapefileUpload","setzipFilename","NewFeatureDialog","newFeatureSource","paddingTop","createNewFeature","CostsDialog","RunSettingsDialog","updateEnabled","renderEditable","runParams","openParametersDialog","updateRunParams","cellInfo","float","toConsumableArray","onFocus","setUpdateEnabled","showClumpingDialog","RendererSelector","changeValue","values","toUpperCase","concat","toString","selectionRenderer","autoWidth","handleChange","ColorSelector","getSwatch","disableHighlight","divWidth","colorDivs","borderColor","RENDERERS","COLORCODES","NUMCLASSES","TOPCLASSES","ClassificationDialog","dataBreaks","es6","x","stroke","summaryStats","strokeDasharray","dataKey","tick","offset","angle","fill","src_ColorSelector","changeColorCode","renderer","COLORCODE","src_RendererSelector","changeRenderer","CLASSIFICATION","changeNumClasses","changeShowTopClasses","MapContainer","mapCentre","mapZoom","attributionControl","interactive","on","RESULTS_LAYER_NAME","fill-outline-color","setCenter","setMapZoom","paintProperty","setPaintProperty","fillColor","oulineColor","remove","setZoom","selectBlm","blmValue","ClumpingDialog","parseFloat","isFinite","setBlmValue","clumpingRunning","rerunProjects","src_MapContainer","map0_paintProperty","parseBlmValue","blmValues","map1_paintProperty","map2_paintProperty","map3_paintProperty","map4_paintProperty","blmMin","changBlmMin","blmMax","changBlmMax","UploadFolder","folderUploadText","filesListed","directory","webkitdirectory","_addDirectory","UploadMarxanFiles","setZipFilename","src_UploadFolder","setPlanningGridName","ImportDialog","importProject","error","setLog","setSnackBar","src_UploadMarxanFiles","RunLogDialog","selectedRun","runningJobs","runLogs","runningLogs","status","refreshRunLogs","clearRunLogs","getRunLogs","run","faTimesCircle","faExclamationTriangle","endtime","renderUser","renderProject","renderEnded","renderRuntime","renderStatus","changeSelectedRun","stopRun","faRedoAlt","ServerDetailsDialog","system","server_version","ChangePasswordDialog","currentPassword","newPassword1","newPassword2","checkPassword","PASSWORD","passwordsDontMatch","setCurrentPassword","setNewPassword1","setNewPassword2","Popup","active_pu","xy","y","PopupFeatureList","accessToken","MARXAN_CLIENT_VERSION","packageJson","version","MARXAN_REGISTRY_FILENAME","DISABLE_LOGIN","PLANNING_UNIT_STATUSES","PU_LAYER_NAME","EDIT_LAYER_NAME","PUVSPR_LAYER_NAME","RESULTS_LAYER_FILL_OPACITY_ACTIVE","SHOW_PUVSPR_LAYER_TEXT","WDPA_FILL_LAYER_OPACITY","BACKUP_MAPBOX_BASEMAPS","provider","BACKUP_MARXAN_SERVERS","App","usersDialogOpen","featureMenuOpen","profileDialogOpen","aboutDialogOpen","helpDialogOpen","importDialogOpen","optionsDialogOpen","CostsDialogOpen","registerDialogOpen","clumpingDialogOpen","settingsDialogOpen","projectsDialogOpen","openInfoDialogOpen","newProjectDialogOpen","classificationDialogOpen","resendPasswordDialogOpen","NewPlanningGridDialogOpen","importPlanningGridDialogOpen","changePasswordDialogOpen","serverDetailsDialogOpen","planningGridsDialogOpen","NewFeatureDialogOpen","runLogDialogOpen","loggedIn","popup_point","snackbarOpen","snackbarMessage","puFeatures","helpMenuOpen","currentFeature","puvsprLayerText","featureDatasetName","featureDatasetDescription","featureDatasetFilename","projectFeatures","costs","planning_units","streamingLog","lng","lat","validateUser","getGlobalVariables","classyBrew","params","timeout","jsonp","endpoint","promise","method","msgCallback","_this4","ws","WebSocket","websocketEndpoint","onmessage","onopen","onerror","onclose","wasClean","showSnackbar","networkError","responseIsTimeoutOrEmpty","serverError","isServerError","isError","hasOwnProperty","trace","warning","logMessage","info","elapsedtime","MAPBOX_BASEMAPS","MARXAN_SERVERS","initialiseServers","_this5","location","hostname","protocol","port","hosts","server","getAllServerCapabilities","sort","promiseArray","i","getServerCapabilities","all","fetchJsonp","json","serverData","PERMITTED_DOMAINS","ENABLE_GUEST_USER","machine","MACHINE","client_version","MARXAN_SERVER_VERSION","NODE","processor","PROCESSOR","release","RELEASE","SYSTEM","VERSION","SERVER_NAME","SERVER_DESCRIPTION","normalisedData","puids","_this6","_get","_this7","_this8","login","_this9","LASTPROJECT","BASEMAP","resendEmail","_this10","closeResendPasswordDialog","_this11","_this12","usersCopy","some","deleteProjectsForUser","role","_this13","enabled","_this14","updateProjectParameter","parameters","_this15","removeKeys","appendToFormData","_post","newUserData","hidePopup","updateProjectParams","array","_this16","_this17","_this18","resetResults","runParameters","PLANNING_UNIT_NAME","changeTileset","MAPBOX_USER","feature_preprocessing","protected_area_intersections","previousIucnCategory","initialiseInterestFeatures","getResults","tmpArr","_this19","outFeatures","projectFeature","getArrayItem","addFeatureAttributes","getSelectedFeatureIds","runMarxanResponse","hideFeatureLayer","hideLayer","mapboxaccesstoken","_this20","closeRegisterDialog","_this21","interest_features","target_values","spf_values","_this22","silent","getProjects","_this23","newName","_this24","newDesc","_this25","_this26","private","_this27","startLogging","resetProtectedAreas","updateSpecFile","updatePuFile","updatePuvsprFile","startMarxanJob","runFinished","marxanStopped","_this28","spf","preprocessAllFeatures","closeFeatureMenu","preprocessFeature","preprocessed","_this29","_ws","wsMessageCallback","pu_count","occurs_in_planning_grid","_this30","_this31","runCompleted","ssoln","renderSolution","summary","Score","Cost","Planning_Units","Missing_Values","splice","updateProtectedAmount","mvbest","mvData","mvbestItemIndex","findIndex","mvItem","setFeaturesState","_this32","uploadId","createImportProject","importZippedShapefileAsPu","uploadFiles","upgradeProject","now","OUTPUTDIR","pollMapbox","file","slice","filepath","webkitRelativePath","split","uploadFile","s","_this33","getSolution","mv","_this34","paintProperties","getPaintProperties","projectName","clump","total","number","count","sampleSize","sample","ssolnLength","getssolncount","ceil","arrays","classification","_this35","getssolnSample","setSeries","brewCopy","newBrewColorScheme","setColorCode","setNumClasses","classify","getBreaks","_this36","rendererStateUpdated","_this37","_this38","_this39","sum","setRenderer","_this40","fill_color_expression","initialiseFillColorExpression","fill_outline_color_expression","visibleValue","classifyData","getColorInRange","attribute","expression","queryRenderedFeatures","point","puid","properties","vector_tile_properties","marxan_results","marxan_results_dict","mapLoaded","mapError","mapClick","_this41","addControl","ScaleControl","NavigationControl","mapboxDrawControls","MapboxDraw","displayControlsDefault","controls","polygon","trash","defaultMode","mouseMove","updateMapCentreAndZoom","polygonDrawn","getCenter","getZoom","getPUFeatureList","_this42","_this43","changeMapStyle","addSpatialLayers","_this44","setStyle","createMap","tilesetid","_this45","getMetadata","spatialLayerChanged","tilesetId","_this46","fetch","response2","zoomToBounds","removeSpatialLayers","bounds","filterWdpaByIucnCategory","_this47","beforeLayer","attribution","tilejson","maxzoom","tiles","getLayer","layout","visibility","line-color","line-width","stops","setLayoutProperty","layername","getLayoutProperty","layerId","minLng","minLat","maxLng","maxLat","bottom","pu_tab_inactive","reinstatePuvsprLayer","isLayerVisible","showLayer","previousResultsOpacity","renderPuEditLayer","getCanvas","onClickRef","moveStatusUp","onContextMenu","resetStatus","off","updatePuDatFile","_this48","getPuidsFromIucnCategory","updatePlanningUnits","param_name","changeStatus","direction","getStatusLevel","next_status","getNextStatusLevel","statuses","removePuidFromArray","addPuidToArray","_this49","status_level","getPlanningUnitsByStatus","getStatusPosition","nextStatus","removePuidsFromArray","appPuidsToPlanningUnits","from","Set","new_array","_this50","planning_unit_grid","uploadToMapBox","_this51","_this52","closeImportPlanningGridDialog","deletePlanningUnitGrid","_this53","records","mapbox_layer_name","_this54","uploadid","_this55","complete","finaliseDigitising","showClearSelectAll","zipname","newProps","element","_this56","removeControl","digitisedFeatures","_this57","feature_layer_loaded","toggleFeatureLayer","puvsprLayerId","toggleFeaturePuvsprLayer","newFeatures","_this58","createNewFeatureFromImport","createNewFeatureFromDigitising","_this59","newFeatureCreated","_this60","coords","geometry","coordinate","getInterestFeature","closeNewFeatureDialog","resetNewConservationFeature","_this61","addNewFeature","featuresCopy","_this62","removeFeatureFromAllFeatures","_this63","getMenuTextForPuvsprLayer","newFeature","_this64","layerName","getFeaturePlanningUnits","oid","_this65","line_color_expression","unselectItem","nums","extent","preventDefault","getCountries","getUsers","iucnCategory","_metadata","renderPAGridIntersections","getIndividualIucnCategories","filterExpr","match","setFilter","hidePALegend","showPALegend","retValue","intersections_by_category","getIntersections","getPuidsFromNormalisedData","preprocessProtectedAreas","intersections","_this66","clashingPuids","previousPuids","newPuids","getNewPuids","oldPuids","_this67","iucn_categories","BOUNDNAME","_this68","currentFiles","_this69","preprocessBoundaryLengths","createProjectGroupAndRun","deleteProjects","resetPaintProperties","_this70","runProjects","_this71","projectNames","_this72","projectsRun","loadOtherSolution","blmChanged","getBlmValues","min","increment","newRunParams","_this73","_this74","_this75","dangerouslySetInnerHTML","__html","MuiThemeProvider_default","src_LoginDialog","processLogin","openRegisterDialog","src_RegisterDialog","src_ResendPasswordDialog","src_UserMenu","src_HelpMenu","src_OptionsDialog","closeOptionsDialog","src_UsersDialog","closeUsersDialog","src_ProfileDialog","src_AboutDialog","closeAboutDialog","src_InfoPanel","src_ResultsPane","hideResults","src_FeatureInfoDialog","closeInfoDialog","src_Popup","src_PopupFeatureList","src_ProjectsDialog","closeProjectsDialog","src_NewProjectDialog","closeNewProjectDialog","src_NewPlanningGridDialog","closeNewPlanningGridDialog","src_UploadPlanningGridDialog","importPlanningUnitGrid","src_NewFeatureDialog","setNewFeatureDatasetName","setNewFeatureDatasetDescription","setNewFeatureDatasetFilename","src_PlanningGridsDialog","closePlanningGridsDialog","src_CostsDialog","closeCostsDialog","src_RunSettingsDialog","closeRunSettingsDialog","src_ClassificationDialog","closeClassificationDialog","src_ClumpingDialog","hideClumpingDialog","src_ImportDialog","closeImportDialog","src_RunLogDialog","closeRunLogDialog","src_ServerDetailsDialog","closeServerDetailsDialog","src_ChangePasswordDialog","closeChangePasswordDialog","Snackbar_default","closeSnackbar","src_MenuItemWithButton","error_outline_default","openInfoDialog","remove_default","removeFromProject","visibility_off_default","visibility_default","zoom_in_default","zoomToFeature","autorenew_default","preprocessSingleFeature","src_AppBar","isLocalhost","Boolean","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","src_App","URL","process","origin","addEventListener","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.d3d4185b.chunk.js","sourcesContent":["//gets the maximum number of classes in the brew color scheme\n//TODO: MOVE THIS TO THE GENERICFUNCTIONS.JS MODULE\nexport function getMaxNumberOfClasses(brew, colorCode) {\n\t//get the color scheme\n\tlet colorScheme = brew.colorSchemes[colorCode];\n\t//get the names of the properties for the colorScheme\n\tlet properties = Object.keys(colorScheme).filter(function(key) { return (key !== 'properties'); });\n\t//get them as numbers\n\tlet numbers = properties.map((property) => { return Number(property) });\n\t//get the maximum number of colors in this scheme\n\tlet colorSchemeLength = numbers.reduce(function(a, b) {\n\t\treturn Math.max(a, b);\n\t});\n\treturn colorSchemeLength;\n}\n","import React from 'react';\nimport Popover from 'material-ui/Popover';\nimport Menu from 'material-ui/Menu';\nimport MenuItem from 'material-ui/MenuItem';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faBookOpen} from '@fortawesome/free-solid-svg-icons';\nimport {faFish} from '@fortawesome/free-solid-svg-icons';\nimport {faThLarge} from '@fortawesome/free-solid-svg-icons';\nimport {faArrowAltCircleLeft} from '@fortawesome/free-solid-svg-icons';\nimport {faArrowAltCircleRight} from '@fortawesome/free-solid-svg-icons'; \nimport {faArrowAltCircleLeft as a} from '@fortawesome/free-regular-svg-icons';\nimport {faArrowAltCircleRight as b} from '@fortawesome/free-regular-svg-icons';\nimport {faQuestionCircle} from '@fortawesome/free-regular-svg-icons';\nimport {faUser} from '@fortawesome/free-solid-svg-icons';\nimport {faUsers} from '@fortawesome/free-solid-svg-icons';\nimport {faRunning} from '@fortawesome/free-solid-svg-icons';\nimport {Toolbar, ToolbarGroup, ToolbarSeparator} from 'material-ui/Toolbar';\n\nclass AppBar extends React.Component {\n\tconstructor (props){\n\t\tsuper(props);\n\t\tthis.state = {adminMenuOpen: false};\n\t}\n\t//opens the features dialog without the ability to add/remove features (i.e. different from the dialog that is opened from a project)\n  openFeaturesDialog(evt) {\n    this.props.openFeaturesDialog(false);\n }\n  //opens the admin menu\n  openAdminMenu(evt){\n  \tthis.setState({adminMenuOpen: true, menuAnchor: evt.currentTarget});\n }\n  //closes the admin menu\n closeAdminMenu(evt){\n  \tthis.setState({adminMenuOpen: false});\n }\n openUsersDialog(){\n\t\tthis.props.openUsersDialog();\n\t\tthis.closeAdminMenu();\n }\n openRunLogDialog(){\n\t\tthis.props.openRunLogDialog();\n\t\tthis.closeAdminMenu();\n }\n  render() {\n    return (\n      <React.Fragment>\n        <Toolbar style={{display: (this.props.open) ? 'block' : 'none', backgroundColor: 'rgb(0, 188, 212)', height: '36px', padding: '0px 18px'}} className={'appBar'}>\n        \t<ToolbarGroup>\n            <FontAwesomeIcon icon={faBookOpen} onClick={this.props.openProjectsDialog} title=\"Projects\" className={'appBarIcon'} style={{fontSize: '20px'}}/>\n            <FontAwesomeIcon icon={faFish} onClick={this.openFeaturesDialog.bind(this)} title=\"Features\" className={'appBarIcon'} style={{fontSize: '20px'}}/>\n            <FontAwesomeIcon icon={faThLarge} onClick={this.props.openPlanningGridsDialog.bind(this)} title=\"Planning grids\" className={'appBarIcon'} style={{fontSize: '20px'}}/>\n            <ToolbarSeparator style={{marginLeft:'12px', marginRight:'12px'}}/>\n            <FontAwesomeIcon style={{fontSize: '20px'}} icon={(this.props.infoPanelOpen) ? faArrowAltCircleLeft : a} onClick={this.props.toggleInfoPanel} title={(this.props.infoPanelOpen) ? \"Hide the project window\" : \"Show the project window\"} className={'appBarIcon'}/>\n            <FontAwesomeIcon style={{fontSize: '20px'}} icon={(this.props.resultsPanelOpen) ? faArrowAltCircleRight : b} onClick={this.props.toggleResultsPanel} title={(this.props.resultsPanelOpen) ? \"Hide the results window\" : \"Show the results window\"} className={'appBarIcon'} />\n            <ToolbarSeparator style={{marginLeft:'12px', marginRight:'12px'}}/>\n            <FontAwesomeIcon icon={faUser} onClick={this.props.showUserMenu} title={\"User: \" + this.props.user + \" (\" + this.props.userRole + \")\"} className={'appBarIcon'} style={{fontSize: '20px'}}/>\n            <div className={'adminDiv appBarIcon'} onClick={this.openAdminMenu.bind(this)} style={{display: (this.props.userRole === 'Admin') ? 'inline-block' : 'none'}}>Admin</div>\n\t          <Popover open={this.state.adminMenuOpen} anchorEl={this.state.menuAnchor} onRequestClose={this.closeAdminMenu.bind(this)}>\n\t            <Menu desktop={true} onMouseLeave={this.closeAdminMenu.bind(this)} menuItemStyle={{backgroundColor:'rgb(0, 188, 212)', color:'white'}} listStyle={{width:'120px',backgroundColor:'rgb(0, 188, 212)'}} selectedMenuItemStyle={{color:'rgb(24,24,24)'}}>\n\t              <MenuItem leftIcon={<FontAwesomeIcon style={{fontSize: '20px'}} icon={faUsers} color={'white'}/>} onClick={this.openUsersDialog.bind(this)} title={\"Manage Users\"}>Users</MenuItem>\n\t              <MenuItem leftIcon={<FontAwesomeIcon style={{fontSize: '20px'}} icon={faRunning} color={'white'}/>} onClick={this.openRunLogDialog.bind(this)} title={\"View Run Log and stop runs\"}>Run log</MenuItem>\n\t            </Menu>\n\t          </Popover>   \n            <FontAwesomeIcon icon={faQuestionCircle} onClick={this.props.showHelpMenu} title={\"Help and support\"} className={'appBarIcon'} style={{fontSize: '20px'}}/>\n          </ToolbarGroup>\n        </Toolbar>\n      </React.Fragment>\n      );\n }\n}\n\nexport default AppBar;\n","import React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nclass ToolbarButton extends React.Component {\n\trender() {\n\t\t//merge any user passed style\n\t\tlet _style1 = (this.props.style) ? this.props.style : {};\n\t\tlet _style2 = { display: (this.props.show !== false) ? 'inline-block' : 'none', marginLeft:'4px', marginRight:'4px',padding: '0px',minWidth: '30px',width: (this.props.label) ? '' :'24px', height: '24px'};\n\t\tObject.assign(_style1, _style2);\n\t\treturn (\n\t\t\t<RaisedButton \n\t\t\t\t{...this.props}  \n\t\t\t\tstyle={_style1}\n\t\t\t\toverlayStyle={{lineHeight:'24px',height:'24px'}}\n\t\t\t\tbuttonStyle={{lineHeight:'24px',height:'24px'}} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ToolbarButton;\n","import React from 'react';\nimport Dialog from 'material-ui/Dialog';\nimport ToolbarButton from './ToolbarButton';\nimport Sync from 'material-ui/svg-icons/notification/sync'; \nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n//properties can be:\n//contentWidth - the width of the content area\n//offsetX - the distance from the left edge (mutually exclusive with rightX)\n//rightX - the distance from the right edge (mutually exclusive with offsetX)\n//offsetY - the distance from the top\n//onOk - fired when the OK button is clicked\n//onCancel - fired when the Cancel button is clicked or when the dialog needs to be closed\n//showCancelButton - set to true to show the cancel button\n//actions - an array of components to add to the actions array in the dialog\n\nclass MarxanDialog extends React.Component {\n\trender() {\n\t\t//if the offsetX or rightX is set, then make this into a style\n\t\tlet offsetX = (this.props.offsetX) ? {marginLeft: this.props.offsetX + 'px', width: '400px'} : (this.props.rightX) ? {right: this.props.rightX + 'px', width: '400px', left:null} : {};\n\t\tlet offsetY = (this.props.offsetY) ? {marginTop: this.props.offsetY - 60 + 'px'} : {};\n\t\tlet style = Object.assign(offsetX, offsetY);\n\t\tlet cancelButton = (this.props.showCancelButton) ? <ToolbarButton label={(this.props.cancelLabel) ? this.props.cancelLabel : \"Cancel\"} primary={true} onClick={this.props.onCancel} disabled={this.props.cancelDisabled}/> : null;\n\t\tlet contentStyle = (this.props.contentStyle) ? this.props.contentStyle : (this.props.contentWidth) ? {width: this.props.contentWidth + 'px'} : {};\n\t\treturn (\n\t\t\t<Dialog      \n\t\t\t\t{...this.props} \n\t\t\t\tonRequestClose={this.props.onCancel}\n\t\t\t\toverlayStyle={(this.props.showOverlay) ? {display:'block'} : {display:'none'}}\n\t\t\t\ttitleClassName={'dialogTitleStyle'}\n\t\t\t\tcontentStyle={contentStyle} \n\t\t\t\ttitleStyle={(this.props.titleBarIcon) ? {marginLeft: '27px'} : null}\n\t\t\t\tclassName={'dialogGeneric'}\n\t\t\t\tstyle={style} \n\t\t\t\tactions={[\n\t\t\t\t\tthis.props.actions,\n\t\t\t\t\tcancelButton, \n\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\tlabel={(this.props.okLabel) ? this.props.okLabel : \"OK\"} \n\t\t\t\t\t\tprimary={true} \n\t\t\t\t\t\tonClick={this.props.onOk} \n\t\t\t\t\t\tdisabled={this.props.okDisabled}\n\t\t\t\t\t/>,\n\t\t\t\t]} \n\t\t\t\tchildren={[\n\t\t\t\t\t(this.props.titleBarIcon) ? <FontAwesomeIcon icon={this.props.titleBarIcon} style={{position: 'absolute', top: '18px', left: '24px'}} key=\"k1\"/> : null,\n\t\t\t\t\t<Sync className='spin' style={{display: (this.props.loading || this.props.showSpinner) ? \"inline-block\" : \"none\", color: 'rgb(255, 64, 129)', position: 'absolute', top: '13px', right: '14px'}} key={\"spinner\"}/>, this.props.children\n\t\t\t\t]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default MarxanDialog;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUnlink } from '@fortawesome/free-solid-svg-icons';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport MarxanDialog from './MarxanDialog';\nimport TextField from 'material-ui/TextField';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nclass LoginDialog extends React.Component {\n\thandleKeyPress(e) {\n\t\tif (e.nativeEvent.key === \"Enter\") this.props.onOk(); \n\t} \n\tselectServer(evt, key, value){\n\t\tthis.props.selectServer(this.props.marxanServers[key]);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MarxanDialog \n\t\t\t\t\t{...this.props} \n\t\t\t\t\tshowOverlay={true}\n\t\t\t\t\tokDisabled={(!this.props.user || !this.props.password || this.props.loading ||!this.props.marxanServer||(this.props.marxanServer&&this.props.marxanServer.offline)||(this.props.marxanServer&&!this.props.marxanServer.guestUserEnabled)) ? true : false} \n\t\t\t\t\tokLabel={(this.props.marxanServer&&!this.props.marxanServer.offline&&!this.props.marxanServer.corsEnabled&&this.props.marxanServer.guestUserEnabled) ? \"Login (Read-Only)\" : \"Login\"}\n\t\t\t\t\tshowCancelButton={true}\n\t\t\t\t\tcancelLabel={\"Register\"}\n\t\t\t\t\tcancelDisabled={((this.props.marxanServer===undefined) || this.props.loading || (this.props.marxanServer&&this.props.marxanServer.offline) || (this.props.marxanServer&&!this.props.marxanServer.corsEnabled)) ? true : false} \n\t\t\t\t\tcontentWidth={358}\n\t\t\t\t\toffsetY={200}\n\t\t\t\t\tchildren={[\n\t\t\t\t\t<div key=\"21\">\n\t\t\t\t\t\t<SelectField  \n\t\t\t\t\t\t\tfloatingLabelText={'Marxan Server'} \n\t\t\t\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\t\t\t\tunderlineShow={false}\n\t\t\t\t\t\t\tmenuItemStyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\tstyle={{width:'320px'}}\n\t\t\t\t\t\t\tvalue={this.props.marxanServer&&this.props.marxanServer.name} \n\t\t\t\t\t\t\tonChange={this.selectServer.bind(this)}\n\t\t\t\t\t\t\tchildren= {this.props.marxanServers.map((item)=> {\n\t\t\t\t\t\t\t\t//if the server is offline - just put that otherwise: if CORS is enabled for this domain then it is read/write otherwise: if the guest user is enabled then put the domain and read only otherwise: put the domain and guest user disabled\n\t\t\t\t\t\t\t\tlet text = (item.offline) ? item.name  : (item.corsEnabled) ? item.name : (item.guestUserEnabled) ? item.name : item.name + \" (Guest user disabled)\";\n\t\t\t\t\t\t\t\treturn  <MenuItem \n\t\t\t\t\t\t\t\t\tvalue={item.name} \n\t\t\t\t\t\t\t\t\tkey={item.name} \n\t\t\t\t\t\t\t\t\tprimaryText={text} \n\t\t\t\t\t\t\t\t\tstyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\t\tinnerDivStyle={{padding:'0px 10px 0px 52px'}}\n\t\t\t\t\t\t\t\t\tleftIcon={(item.offline) ? <FontAwesomeIcon style={{height: '12px', marginTop:'5px'}} icon={faUnlink}/> : (item.corsEnabled) ? null : <FontAwesomeIcon style={{height: '12px', marginTop:'5px'}} icon={faLock}/>}\n\t\t\t\t\t\t\t\t\ttitle={(item.offline) ? item.host + \" (offline)\\n\" + item.description  : (item.corsEnabled) ? item.host + \"\\n\" + item.description : (item.guestUserEnabled) ? item.host + \" (read-only)\\n\" + item.description : item.host + \" (guest user disabled)\\n\" + item.description}\n\t\t\t\t\t\t\t\t/>;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div style={{height:'124px'}} id=\"logindiv\" key=\"logindiv\">\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tfloatingLabelText=\"Username\" \n\t\t\t\t\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\t\t\t\t\tonChange = {(event, value)=>this.props.changeUserName(value)} \n\t\t\t\t\t\t\t\tinputStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\t\tvalue={this.props.user} \n\t\t\t\t\t\t\t\tclassName='loginUserField' \n\t\t\t\t\t\t\t\tdisabled = {(this.props.loading||(this.props.marxanServer&&!this.props.marxanServer.corsEnabled)) ? true : false} \n\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress.bind(this)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span><TextField \n\t\t\t\t\t\t\t\tfloatingLabelText=\"Password\" \n\t\t\t\t\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\t\tonChange = {(event, value)=>this.props.changePassword(value)} \n\t\t\t\t\t\t\t\tvalue={this.props.password} \n\t\t\t\t\t\t\t\tclassName='loginUserField' \n\t\t\t\t\t\t\t\tdisabled = {this.props.loading||(this.props.marxanServer&&!this.props.marxanServer.corsEnabled) ? true : false} \n\t\t\t\t\t\t\t\tonKeyPress={this.handleKeyPress.bind(this)}\n\t\t\t\t\t\t\t/></span>\n\t\t\t\t\t\t\t<span onClick={this.props.openResendPasswordDialog.bind(this)} className=\"forgotLink\" title=\"Click to resend password\">Forgot</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t]} \n\t\t\t\t\tonRequestClose={this.props.onOk} \n\t\t\t\t\ttitle=\"Login\" \n\t\t\t\t\tmodal={true} \n\t\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default LoginDialog;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport TextField from 'material-ui/TextField';\nimport FontAwesome from 'react-fontawesome';\nimport MapboxClient from 'mapbox';\n\nclass RegisterDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { validForm: false, user: undefined, name: undefined, email: undefined, mb_tk: \"sk.eyJ1IjoiYmxpc2h0ZW4iLCJhIjoiY2piNm1tOGwxMG9lajMzcXBlZDR4aWVjdiJ9.Z1Jq4UAgGpXukvnUReLO1g\", validEmail: true, mb_tk_err: '' };\n\t}\n\t//\n\tcreateNewUser() {\n\t\t//check the required FIELDS\n\t\ttry {\n\t\t\tthis.validateEmail();\n\t\t\t// this.validateMapboxPublicKey(); //currently not working!!!\n\t\t}\n\t\t//any errors will not create a new user\n\t\tcatch (err) {\n\t\t\t//mapbox access token is invalid\n\t\t\tswitch (err.message) {\n\t\t\t\tcase \"could not determine account from provided accessToken\":\n\t\t\t\t\tthis.setState({ mb_tk_err: \"Invalid Mapbox Access Token\" });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// code\n\t\t\t}\n\t\t\tif (err.message === \"could not determine account from provided accessToken\") {\n\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t//create a new user\n\t\tthis.props.onOk(this.state.user, this.state.password, this.state.name, this.state.email, this.state.mb_tk);\n\t}\n\n\t//TODO: MOVE THIS TO THE GENERICFUNCTIONS.JS MODULE\n\tvalidateEmail() {\n\t\tvar re = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tlet valid = re.test(String(this.state.email).toLowerCase());\n\t\tthis.setState({ validEmail: valid });\n\t\tif (!valid) {\n\t\t\tthrow new Error(\"Invalid email address\");\n\t\t}\n\t}\n\n\tvalidateMapboxPublicKey() {\n\t\t//set the default state for the access token as valid\n\t\tthis.setState({ mb_tk_err: '' });\n\t\t//the following line will throw an error if it is not a valid mapbox access token\n\t\tlet client = new MapboxClient(this.state.mb_tk);\n\t\t//the following line will throw an error if the token does not have the scopes to list tilesets\n\t\tclient.listTilesets((err, tilesets) => {\n\t\t\tif (err) {\n\t\t\t\tthis.setState({ mb_tk_err: \"Access Token cannot list and/or upload tilesets\" });\n\t\t\t}\n\t\t});\n\t\t//the following line will throw an error if the token does not have the scopes to upload tilesets\n\t\tclient.createUpload({\n\t\t\ttileset: [\"test\", 'test'].join('.'), \n\t\t\turl: \"irrelevant\"\n\t\t}, (err, upload) => {\n\t\t\tif (err.message === \"Not Found\") { //this error occurs if the access token does not have the scope to upload tilesets\n\t\t\t\tthis.setState({ mb_tk_err: \"Access Token cannot list and/or upload tilesets\" });\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\tlet c = [<div key=\"RegisterDialogDiv\">\n\t\t\t\t\t<TextField floatingLabelText=\"Username\" floatingLabelFixed={true} onChange = {(event,newValue) => this.setState({user:newValue})}/>\n\t\t\t\t\t<TextField floatingLabelText=\"Password\" floatingLabelFixed={true} type=\"password\" onChange = {(event,newValue) => this.setState({password:newValue})}/>\n\t\t\t\t\t<TextField floatingLabelText=\"Full name\" floatingLabelFixed={true} onChange = {(event,newValue) => this.setState({name:newValue})}/>\n\t\t\t\t\t<TextField floatingLabelText=\"Email address\" floatingLabelFixed={true} errorText={this.state.validEmail ?  '' : \"Invalid email address\"} onChange = {(event,newValue) => this.setState({email:newValue})}/>\n\t\t\t\t\t<span>\n\t\t\t\t\t<TextField floatingLabelText=\"Mapbox Access Token\" floatingLabelFixed={true} type=\"password\" errorText={this.state.mb_tk_err} onChange = {(event,newValue) => this.setState({mb_tk:newValue})} value=\"jdjdsdmV6In0.lzQobKMCqES6j7x0bpif6w\"/>\n\t\t\t\t\t</span><span>\n\t\t\t\t\t<FontAwesome name='question-circle' className=\"mapboxHelp\" title=\"If you have a Mapbox account you can enter an access token here to be able to access your own tilesets. Otherwise, leave it as it is.\"/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>]\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\tcontentWidth={358}\n\t\t\t\tonOk={this.createNewUser.bind(this)}\n\t\t\t\tokDisabled={!(this.state.user && this.state.password && this.state.name && this.state.email && this.state.mb_tk) || this.props.loading} \n\t\t\t\tshowCancelButton={true}\n\t\t\t\tcancelDisabled={this.props.loading} \n\t\t\t\ttitle=\"Register\" \n\t\t\t\tchildren={c} \n\t\t\t\tonRequestClose={this.props.onCancel} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default RegisterDialog;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport TextField from 'material-ui/TextField';\n\nclass ResendPasswordDialog extends React.Component {\n \n\thandleKeyPress(e) {\n\t\tif (e.nativeEvent.key === \"Enter\") this.props.resendPassword();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MarxanDialog \n\t\t\t\t\t{...this.props} \n\t\t\t\t\tcontentWidth={358}\n\t\t\t\t\tshowCancelButton={true}\n\t\t\t\t\tokDisabled={!this.props.email || this.props.loading}\n\t\t\t\t\tcancelDisabled={this.props.resending}\n\t\t\t\t\ttitle=\"Resend password\" \n\t\t\t\t\tchildren={[<div key=\"resendDiv\">\n\t\t\t\t\t\t<TextField floatingLabelText=\"email address\" floatingLabelFixed={true} onChange = {(event, value)=>this.props.changeEmail(value)}  value={this.props.email} className='loginUserField' disabled = {this.props.loading} onKeyPress={this.handleKeyPress.bind(this)}/>\n\t\t\t\t</div>]}\n\t\t\t\t\tonRequestClose={this.props.onCancel} \n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default ResendPasswordDialog;\n","import React from 'react';\nimport Menu from 'material-ui/Menu'; \nimport MenuItem from 'material-ui/MenuItem';\nimport Popover from 'material-ui/Popover';\nimport LogOut from 'material-ui/svg-icons/action/exit-to-app';\nimport {white} from 'material-ui/styles/colors';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport { faUserLock } from '@fortawesome/free-solid-svg-icons';\n\nclass UserMenu extends React.Component { \n\trender() { \n\t\treturn (\n\t\t\t<React.Fragment> \n\t\t\t\t<Popover\n\t\t\t\t\topen={this.props.userMenuOpen} \n\t\t\t\t\tanchorEl={this.props.menuAnchor}\n\t\t\t\t\tanchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\n\t\t\t\t\ttargetOrigin={{horizontal: 'left', vertical: 'top'}}\n\t\t\t\t\tonRequestClose={this.props.hideUserMenu}\n\t\t\t\t>\n\t\t\t\t\t<Menu desktop={true} onMouseLeave={this.props.hideUserMenu} menuItemStyle={{backgroundColor:'rgb(0, 188, 212)', color:'white'}} listStyle={{width:'120px',backgroundColor:'rgb(0, 188, 212)'}} selectedMenuItemStyle={{color:'rgb(24,24,24)'}}>\n\t\t\t\t\t\t<MenuItem primaryText={this.props.user + \" (\" + this.props.userRole + \")\"} style={{marginLeft:'40px'}}/>\n\t\t\t\t\t\t<MenuItem style={{display: (this.props.userRole !== \"ReadOnly\") ? 'block' : 'none'}} primaryText=\"Settings\" onClick={this.props.openOptionsDialog.bind(this)} leftIcon={<FontAwesomeIcon style={{fontSize: '20px', marginBottom: '7px'}} icon={faCog} color={'white'}/>}/>\n\t\t\t\t\t\t<MenuItem style={{display: (this.props.userRole !== \"ReadOnly\") ? 'block' : 'none'}} primaryText=\"Profile\" onClick={this.props.openProfileDialog} leftIcon={<FontAwesomeIcon style={{fontSize: '20px', marginBottom: '7px'}} icon={faEdit} color={'white'}/>}/>\n\t\t\t\t\t\t<MenuItem style={{display: (this.props.userRole !== \"ReadOnly\") ? 'block' : 'none'}} primaryText=\"Change password\" onClick={this.props.openChangePasswordDialog} leftIcon={<FontAwesomeIcon style={{fontSize: '20px', marginBottom: '7px'}} icon={faUserLock} color={'white'}/>}/>\n\t\t\t\t\t\t<MenuItem primaryText=\"Log out\" onClick={this.props.logout.bind(this)} leftIcon={<LogOut color={white}/>}/> \n\t\t\t\t\t</Menu>\n\t\t\t\t</Popover>\n\t\t\t</React.Fragment>\n\t\t); \n\t}\n}\n\nexport default UserMenu;\n","import React from 'react';\nimport Menu from 'material-ui/Menu';\nimport MenuItem from 'material-ui/MenuItem';\nimport Popover from 'material-ui/Popover';\nimport Help from 'material-ui/svg-icons/action/help-outline';\nimport Info from 'material-ui/svg-icons/action/info';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {white} from 'material-ui/styles/colors';\nimport {faServer} from '@fortawesome/free-solid-svg-icons';\n\nclass HelpMenu extends React.Component {\n\topenDocumentation(){\n\t\twindow.open(\"https://andrewcottam.github.io/marxan-web/documentation/docs_overview.html\");\n\t}\n  render() {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Popover\n\t\t\t\topen={this.props.open} \n\t\t\t\tanchorEl={this.props.menuAnchor}\n\t\t\t\tanchorOrigin={{horizontal: 'left', vertical: 'bottom'}}\n\t\t\t\ttargetOrigin={{horizontal: 'left', vertical: 'top'}}\n\t\t\t\tonRequestClose={this.props.hideHelpMenu}\n\t\t\t\t>\n\t\t\t\t<Menu desktop={true} onMouseLeave={this.props.hideHelpMenu} menuItemStyle={{backgroundColor:'rgb(0, 188, 212)', color:'white'}} listStyle={{width:'120px',backgroundColor:'rgb(0, 188, 212)'}} selectedMenuItemStyle={{color:'rgb(24,24,24)'}} width={'102px'}>\n\t\t\t\t\t<MenuItem primaryText=\"Server Details\" onClick={this.props.openServerDetailsDialog} leftIcon={<FontAwesomeIcon style={{height: '16px', marginTop:'4px',fontSize: '18px'}} icon={faServer} color={'white'}/>}/>\n\t\t\t\t\t<MenuItem primaryText=\"Documentation\" onClick={this.openDocumentation.bind(this)} leftIcon={<Help color={white}/>}/>\n\t\t\t\t\t<MenuItem primaryText=\"About\" onClick={this.props.openAboutDialog} leftIcon={<Info color={white}/>}/>\n\t\t\t\t</Menu>\n\t\t\t</Popover>\n\t\t</React.Fragment>\n\t);\n  }\n}\n\nexport default HelpMenu;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nclass OptionsDialog extends React.Component {\n\t\tconstructor(props){\n\t\t\t\tsuper(props);\n\t\t\t\tthis.state = {saveEnabled: false};\n\t\t\t\tthis.options = {}; \n\t\t}\n\t\tsetOption(key, value){\n\t\t\t\tthis.setState({saveEnabled: true});\n\t\t\t\tthis.options[key] = value;\n\t\t}\n\t\tupdateOptions(){\n\t\t\t\tthis.props.saveOptions(this.options);\n\t\t\t\tthis.props.onOk();\n\t\t}\n\t\tchangeBasemap(event, key, payload){\n\t\t\t\tvar basemap = this.props.basemaps[key];\n\t\t\t\tthis.props.changeBasemap(basemap);    \n\t\t\t\tthis.setOption(\"BASEMAP\", basemap.name);\n\t\t}\n\t\t\n\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t\t<MarxanDialog \n\t\t\t\t\t\t\t\t{...this.props} \n\t\t\t\t\t\t\t\tcontentWidth={370}\n\t\t\t\t\t\t\t\toffsetY={80}\n\t\t\t\t\t\t\t\tshowCancelButton={true}\n\t\t\t\t\t\t\t\tonOk={this.updateOptions.bind(this)}\n\t\t\t\t\t\t\t\ttitle=\"Settings\" \n\t\t\t\t\t\t\t\tchildren={\n\t\t\t\t\t\t\t\t\t\t<div key=\"k14\">\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectField \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloatingLabelText={'Mapbox basemap style'} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderlineShow={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenuItemStyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width:'260px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.props.basemap} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.changeBasemap.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchildren= {this.props.basemaps.map((item)=> {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn  <MenuItem \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.name} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.name} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryText={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={item.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox label=\"Show planning unit popup\" defaultChecked={this.props.userData.SHOWPOPUP} onCheck={(e, isInputChecked)=>this.setOption(\"SHOWPOPUP\",isInputChecked)} style={{fontSize:'13px'}}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n}\n\nexport default OptionsDialog;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport TextField from 'material-ui/TextField';\nimport FontAwesome from 'react-fontawesome';\n\nclass ProfileDialog extends React.Component {\n\tconstructor(props) { \n\t\tsuper(props);\n\t\tthis.state = { updated: false, validEmail: true };\n\t} \n\thandleKeyPress(e) {\n\t\tif (e.nativeEvent.key === \"Enter\") this.updateUser();\n\t}\n\tupdateState(name, value) { \n\t\tthis.setState({\n\t\t\t[name]: value, updated: true });\n\t}\n\tvalidateEmail() {\n\t\tvar re = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tlet email = this.state.EMAIL ? this.state.EMAIL : this.props.userData.EMAIL;\n\t\tlet valid = re.test(String(email).toLowerCase());\n\t\tthis.setState({ validEmail: valid });\n\t\tif (!valid) {\n\t\t\tthrow new Error(\"Invalid email address\");\n\t\t}\n\t}\n\tupdateUser() {\n\t\ttry {\n\t\t\tthis.validateEmail();\n\t\t}\n\t\t//any errors will not create a new user\n\t\tcatch (err) {\n\t\t\treturn;\n\t\t}\n\t\tthis.props.updateUser(this.state);\n\t\tthis.closeProfileDialog();\n\t}\n\tcloseProfileDialog() {\n\t\tthis.props.onOk();\n\t\tthis.setState({ updated: false, validEmail: true });\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props}  \n\t\t\t\tcontentWidth={330}\n\t\t\t\toffsetY={80}\n\t\t\t\tonCancel={this.closeProfileDialog.bind(this)}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\tonOk={this.updateUser.bind(this)}\n\t\t\t\ttitle=\"Profile\" \n\t\t\t\tchildren={\n\t\t\t\t\t<div key=\"k15\">\n\t\t\t\t\t\t<TextField floatingLabelText=\"Full name\" floatingLabelFixed={true} onChange = {(event,newValue) => this.updateState(\"NAME\",newValue)} defaultValue ={this.props.userData && this.props.userData.NAME} onKeyPress={this.handleKeyPress.bind(this)} floatingLabelShrinkStyle={{fontSize:'16px'}} floatingLabelFocusStyle={{fontSize:'16px'}} style={{fontSize:'13px'}} />\n\t\t\t\t\t\t<TextField floatingLabelText=\"Email address\" floatingLabelFixed={true} errorText={this.state.validEmail ?  '' : \"Invalid email address\"} onChange = {(event,newValue) => this.updateState(\"EMAIL\",newValue)} defaultValue={this.props.userData && this.props.userData.EMAIL} onKeyPress={this.handleKeyPress.bind(this)} floatingLabelShrinkStyle={{fontSize:'16px'}} floatingLabelFocusStyle={{fontSize:'16px'}} style={{fontSize:'13px'}} />\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<TextField floatingLabelText=\"Mapbox Access Token\" floatingLabelFixed={true} type=\"password\" errorText={this.state.mapboxAccessTokenError} onChange = {(event,newValue) => this.updateState(\"MAPBOXACCESSTOKEN\",newValue)} defaultValue={this.props.userData && this.props.userData.MAPBOXACCESSTOKEN} onKeyPress={this.handleKeyPress.bind(this)}/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<FontAwesome name='question-circle' className=\"mapboxHelp\" title=\"If you have a Mapbox account you can enter an access token here to be able to access your own tilesets. Otherwise, leave it as it is.\"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ProfileDialog;\n","import React from 'react';\n// import { faBookOpen } from '@fortawesome/free-solid-svg-icons';\nimport SelectField from \"material-ui/SelectField\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport ToolbarButton from './ToolbarButton';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\nimport Checkbox from 'material-ui/Checkbox';\n\nlet USER_ROLES = [\"User\",\"ReadOnly\",\"Admin\"];\nclass UsersDialog extends React.Component { \n\t\t\tconstructor(props) {\n\t\t\t\t\tsuper(props);\n\t\t\t\t\tthis.state = { selectedUser: undefined };\n\t\t\t}\n\t\t\tchangeRole(user, oldRole, evt, key, newRole){\n\t\t\t\tthis.props.changeRole(user, newRole);\n\t\t\t}\n\t\t\t_delete() {\n\t\t\t\t\tthis.props.deleteUser(this.state.selectedUser.user);\n\t\t\t\t\tthis.setState({ selectedUser: false });\n\t\t\t}\n\t\t\tchangeUser(event, user) {\n\t\t\t\t\tthis.setState({ selectedUser: user });\n\t\t\t}\n\t\t\tcloseDialog() {\n\t\t\t\t\tthis.setState({ selectedUser: undefined });\n\t\t\t\t\tthis.props.onOk();\n\t\t\t}\n\t\t\trender() {\n\t\t\t\t\tif (this.props.users) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<MarxanDialog \n\t\t\t\t\t\t\t{...this.props} \n\t\t\t\t\t\t\tonOk={this.closeDialog.bind(this)}\n\t\t\t\t\t\t\tonRequestClose={this.closeDialog.bind(this)}\n\t\t\t\t\t\t\tshowCancelButton={true}\n\t\t\t\t\t\t\tautoDetectWindowHeight={false}\n\t\t\t\t\t\t\tbodyStyle={{ padding:'0px 24px 0px 24px'}}\n\t\t\t\t\t\t\ttitle=\"Users\"   \n\t\t\t\t\t\t\tchildren={\n\t\t\t\t\t\t\t\t\t<React.Fragment key=\"k2\">\n\t\t\t\t\t\t\t\t\t\t\t<div style={{marginBottom:'5px'}}>There are a total of {this.props.users.length} users:</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"usersTable\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(this.props.users&&this.props.users.length>0) ? \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpageSize={this.props.users.length}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'projectsReactTable'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata={this.props.users}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthisRef={this} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns={[{ Header: 'User', accessor: 'user', width: 90, headerStyle: { 'textAlign': 'left' } }, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ Header: 'Name', accessor: 'NAME', width: 200, headerStyle: { 'textAlign': 'left' } }, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ Header: 'email', accessor: 'EMAIL', width: 250, headerStyle: { 'textAlign': 'left' } }, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ Header: 'Role', accessor: 'ROLE', width: 180, headerStyle: { 'textAlign': 'left' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCell: row => \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(row.original.user === 'guest') ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>ReadOnly</div> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: 130,height: 15,lineHeight: 15,position: 'relative',fontSize: '12px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenuStyle={{position: 'absolute',top: -22}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderlineStyle={{position: 'relative',top: 20}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonStyle={{lineHeight:'24px',height:'24px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={row.original.ROLE}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.changeRole.bind(this, row.original.user, row.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{USER_ROLES.map(item => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryText={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectField>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetTrProps={(state, rowInfo, column) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: (rowInfo.original.user === (state.thisRef.state.selectedUser&&state.thisRef.state.selectedUser.user)) ? \"aliceblue\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (USER_ROLES.indexOf(e.target.textContent)===-1) state.thisRef.changeUser(e, rowInfo.original);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:null}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"projectsToolbar\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faTrashAlt}  color='rgb(255, 64, 129)'/>} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Delete user\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.selectedUser || this.props.loading || (this.props.user === this.state.selectedUser.user)||(this.state.selectedUser.user === 'guest')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this._delete.bind(this)} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\"Delete\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enable guest user\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{fontSize:'12px',paddingLeft: '10px', width:'200px',display:'inline-block',verticalAlign:'bottom'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.toggleEnableGuestUser}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.props.guestUserEnabled}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t} \n\t\t\t\t\t/>\n\t\t\t);\n\t\t}else{\n\t\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default UsersDialog;\n","import React from \"react\";\nimport MarxanDialog from \"./MarxanDialog\";\nimport iucn from './iucn.png';\nimport wcmc from './wcmc.png';\nimport mapbox_small from './mapbox_small.png';\nimport biopama_small from './biopama_small.png';\nimport jrc_logo_color_small from './jrc_logo_color_small.png';\n\nclass AboutDialog extends React.Component {\n  render() {\n    return (\n      <MarxanDialog\n        {...this.props}\n        contentWidth={500}\n        offsetY={80}\n        title=\"About\"\n        children={\n          <div key=\"k5\">\n            <div className={\"aboutTitle\"}>Software development</div>\n            <div className={\"aboutText\"}>\n              Marxan Web v{this.props.marxanClientReleaseVersion} Feedback:{\" \"}\n              <a href=\"mailto:andrew.cottam@ec.europa.eu\" className=\"email\">\n                Andrew Cottam\n              </a>\n            </div>\n            <div className={\"aboutText\"}>\n              Marxan 2.4.3 - Ian Ball, Matthew Watts &amp; Hugh Possingham\n            </div>\n            <div className={\"aboutTitle\"}>Data providers</div>\n            <div className={\"aboutText\"} style={{marginTop:'10px'}}>\n              Uses data from the World Database of Protected Areas. IUCN and UNEP-WCMC (2017), The World Database on Protected Areas (WDPA) August 2017, Cambridge, UK: UNEP-WCMC. Available at: <a href='http://www.protectedplanet.net'>www.protectedplanet.net</a>\n            </div>\n            <div className={\"aboutTitle\"}>Funding and in-kind contributions</div>\n            <div className={\"aboutText\"} style={{marginTop:'10px'}}>\n              Marxan Web funded by the BIOPAMA project of the European Commission. With in-kind contributions from Mapbox. \n            </div>\n            <div className={\"aboutText\"} style={{marginTop:'10px'}}>\n              Marxan funded by a range of donors - see <a href='http://marxan.org/credits.html' target='_blank' rel=\"noopener noreferrer\">here</a>.\n            </div>\n           <div className={\"logos\"}>\n            <a href=\"https://www.iucn.org/\">\n\t            <img\n\t              src={iucn}\n\t              alt=\"IUCN logo\"\n\t              title={\"IUCN logo\"}\n\t              className={\"aboutLogo\"}\n\t            />\n            </a>\n            <a href=\"https://www.unep-wcmc.org/\">\n\t            <img\n\t              src={wcmc}\n\t              alt=\"UN Environment WCMC logo\"\n\t              title={\"UN Environment WCMC logo\"}\n\t              className={\"aboutLogo\"}\n\t            />\n            </a>\n            <a href=\"https://www.biopama.org\">\n\t            <img\n\t              src={biopama_small}\n\t              alt=\"BIOPAMA logo\"\n\t              title={\"BIOPAMA logo\"}\n\t              className={\"aboutLogo\"}\n\t            />\n\t            </a>\n\t            <a href=\"https://ec.europa.eu/jrc/en\">\n\t            <img\n\t              src={jrc_logo_color_small}\n\t              alt=\"Joint Research Centre of the European Commission logo\"\n\t              title={\"Joint Research Centre of the European Commission logo\"}\n\t              className={\"aboutLogo\"}\n\t            />\n\t            </a>\n              <a href=\"https://www.mapbox.com\">\n  \t            <img\n  \t              src={mapbox_small}\n  \t              alt=\"Mapbox logo\"\n  \t              title={\"Mapbox logo\"}\n  \t              className={\"aboutLogo\"}\n  \t            />\n              </a>\n            </div>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nexport default AboutDialog;\n","import React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\n\nclass MenuItemWithButton extends React.Component {\n\trender() {\n\t\treturn <MenuItem className={'smallMenuItem'} {...this.props} innerDivStyle={{paddingLeft:'40px'}}/>;\n\t}\n}\n\nexport default MenuItemWithButton;\n","import * as React from 'react';\nimport { blue300} from 'material-ui/styles/colors';\n\nclass TargetIcon extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { editing: false, localTargetValue: undefined };\n\t}\n\tonClick(event) {\n\t\tthis.startEditing();\n\t}\n\tisNumber(str) {\n\t\tvar pattern = /^\\d+$/;\n\t\treturn pattern.test(str); // returns a boolean\n\t}\n\tonChange(event) {\n\t\tlet newValue = event.nativeEvent.target.value;\n\t\tif (newValue > 100) return;\n\t\tif (this.isNumber(newValue) || (newValue === \"\")) {\n\t\t\tnewValue = (newValue === \"\") ? 0 : Number(newValue); \n\t\t\tthis.setState({localTargetValue:newValue});\n\t\t}\n\t}\n\tonKeyPress(event) {\n\t\tif (event.nativeEvent.key === \"Enter\") this.setState({ editing: false }); //will trigger the onBlur event of the input box\n\t}\n\tstartEditing() {\n\t\tthis.setState({ editing: true, localTargetValue: this.props.target_value });\n\t\tdocument.getElementById(\"input_\" + this.props.interestFeature.id).focus();\n\t\tdocument.getElementById(\"input_\" + this.props.interestFeature.id).select();\n\t}\n\tstopEditing() {\n\t\tthis.setState({ editing: false });\n\t\tthis.props.updateTargetValue(this, this.state.localTargetValue); \n\t}\n\trender() {\n\t\tlet backgroundColor = (this.props.targetStatus === \"Does not occur in planning area\") ? \"lightgray\" : (this.props.targetStatus === \"Unknown\") ? \"white\" : (this.props.targetStatus === \"Target achieved\") ? \"white\" : \"rgb(255, 64, 129)\";\n\t\tlet fontColor = (this.props.targetStatus === \"Does not occur in planning area\") ? \"white\" : (this.props.targetStatus === \"Unknown\") ? blue300 : (this.props.targetStatus === \"Target achieved\") ? blue300 : \"white\";\n\t\t return (\n\t\t\t<div onClick={(this.props.userRole === \"ReadOnly\") ? null : this.onClick.bind(this)} style={{position:'absolute',left:'8px',top:'17px', display: (this.props.visible) ? 'block' : 'none'}}>\n\t\t\t\t<div title={this.props.targetStatus} style={{'display': (this.state.editing) ? 'none' : 'inline-flex', backgroundColor: backgroundColor, size:'0', color:fontColor, userSelect:'none', alignItems:'center', justifyContent:'center', fontSize:'12px', borderRadius:'50%', height:'33px', width:'33px', left:'8px', border:'1px lightgray solid'}}\n\t\t\t\t>{this.props.target_value}%</div>\n\t\t\t\t<div style={{'display': (this.state.editing) ? 'inline-flex' : 'none',size:'30','backgroundColor':'#2F6AE4','userSelect':'none','alignItems':'center','justifyContent':'center','borderRadius':'50%',height:'33px',width:'33px',left:'8px'}}>\n\t\t\t\t\t<input id={\"input_\" + this.props.interestFeature.id} onBlur={this.stopEditing.bind(this)} onKeyPress={this.onKeyPress.bind(this)} onChange={this.onChange.bind(this)} style={{'backgroundColor':'transparent','border':'0px',height:'33px',width:'33px','fontSize':'13px',display:'inline-flex','textAlign':'center',color:blue300}} value={this.state.localTargetValue}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TargetIcon;\n","import * as React from 'react';\n\nclass LinearGauge extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t//alwaysShowPercent - set to false then if the percent protected is smaller than 30 pixels it will not be shown\n\t\t//showUnprotectedPercent - set to false to not show the unprotected percent\n\t\t//targetAsLine - shows the target as a line - otherwise it is a grey rectangle\n\t\tthis.state = { alwaysShowPercent: false, showUnprotectedPercent: false,targetAsLine:false };\n\t} \n\trender() {\n\t\tlet protectedWidth = 0; \n\t\tlet protectedHidden = true; \n\t\t//the scaledWidth is the desired width of the LinearGauge\n\t\tlet scaleFactor = this.props.scaledWidth / 100;\n\t\t//the number of pixels from the left hand side to offset the target line\n\t\tlet targetPxOffset = (this.props.target_value * scaleFactor);\n\t\t//the number of pixels from the left hand side to the protected line\n\t\tprotectedWidth = Math.round((this.props.protected_percent === -1) ? 0 : (this.props.protected_percent * scaleFactor));\n\t\t//get whether or not the % protected should be visible or hidden\n\t\tprotectedHidden = (protectedWidth < 26 && !(this.state.alwaysShowPercent));\n\t\t//get the width of the target shortfall\n\t\tlet targetShortfallWidth = (this.props.protected_percent >= this.props.target_value) ? 0 : (targetPxOffset - protectedWidth);\n\t\t//get the width of the rest of the bar\n\t\tlet unprotectedWidth = (100 * scaleFactor) - protectedWidth - targetShortfallWidth;\n\t\treturn (\n\t\t\t<div className={(this.props.visible) ? 'linearGauge' : 'linearGaugeNoBorder'} style={{opacity: (this.props.protected_percent === -1) ? '0.3' : 1}}>\n\t\t\t\t<div title={Math.round(this.props.protected_percent) + '% protected'} className={'percentBar protectedPercentBar'} style={{width: protectedWidth + 'px'}}>{protectedHidden ? <span>&nbsp;</span> : Math.round(this.props.protected_percent) + '%'}</div>\n\t\t\t\t<div title={'Target of ' + this.props.target_value + '%'} className={'percentBar targetShortfall'} style={{width: (this.props.visible) ? targetShortfallWidth + 'px' : '0px'}}></div>\n\t\t\t\t<div className={'percentBar totalShortFall'} style={{width: unprotectedWidth + 'px', color:'rgba(0,0,0,0.7)', 'textAlign': (this.props.visible) ? null : 'left', 'fontStyle': (this.props.visible) ? null : 'italic'}}>{(this.props.visible) ? null : 'Does not occur'}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LinearGauge;\n","import * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport TargetIcon from './TargetIcon';\nimport { grey400 } from 'material-ui/styles/colors';\nimport IconButton from 'material-ui/IconButton';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport LinearGauge from './LinearGauge';\n \nclass FeaturesList extends React.Component { \n\ticonClick(feature, evt){\n\t\tthis.props.openFeatureMenu(evt, feature);\n\t}\n\tupdateTargetValue(targetIcon, newValue) {\n\t\tthis.props.updateFeature(targetIcon.props.interestFeature, {target_value: newValue});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div>Select the features</div>\n\t\t\t\t<List style={{padding:'0px !important', maxHeight: this.props.maxheight, overflow: 'auto'}}>\n\t\t\t\t\t{this.props.features.map((item)=>{\n\t\t\t\t\t\t//get the total area of the feature in the planning unit\n\t\t\t\t\t\tlet pu_area = item.pu_area;\n\t\t\t\t\t\t//TODO: This needs to be done differently when we are using the old version of Marxan because it does not have a value for the pu_area\n\t\t\t\t\t\t\n\t\t\t\t\t\t//get the protected percent\n\t\t\t\t\t\tlet protected_percent = (item.protected_area === -1) ? -1 : (pu_area >= 0) ? (item.protected_area > 0) ? (item.protected_area / pu_area) * 100 : 0 : 0;\n\t\t\t\t\t\t//this is a hack to round the protected percent as there are some bugs in Marxan that calculate the target area required wrongly\n\t\t\t\t\t\t//TODO - sort out \n\t\t\t\t\t\t// protected_percent = Math.round(protected_percent);\n\t\t\t\t\t\tlet targetStatus = (pu_area === 0) ? \"Does not occur in planning area\" : (protected_percent === -1) ? \"Unknown\" : (item.protected_area >= item.target_area) ? \"Target achieved\" : \"Target missed\";\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListItem \n\t\t\t\t\t\t\t\tleftAvatar={this.props.simple ? \n\t\t\t\t\t\t\t\t\t<span/> \n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t  <TargetIcon \n\t\t\t\t\t\t\t\t\t  style={{left: 8}} \n\t\t\t\t\t\t\t\t\t  target_value={item.target_value} \n\t\t\t\t\t\t\t\t\t  updateTargetValue={this.updateTargetValue.bind(this)} \n\t\t\t\t\t\t\t\t\t  interestFeature={item}\n\t\t\t\t\t\t\t\t\t  targetStatus={targetStatus}\n\t\t\t\t\t\t\t\t\t  visible={(item.pu_area!==0)}\n\t\t\t\t\t\t\t\t\t  userRole={this.props.userRole}\n\t\t\t\t\t\t\t\t  /> \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprimaryText={item.alias} \n\t\t\t\t\t\t\t\tsecondaryText={this.props.simple ? \n\t\t\t\t\t\t\t\t\t<span />\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<LinearGauge \n\t\t\t\t\t\t\t\t\t\tscaledWidth={220}\n\t\t\t\t\t\t\t\t\t\ttarget_value={item.target_value} \n\t\t\t\t\t\t\t\t\t\tprotected_percent={protected_percent}\n\t\t\t\t\t\t\t\t\t\tvisible={(item.pu_area!==0)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tkey={item.id} \n\t\t\t\t\t\t\t\tvalue={item.alias}\n\t\t\t\t\t\t\t\trightIconButton={this.props.simple ?\n\t\t\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<IconButton touch={true} tooltipPosition=\"bottom-left\" onClick={this.iconClick.bind(this, item)}>\n\t\t\t\t\t\t\t\t\t\t<MoreVertIcon color={grey400} />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tinnerDivStyle={{padding: (this.props.simple) ? '5px 5px 5px 5px' : '9px 5px 11px 53px' }}\n\t\t\t\t\t\t\t\tstyle={{borderRadius:'3px',fontSize:'14px', color: 'rgba(0,0,0,0.8)'}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</List>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default FeaturesList;\n","import React from 'react';\nimport ToolbarButton from './ToolbarButton';\nimport FeaturesList from './FeaturesList';\n\nclass SelectFeatures extends React.Component {\n\topenFeaturesDialog(evt){\n\t\tthis.props.openFeaturesDialog(true);\n\t}\n\trender() { \n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'newPUDialogPane'}>   \n\t\t\t\t\t<FeaturesList \n\t\t\t\t\t\tfeatures={this.props.features}  \n\t\t\t\t\t\topenFeatureMenu={this.props.openFeatureMenu}\n\t\t\t\t\t\tsimple={this.props.simple} \n\t\t\t\t\t\tmaxheight={'387px'}\n\t\t\t\t\t\tupdateFeature={this.props.updateFeature}\n\t\t\t\t\t\tuserRole={this.props.userRole}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton label=\"+/-\" onClick={this.openFeaturesDialog.bind(this)} show={!(this.props.metadata && this.props.metadata.OLDVERSION)||(this.props.userRole === \"ReadOnly\")} style={{marginLeft:this.props.leftmargin,width:'30px', marginTop:'5px'}} title={'Add/remove features from the project'}/>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n} \n\nexport default SelectFeatures;\n","import React from 'react';\nimport 'react-table/react-table.css';\nimport Paper from 'material-ui/Paper';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport SelectField from 'material-ui/SelectField';\nimport SelectFeatures from './SelectFeatures';\nimport MenuItem from 'material-ui/MenuItem';\nimport Settings from 'material-ui/svg-icons/action/settings';\nimport ToolbarButton from './ToolbarButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport { faUnlock } from '@fortawesome/free-solid-svg-icons';\nimport { faEraser } from '@fortawesome/free-solid-svg-icons';\n\nclass InfoPanel extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t//local variable \n\t\tthis.iucnCategories = ['None','IUCN I-II','IUCN I-IV','IUCN I-V','IUCN I-VI'];\n\t}\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\t//if the input box for renaming the project has been made visible and it has no value, then initialise it with the project name and focus it\n\t\tif (prevProps.editingProjectName === false && this.props.editingProjectName) {\n\t\t\tdocument.getElementById(\"projectName\").value = this.props.project;\n\t\t\tdocument.getElementById(\"projectName\").focus();\n\t\t}\n\t\t//if the input box for renaming the description has been made visible and it has no value, then initialise it with the description and focus it\n\t\tif (prevProps.editingDescription === false && this.props.editingDescription) {\n\t\t\tdocument.getElementById(\"descriptionEdit\").value = this.props.metadata.DESCRIPTION;\n\t\t\tdocument.getElementById(\"descriptionEdit\").focus();\n\t\t}\n\t}\n\n\tonKeyPress(e) {\n\t\tif (e.nativeEvent.keyCode === 13 || e.nativeEvent.keyCode === 27) {\n\t\t\tdocument.getElementById(e.nativeEvent.target.id).blur(); //call the onBlur event which will call the REST service to rename the project\n\t\t}\n\t}\n\n\tonBlur(e) {\n\t\tif (e.nativeEvent.target.id === 'projectName') {\n\t\t\tthis.props.renameProject(e.target.value);\n\t\t}\n\t\telse {\n\t\t\tthis.props.renameDescription(e.target.value);\n\t\t}\n\t}\n\n\tstartEditingProjectName() {\n\t\tif (this.props.project) { //a project may not be loaded\n\t\t\tthis.props.startEditingProjectName();\n\t\t}\n\t}\n\tstartEditingDescription() {\n\t\tif (this.props.project) { //a project may not be loaded\n\t\t\tthis.props.startEditingDescription();\n\t\t}\n\t}\n\tstartStopPuEditSession(evt) {\n\t\t(this.props.puEditing) ? this.stopPuEditSession(): this.startPuEditSession();\n\t}\n\tstartPuEditSession() {\n\t\tthis.setState({ puEditing: true });\n\t\tthis.props.startPuEditSession();\n\t}\n\n\tstopPuEditSession() { \n\t\tthis.setState({ puEditing: false});\n\t\tthis.props.stopPuEditSession();\n\t}\n\t\n\tchangeIucnCategory(event,key,payload){\n\t\tthis.props.changeIucnCategory(this.iucnCategories[key]);\n\t}\n\ttoggleProjectPrivacy(evt, isInputChecked){\n\t\tlet checkedString = (isInputChecked) ? \"True\" : \"False\";\n\t\tthis.props.toggleProjectPrivacy(checkedString);\n\t}\n\tstopMarxan(){\n\t\tthis.props.stopMarxan(this.props.pid);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>  \n\t\t\t\t<div className={'infoPanel'} style={{display: this.props.open ? 'block' : 'none'}}>\n\t\t\t\t\t<Paper zDepth={2} className=\"InfoPanelPaper\"> \n\t\t\t\t\t\t<Paper zDepth={2} className=\"titleBar\">\n\t\t\t\t\t\t\t{(this.props.userRole === \"ReadOnly\") ? <span className={'projectNameEditBox'} title={this.props.project + \" (Read-only)\"}><FontAwesomeIcon style={{color: 'white', height: '16px', marginTop:'4px',marginBottom: '2px', marginRight: '5px'}} icon={faLock}/>{this.props.project}</span> : <span onClick={this.startEditingProjectName.bind(this)} className={'projectNameEditBox'} title=\"Click to rename the project\">{this.props.project}</span>}\n\t\t\t\t\t\t\t{(this.props.userRole === \"ReadOnly\") ? null : <input id=\"projectName\" style={{position:'absolute', 'display': (this.props.editingProjectName) ? 'block' : 'none',left:'39px',top:'32px',width:'365px', border:'1px lightgray solid'}} className={'projectNameEditBox'} onKeyPress={this.onKeyPress.bind(this)} onBlur={this.onBlur.bind(this)}/>}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Tabs contentContainerStyle={{'margin':'20px'}} className={'tabs'} value={this.props.activeTab}>\n\t\t\t\t\t\t\t<Tab label=\"Project\" onActive={this.props.project_tab_active} value=\"project\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle'}>Description</div>\n\t\t\t\t\t\t\t\t\t{(this.props.userRole === \"ReadOnly\") ? null : <input id=\"descriptionEdit\" style={{'display': (this.props.editingDescription) ? 'block' : 'none'}} className={'descriptionEditBox'} onKeyPress={this.onKeyPress.bind(this)} onBlur={this.onBlur.bind(this)}/>}\n\t\t\t\t\t\t\t\t\t{(this.props.userRole === \"ReadOnly\") ? <div className={'description'} title={this.props.metadata.DESCRIPTION}>{this.props.metadata.DESCRIPTION}</div> : <div className={'description'} onClick={this.startEditingDescription.bind(this)} style={{'display': (!this.props.editingDescription) ? 'block' : 'none'}} title=\"Click to edit\">{this.props.metadata.DESCRIPTION}</div>}\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle tabTitleTopMargin'}>Created</div>\n\t\t\t\t\t\t\t\t\t<div className={'createDate'}>{this.props.metadata.CREATEDATE}</div>\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle tabTitleTopMargin'}>{(this.props.metadata.OLDVERSION) ? \"Imported project\" : \"\"}</div>\n\t\t\t\t\t\t\t\t\t<div style={{position:'absolute', top:'380px', display: (this.props.userRole === \"ReadOnly\") ? 'none' : 'block'}}>\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Private\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.props.metadata.PRIVATE}\n\t\t\t\t\t\t\t\t\t\t\t onCheck={this.toggleProjectPrivacy.bind(this)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab label=\"Features\" onActive={this.props.features_tab_active} value=\"features\">\n\t\t\t\t\t\t\t\t<SelectFeatures\n\t\t\t\t\t\t\t\t\tfeatures={this.props.features}\n\t\t\t\t\t\t\t\t\topenFeatureMenu={this.props.openFeatureMenu}\n\t\t\t\t\t\t\t\t\topenFeaturesDialog={this.props.openFeaturesDialog} \n\t\t\t\t\t\t\t\t\tmetadata={this.props.metadata}\n\t\t\t\t\t\t\t\t\tupdateFeature={this.props.updateFeature}\n\t\t\t\t\t\t\t\t\tleftmargin={'10px'}\n\t\t\t\t\t\t\t\t\tsimple={false}\n\t\t\t\t\t\t\t\t\tuserRole={this.props.userRole}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab label=\"Planning units\" onActive={this.props.pu_tab_active} value=\"planning_units\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle'}>Planning grid</div>\n\t\t\t\t\t\t\t\t\t<div className={'description'}>{this.props.metadata.pu_alias}</div>\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle tabTitleTopMargin'}>Protected areas</div>\n\t\t\t\t\t\t\t\t\t<SelectField \n\t\t\t\t\t\t\t\t\t\tfloatingLabelText={'Include'} \n\t\t\t\t\t\t\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\t\t\t\t\t\t\tunderlineShow={false}\n\t\t\t\t\t\t\t\t\t\tdisabled={(this.props.preprocessing)||(this.props.userRole === \"ReadOnly\")}\n\t\t\t\t\t\t\t\t\t\tmenuItemStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\t\t\t\tstyle={{marginTop:'-15px',width:'140px'}}\n\t\t\t\t\t\t\t\t\t\tvalue={this.props.metadata.IUCN_CATEGORY} \n\t\t\t\t\t\t\t\t\t\tonChange={this.changeIucnCategory.bind(this)}\n\t\t\t\t\t\t\t\t\t\tchildren= {this.iucnCategories.map((item)=> {\n\t\t\t\t\t\t\t\t\t\t\treturn  <MenuItem \n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item} \n\t\t\t\t\t\t\t\t\t\t\t\tkey={item} \n\t\t\t\t\t\t\t\t\t\t\t\tprimaryText={item}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>; \n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t\t<div style={{display: (this.props.userRole === \"ReadOnly\") ? 'none' : 'block'}}>\n\t\t\t\t\t\t\t\t\t<div className={'tabTitle'}>Manual edits</div>\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={(this.props.puEditing) ? faUnlock : faLock} onClick={this.startStopPuEditSession.bind(this)} title={(this.props.puEditing) ? \"Save\" : \"Click to edit\"} style={{cursor:'pointer', marginRight: '10px', color: 'rgba(255, 64, 129, 0.7)'}}/>\n\t\t\t\t\t\t\t\t\t\t<div className={'description'} style={{display: 'inline-block'}}>{(this.props.puEditing) ? \"Click on the map to change the status\" : \"Click to edit\"}</div>\n\t\t\t\t\t\t\t\t\t\t<div style={{display: (this.props.puEditing) ? \"block\" : \"none\"}}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={\"statusRow\"}><div className={\"statusSwatch\"} style={{border: '1px rgba(63, 191, 63, 1) solid'}}></div><div className={\"puStatus\"}>Initially included</div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={\"statusRow\"}><div className={\"statusSwatch\"} style={{ border: '1px rgba(63, 63, 191, 1) solid'}}></div><div className={\"puStatus\"}>Locked in the reserve system</div></div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={\"statusRow\"}><div className={\"statusSwatch\"} style={{ border: '1px rgba(191, 63, 63, 1) solid'}}></div><div className={\"puStatus\"}>Locked out of the reserve system</div></div>\n\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faEraser} />} \n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Clear all manual edits\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.clearManualEdits.bind(this)} \n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>  \n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>     \n\t\t\t\t\t\t<Paper className={'lowerToolbar'}>\n\t\t\t\t\t\t\t\t<ToolbarButton   \n\t\t\t\t\t\t\t\t\ticon={<Settings style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\t\ttitle=\"Run Settings\"\n\t\t\t\t\t\t\t\t\tonClick={this.props.showRunSettingsDialog} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\tlabel=\"Stop\" \n\t\t\t\t\t\t\t\t\ttitle=\"Click to stop the current run\"  \n\t\t\t\t\t\t\t\t\tshow={this.props.userRole !== \"ReadOnly\"}\n\t\t\t\t\t\t\t\t\tstyle={{marginLeft: '194px'}}\n\t\t\t\t\t\t\t\t\tonClick={this.stopMarxan.bind(this)} \n\t\t\t\t\t\t\t\t\tdisabled={this.props.pid===0}  \n\t\t\t\t\t\t\t\t\tsecondary={true} \n\t\t\t\t\t\t\t\t/>  \n\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\tlabel=\"Run\" \n\t\t\t\t\t\t\t\t\ttitle=\"Click to run this project\"  \n\t\t\t\t\t\t\t\t\tshow={this.props.userRole !== \"ReadOnly\"}\n\t\t\t\t\t\t\t\t\tonClick={this.props.runMarxan} \n\t\t\t\t\t\t\t\t\tdisabled={this.props.preprocessing || (this.props.features.length === 0) || this.props.puEditing}  \n\t\t\t\t\t\t\t\t\tsecondary={true} \n\t\t\t\t\t\t\t\t/>  \n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default InfoPanel;\n","import React from \"react\";\nimport Slider from 'material-ui/Slider';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye } from '@fortawesome/free-regular-svg-icons';\nimport { faEyeSlash } from '@fortawesome/free-regular-svg-icons';\n\nclass TransparencyControl extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowSlider: false\n\t\t};\n\t\tthis.old_opacity = 0.5;\n\t}\n\tonChange(evt, newValue) {\n\t\tif (this.props.layer) {\n\t\t\t//set a local property to capture the old opacity\n\t\t\tthis.old_opacity = this.props.opacity;\n\t\t\tthis.props.changeOpacity(this.props.layer.id, newValue);\n\t\t}\n\t}\n\n\ttoggleLayer() {\n\t\tif (this.props.layer) {\n\t\t\t//see if the layer is currently visible\n\t\t\tif (this.props.opacity > 0) {\n\t\t\t\t//hide the layer\n\t\t\t\tthis.onChange(undefined, 0);\n\t\t\t} else {\n\t\t\t\t//show the layer\n\t\t\t\tthis.onChange(undefined, this.old_opacity);\n\t\t\t}\n\t\t}\n\t}\n\tmouseEnter(event) {\n\t\tthis.setState({\n\t\t\tshowSlider: true\n\t\t});\n\t}\n\n\tmouseLeave(event) {\n\t\tthis.setState({\n\t\t\tshowSlider: false\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={ this.props.style }>\n\t\t\t\t<div onMouseEnter={ this.mouseEnter.bind(this) } onMouseLeave={ this.mouseLeave.bind(this) } style={ { position: 'absolute', width: '132px', height: '23px' } } title={ \"Change transparency - click to toggle layer\" }>\n\t\t\t\t\t<FontAwesomeIcon icon={(this.props.opacity === 0 ) ? faEyeSlash : faEye } style={ { color: 'gainsboro' } } onClick={ this.toggleLayer.bind(this) } />\n\t\t\t\t\t<Slider value={ this.props.opacity } onChange={ this.onChange.bind(this) } style={ { display: (this.state.showSlider) ? \"inline-block\" : \"none\", width: '100px', position: 'absolute', top: '2px', left: '26px' } } sliderStyle={ { margin: '0px' } } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t);\n\t}\n}\n\nexport default TransparencyControl;\n","import * as React from 'react';\nimport * as utilities from './utilities.js';\nimport TransparencyControl from './TransparencyControl';\n\nclass Legend extends React.Component {\n\t getPlanningUnitsLegend(colorCode) {\n\t\tlet legendItems;\n\t\t//get the data value for the highest break in the data to see if we are viewing the sum solutions or an individual solution\n\t\tlet summed = (this.props.brew.breaks[this.props.brew.breaks.length - 1] === 1) ? false : true;\n\t\tif (summed) {\n\t\t\t//get the number of classes the user currently has selected\n\t\t\tlet numClasses = this.props.brew.getNumClasses();\n\t\t\t//get the maximum number of colors in this scheme\n\t\t\tlet colorSchemeLength = utilities.getMaxNumberOfClasses(this.props.brew, colorCode);\n\t\t\t//get the color scheme\n\t\t\tlet colorScheme = this.props.brew.colorSchemes[colorCode];\n\t\t\t//get the number of colors to show as an array\n\t\t\tlet numClassesArray = (numClasses <= colorSchemeLength) ? Array.apply(null, {\n\t\t\t\tlength: numClasses\n\t\t\t}).map(Number.call, Number) : Array.apply(null, {\n\t\t\t\tlength: colorSchemeLength\n\t\t\t}).map(Number.call, Number);\n\t\t\tlet classesToShow = numClassesArray.length;\n\t\t\tlegendItems = numClassesArray.map((item) => {\n\t\t\t\t//see if the data is a range - if the difference in the number of solutions is only 1, then it is not a range\n\t\t\t\tlet range = (this.props.brew.breaks[item + 1] - this.props.brew.breaks[item] > 1) ? true : false;\n\t\t\t\tlet suffix = (this.props.brew.breaks[item + 1] === 1) ? \" solution\" : \" solutions\";\n\t\t\t\tlet legendLabel = (range) ? (this.props.brew.breaks[item] + 1) + ' - ' + this.props.brew.breaks[item + 1] + suffix : this.props.brew.breaks[item + 1] + suffix;\n\t\t\t\treturn <div key={ item }>\n\t\t\t\t\t <div key={ 'swatch' + item } style={ { backgroundColor: colorScheme[classesToShow][item], width: '12px', height: '16px', border: '1px lightgray solid', margin: '3px', display: 'inline-flex', verticalAlign: 'top' } }>\n\t\t\t\t\t </div>\n\t\t\t\t\t <div style={ { display: 'inline-flex', verticalAlign: 'top', marginLeft: '7px', fontSize: '12px' } } key={ 'label' + item }>\n\t\t\t\t\t\t { legendLabel }\n\t\t\t\t\t </div>\n\t\t\t\t </div>;\n\t\t\t});\n\t\t} else {\n\t\t\tlegendItems = <div>\n\t\t\t\t<div style={ { backgroundColor: 'rgba(255, 0, 136,1)', width: '12px', height: '16px', border: '1px lightgray solid', margin: '3px', display: 'inline-flex', verticalAlign: 'top' } }>\n\t\t\t\t</div>\n\t\t\t\t<div style={ { display: 'inline-flex', verticalAlign: 'top', marginLeft: '3px', fontSize: '12px' } }>\n\t\t\t\t\tProposed protected area\n\t\t\t\t</div>\n\t\t\t</div>;\n\t\t}\n\t\tlegendItems = <div>\n\t\t\t<div className={ \"tabTitle\" }>Planning units</div>\n\t\t\t<div>{  legendItems }</div>\n\t\t\t<TransparencyControl layer={ this.props.resultsLayer } changeOpacity={this.props.changeOpacity} opacity={this.props.results_layer_opacity}/>\n\t\t\t</div>;\n\t\treturn  legendItems;\n\t}\n\t\n\tgetProtectedAreasLegend(){\n\t\tlet legend_items = (this.props.pa_layer_visible) ?\n\t\t<div>\n\t\t\t<div className={ \"tabTitle\" }>Protected areas</div>\n\t\t\t<div key={'marine'} style={ { backgroundColor: 'rgba(63,127,191)', width: '12px', height: '16px', border: '1px lightgray solid', margin: '3px', display: 'inline-flex', verticalAlign: 'top' } }></div>\n\t\t\t<div style={ { display: 'inline-flex', verticalAlign: 'top', marginLeft: '7px', fontSize: '12px' } } key={ 'label_marine'}>Marine</div>\n\t\t\t<div>\n\t\t\t\t<div key={'terrestrial'} style={ { backgroundColor: 'rgba(99,148,69)', width: '12px', height: '16px', border: '1px lightgray solid', margin: '3px', display: 'inline-flex', verticalAlign: 'top' } }></div>\n\t\t\t\t<div style={ { display: 'inline-flex', verticalAlign: 'top', marginLeft: '7px', fontSize: '12px' } } key={ 'label_terrestrial'}>Terrestrial</div>\n\t\t\t</div>\n\t\t\t<TransparencyControl layer={ this.props.wdpaLayer } changeOpacity={this.props.changeOpacity} opacity={this.props.wdpa_layer_opacity}/>\n\t\t</div>\n\t\t:\n\t\tnull;\n\t\treturn legend_items;\n\t}\n\t\n\trender() {\n\t\tlet planning_units_legend_items = (this.props.brew && this.props.brew.breaks && this.props.brew.colorCode) ? this.getPlanningUnitsLegend(this.props.brew.colorCode) : <div/> ;\n\t\tlet protected_areas_legend_items = this.getProtectedAreasLegend();\n\t\treturn <div>\n\t\t\t<div>{planning_units_legend_items}</div>\n\t\t\t<div style={{marginTop:'32px'}}>{protected_areas_legend_items}</div>\n\t\t</div>;\n\t}\n}\n\nexport default Legend;\n","import React from 'react';\nimport ToolbarButton from './ToolbarButton';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEraser } from '@fortawesome/free-solid-svg-icons';\nimport ReactTable from \"react-table\";\nimport Paper from 'material-ui/Paper';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Legend from './Legend'; \nimport Settings from 'material-ui/svg-icons/action/settings';\nimport Clipboard from 'material-ui/svg-icons/action/assignment';\nimport Sync from 'material-ui/svg-icons/notification/sync';\n\nclass ResultsPane extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showClipboard: false, selectedSolution: undefined, runtime: 0 };\n\t}\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t//if the streaming log has changed then scroll to the bottom of the div\n\t\tif (this.props.log !== prevProps.log) {\n\t\t\tvar objDiv = document.getElementById(\"log\");\n\t\t\tif (objDiv) {\n\t\t\t\tobjDiv.scrollTop = objDiv.scrollHeight;\n\t\t\t}\n\t\t\tthis.resetSolution();//unselect a solution\n\t\t}\n\t\tif (this.props.solutions !== prevProps.solutions) {\n\t\t\tthis.resetSolution();//unselect a solution\n\t\t}\n\t\tif (this.props && this.props.preprocessing && prevProps && !prevProps.preprocessing) this.startTimer();\n\t\tif (prevProps && prevProps.preprocessing && this.props && !this.props.preprocessing) this.stopTimer();\n\t}\n\tstartTimer(){\n\t\tthis.setState({runtime: 0});\n    this.timer = setInterval(() => {\n\t\t\tthis.setState({runtime: this.state.runtime + 1 });\n    }, 1000);\n\t}\n\tstopTimer(){\n    //clear the timer\n    clearInterval(this.timer);\n    this.timer = null;\n\t}\n\tloadSolution(solution) { //loads the solution using the projects owner\n\t\tthis.props.loadSolution(solution, this.props.owner);\n\t}\n\n\tmouseEnter(event) {\n\t\tthis.setState({ showClipboard: true });\n\t}\n\n\tmouseLeave(event) {\n\t\tthis.setState({ showClipboard: false });\n\t}\n\n\tselectText(node) {\n\t\tnode = document.getElementById(node);\n\t\tif (document.body.createTextRange) {\n\t\t\tconst range = document.body.createTextRange();\n\t\t\trange.moveToElementText(node);\n\t\t\trange.select();\n\t\t}\n\t\telse if (window.getSelection) {\n\t\t\tconst selection = window.getSelection();\n\t\t\tconst range = document.createRange();\n\t\t\trange.selectNodeContents(node);\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange(range);\n\t\t}\n\t\telse {\n\t\t\tconsole.warn(\"Could not select text in node: Unsupported browser.\");\n\t\t}\n\t}\n\n\tcopyLog(evt) {\n\t\tthis.selectText(\"log\");\n\t\tevt.target.focus();\n\t\tdocument.execCommand('copy');\n\t}\n\n\t//resets the currently selected solution\n\tresetSolution(){\n\t\tif (this.state.selectedSolution) this.changeSolution(undefined, undefined); \n\t}\n\t\n\t//fired in the onClick event handler of the react table\n\tchangeSolution(event, solution) {\n\t\tthis.setState({ selectedSolution: solution });\n\t\tif (solution) this.loadSolution(solution.Run_Number);\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div style={{width:'300px',height:'400px', position:'absolute',right:'140px','display': (this.props.open ? 'block' : 'none')}}>\n\t\t\t\t\t<Paper zDepth={2} className='ResultsPanePaper'>\n\t\t\t\t\t\t<div className=\"resultsTitle\">Results</div>\n\t\t\t\t\t\t<Tabs contentContainerStyle={{'margin':'20px'}} className={'resultsTabs'} value={this.props.activeResultsTab} id='resultsTabs'>\n\t\t\t\t\t\t\t<Tab label=\"Legend\" value=\"legend\" onActive={this.props.legend_tab_active} >\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Legend\n\t\t\t\t\t\t\t\t\t\tbrew={this.props.brew}\n\t\t\t\t\t\t\t\t\t\tresultsLayer={ this.props.resultsLayer }\n\t\t\t\t\t\t\t\t\t\twdpaLayer={ this.props.wdpaLayer }\n\t\t\t\t\t\t\t\t\t\tpa_layer_visible={this.props.pa_layer_visible}\n\t\t\t\t\t\t\t\t\t\tchangeOpacity={this.props.changeOpacity}\n\t\t\t\t\t\t\t\t\t\tresults_layer_opacity={this.props.results_layer_opacity}\n\t\t\t\t\t\t\t\t\t\twdpa_layer_opacity={this.props.wdpa_layer_opacity}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\t\ticon={<Settings style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\t\t\ttitle=\"Legend Settings\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.props.openClassificationDialog} \n\t\t\t\t\t\t\t\t\t\tstyle={{ top:'427px', position:'absolute', marginLeft:'-7px'}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab label=\"Solutions\" value=\"solutions\" onActive={this.props.solutions_tab_active} >\n\t\t\t\t\t\t\t\t<div id=\"solutionsPanel\" style={{'display': (!this.props.processing ? 'block' : 'none')}}>\n\t\t\t\t\t\t\t\t{(this.props.solutions&&this.props.solutions.length>0) ? \n\t\t\t\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\t\t\t\tthisRef={this}\n\t\t\t\t\t\t\t\t\t\tgetTrProps={(state, rowInfo, column, instance) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn { \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.thisRef.changeSolution(e, rowInfo.original);\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: { \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: (rowInfo.original.Run_Number === (state.thisRef.state.selectedSolution&&state.thisRef.state.selectedSolution.Run_Number)) ? \"aliceblue\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Click to show on the map'\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={'solutions_infoTable -highlight'}\n\t\t\t\t\t\t\t\t\t\tshowPagination={false}\n\t\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\t\tpageSize={this.props.solutions.length} \n\t\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\t\tdata={this.props.solutions}\n\t\t\t\t\t\t\t\t\t\tcolumns={[{\n\t\t\t\t\t\t\t\t\t\t\t Header: 'Run', \n\t\t\t\t\t\t\t\t\t\t\t accessor: 'Run_Number',\n\t\t\t\t\t\t\t\t\t\t\t width:40,\n\t\t\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'}                             \n\t\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\t\t Header: 'Score',\n\t\t\t\t\t\t\t\t\t\t\t accessor: 'Score',\n\t\t\t\t\t\t\t\t\t\t\t width:80,\n\t\t\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'}\n\t\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\t\t Header: 'Cost',\n\t\t\t\t\t\t\t\t\t\t\t accessor: 'Cost' ,\n\t\t\t\t\t\t\t\t\t\t\t width:80,\n\t\t\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'}\n\t\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\t\t Header: 'Planning Units', \n\t\t\t\t\t\t\t\t\t\t\t accessor: 'Planning_Units' ,\n\t\t\t\t\t\t\t\t\t\t\t width:50,\n\t\t\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'} \n\t\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\t\t Header: 'Missing Values',\n\t\t\t\t\t\t\t\t\t\t\t accessor: 'Missing_Values' ,\n\t\t\t\t\t\t\t\t\t\t\t width:105,\n\t\t\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'}\n\t\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t<Tab label=\"Log\" value=\"log\" onActive={this.props.log_tab_active} >\n\t\t\t\t\t\t\t\t<div id=\"log\" onMouseEnter={this.mouseEnter.bind(this)} onMouseLeave={this.mouseLeave.bind(this)}>{this.props.log}\n\t\t\t\t\t\t\t\t\t<div className={\"runtime\"} style={{'display': (this.props.preprocessing ? 'block' : 'none')}}>Runtime: {this.state.runtime}s</div>\n\t\t\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\t\t\ticon={<Clipboard style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\t\t\ttitle=\"Copy to clipboard\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.copyLog.bind(this)} \n\t\t\t\t\t\t\t\t\t\tshow={this.state.showClipboard}\n\t\t\t\t\t\t\t\t\t\tstyle={{position:'absolute',top:'421px',right:'70px'}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faEraser} />} \n\t\t\t\t\t\t\t\t\t\ttitle=\"Clear log\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.props.clearLog.bind(this)} \n\t\t\t\t\t\t\t\t\t\tshow={this.state.showClipboard}\n\t\t\t\t\t\t\t\t\t\tstyle={{position:'absolute',top:'421px',right:'30px'}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t</Tabs>     \n\t\t\t\t\t\t<div className=\"processingDiv\" style={{display:(this.props.preprocessing) ? 'block' : 'none'}} title=\"Processing..\">\n\t\t\t\t\t\t\t<Paper zDepth={2}>\n\t\t\t\t\t\t\t\t<div className=\"processingText\"></div>\n\t\t\t\t\t\t\t\t<Sync className='spin processingSpin' style={{color: 'rgb(255, 64, 129)'}}/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default ResultsPane;","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\nimport {isNumber, isValidTargetValue} from './genericFunctions.js'; \n\nclass FeatureInfoDialog extends React.Component {\n\tgetHTML(value, title = ''){\n\t\treturn <div title={(title !== '') ? title : value}>{value}</div>;\n\t}\n\t//adds Kms to the area values and rounds to 1 decimal place \n\tgetAreaHTML(props){\n\t\t//set the font color to red if the area protected is less than the target area\n\t\tlet color = (this.props.feature.protected_area < this.props.feature.target_area) && (props.row.key === 'Area protected') ? \"red\" : \"rgba(0, 0, 0, 0.6)\";\n\t\t//rounded to 1 dp\n\t\tlet roundedText = ((Number(props.row.value/1000000).toFixed(1) === \"0.0\") && (props.row.value > 0)) ? \" (approx.)\" : \"\";\n\t\tlet html = <div title={props.row.value/1000000 + ' Km2'} style={{color:color}}>{String(Number(props.row.value/1000000).toFixed(1)).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} Km<span style={{verticalAlign: 'super', fontSize: 'smaller'}}>2</span>{roundedText}</div>;\n\t\treturn html;   \n\t}\n\trenderKeyCell(props){\n\t\treturn this.getHTML(props.row.key, props.original.hint);\n\t}\n\t//called when the user moves away from an editable property, e.g. target percent or spf\n\tupdateFeatureValue(key, evt){\n\t\tvar value = (key === \"target_value\") ? evt.currentTarget.innerHTML.substr(0, evt.currentTarget.innerHTML.length-1) : evt.currentTarget.innerHTML;\n\t\tif (((key === \"target_value\") && (isValidTargetValue(value))) || ((key === \"spf\") && (isNumber(value)))) {\n\t\t\tvar obj = {};\n\t\t\tobj[key] = value;\n\t\t\tthis.props.updateFeature(this.props.feature, obj);      \n\t\t}else{\n\t\t\talert(\"Invalid value\");\n\t\t}\n\t}\n\trenderValueCell(props){\n\t\tlet html;\n\t\tswitch (props.row.key) {\n\t\t\tcase 'ID':\n\t\t\tcase 'Alias':\n\t\t\tcase 'Feature class name':\n\t\t\t\thtml = this.getHTML(props.row.value, props.original.hint);\n\t\t\t\tbreak;\n\t\t\tcase 'Description':\n\t\t\t\thtml = this.getHTML(props.row.value);\n\t\t\t\tbreak;\n\t\t\tcase 'Creation date': \n\t\t\t\thtml = this.getHTML(props.row.value);\n\t\t\t\tbreak;\n\t\t\tcase 'Mapbox ID':\n\t\t\t\thtml = ((props.row.value === \"\")||(props.row.value === null)) ? this.getHTML(\"Not available\", \"The feature was not uploaded to Mapbox\") : this.getHTML(props.row.value, \"The feature was uploaded to Mapbox with this identifier\");\n\t\t\t\tbreak;\n\t\t\tcase 'Total area':\n\t\t\t\thtml = (props.row.value === -1) ? this.getHTML(\"Not calculated\", \"Total areas are not available for imported projects\") : this.getAreaHTML(props, props.original.hint);\n\t\t\t\tbreak;\n\t\t\tcase 'Target percent':\n\t\t\t\thtml = (this.props.userRole === \"ReadOnly\") ? <div>{props.row.value}%</div> : <div contentEditable suppressContentEditableWarning title=\"Click to edit\" onBlur={this.updateFeatureValue.bind(this, \"target_value\")}>{props.row.value}%</div>;\n\t\t\t\tbreak;\n\t\t\tcase 'Species Penalty Factor':\n\t\t\t\thtml = (this.props.userRole === \"ReadOnly\") ? <div>{props.row.value}%</div> : <div contentEditable suppressContentEditableWarning title=\"Click to edit\" onBlur={this.updateFeatureValue.bind(this, \"spf\")}>{props.row.value}</div>;\n\t\t\t\tbreak;\n\t\t\tcase 'Preprocessed':\n\t\t\t\thtml = (props.row.value) ? this.getHTML(\"Yes\", \"The feature has been intersected with the planning units\") : this.getHTML(\"No\", \"The feature has not yet been intersected with the planning units\");\n\t\t\t\tbreak;\n\t\t\tcase 'Planning unit count':\n\t\t\t\thtml = (props.row.value === -1) ? this.getHTML(\"Not calculated\", \"Calculated during pre-processing\") : this.getHTML(props.row.value);\n\t\t\t\tbreak;\n\t\t\tcase 'Planning unit area':\n\t\t\t\thtml = (props.row.value === -1) ? this.getHTML(\"Not calculated\", \"Calculated during pre-processing\") : this.getAreaHTML(props);\n\t\t\t\tbreak;\n\t\t\tcase 'Target area':\n\t\t\t\thtml = (props.row.value === -1) ? this.getHTML(\"Not calculated\", \"Calculated during a Marxan run\") : this.getAreaHTML(props);\n\t\t\t\tbreak;\n\t\t\tcase 'Area protected':\n\t\t\t\thtml = (props.row.value === -1) ? this.getHTML(\"Not calculated\", \"Calculated during a Marxan run\") : this.getAreaHTML(props);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn html;\n\t} \n\t\trender(){\n\t\t\tif (this.props.feature){\n\t\t\t\tlet data =[];\n\t\t\t\t//iterate through the feature properties and set the data to bind to the table\n\t\t\t\tthis.props.FEATURE_PROPERTIES.forEach((item)=>{\n\t\t\t\t\tif ((!this.props.feature.old_version) || (this.props.feature.old_version && item.showForOld)){\n\t\t\t\t\t\tdata.push({key: item.key, value: this.props.feature[item.name], hint: item.hint});\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t\treturn (\n\t\t\t\t\t<MarxanDialog title=\"Properties\" \n\t\t\t\t\t\t{...this.props}  \n\t\t\t\t\t\tcontentWidth={380}\n\t\t\t\t\t\toffsetX={135}\n\t\t\t\t\t\toffsetY={250}\n\t\t\t\t\t\tchildren={\n\t\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\t\tclassName={(this.props.feature.old_version) ? 'infoTableOldVersion' : 'infoTable'}\n\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\tpageSize={data.length}\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\tcolumns={[{\n\t\t\t\t\t\t\t\t\t Header: 'Key', \n\t\t\t\t\t\t\t\t\t accessor: 'key',\n\t\t\t\t\t\t\t\t\t width:150,\n\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'},\n\t\t\t\t\t\t\t\t\t Cell: props => this.renderKeyCell(props)\n\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t Header: 'Value',\n\t\t\t\t\t\t\t\t\t accessor: 'value',\n\t\t\t\t\t\t\t\t\t width:185,\n\t\t\t\t\t\t\t\t\t headerStyle:{'textAlign':'left'},\n\t\t\t\t\t\t\t\t\t Cell: props => this.renderValueCell(props)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t key=\"k9\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>);\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default FeatureInfoDialog;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n// import { faBookOpen } from '@fortawesome/free-solid-svg-icons';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport Import from 'material-ui/svg-icons/action/get-app';\nimport Clone from 'material-ui/svg-icons/content/content-copy';\nimport ToolbarButton from './ToolbarButton';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\n\nclass ProjectsDialog extends React.Component { \n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = { selectedProject: undefined };\n\t\t}\n\t\t_delete() {\n\t\t\tthis.props.deleteProject(this.state.selectedProject.user, this.state.selectedProject.name);\n\t\t\tthis.setState({ selectedProject: false });\n\t\t}\n\t\tload() {\n\t\t\tif ((this.props.oldVersion === true) && (this.state.selectedProject.oldVersion === false)) {\n\t\t\t\t//get all the features again otherwise the allFeatures state will be bound to the old versions features\n\t\t\t\tthis.props.getAllFeatures().then(function() {\n\t\t\t\t\tthis.loadAndClose();\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.loadAndClose();\n\t\t\t}\n\t\t}\n\t\tloadAndClose() {\n\t\t\t//load the project\n\t\t\tthis.props.loadProject(this.state.selectedProject.name, this.state.selectedProject.user);\n\t\t\tthis.closeDialog();\n\t\t}\n\t\t_new() {\n\t\t\t//get all the features again otherwise the allFeatures state may be bound to an old version of marxans features\n\t\t\tthis.props.getAllFeatures().then(function() {\n\t\t\t\tthis.props.openNewProjectDialog();\n\t\t\t\tthis.closeDialog();\n\t\t\t}.bind(this));\n\t\t}\n\t\tcloneProject() {\n\t\t\tthis.props.cloneProject(this.state.selectedProject.user, this.state.selectedProject.name);\n\t\t}\n\t\topenImportDialog() {\n\t\t\tthis.props.openImportDialog();\n\t\t\tthis.closeDialog();\n\t\t}\n\t\tchangeProject(event, project) {\n\t\t\tthis.setState({ selectedProject: project });\n\t\t}\n\t\tcloseDialog() {\n\t\t\tthis.setState({ selectedProject: undefined });\n\t\t\tthis.props.onOk(); \n\t\t}\n\t\tsortDate(a, b, desc){\n\t\t\treturn (Date.parse(a) > Date.parse(b)) ? 1 : -1;\n\t\t}\n\t\trenderTitle(row){\n\t\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.description}>{row.original.description}</div>;        \n\t\t}\n\t\trenderName(row){\n\t\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.name}>{row.original.name}</div>;        \n\t\t}\n\t\trender() {\n\t\t\t\tlet tableColumns = [];\n\t\t\t\tif (['Admin', 'ReadOnly'].includes(this.props.userRole)) {\n\t\t\t\t\ttableColumns = [{ Header: 'User', accessor: 'user', width: 90, headerStyle: { 'textAlign': 'left' } }, { Header: 'Name', accessor: 'name', width: 200, headerStyle: { 'textAlign': 'left' }, Cell: this.renderName.bind(this) }, { Header: 'Description', accessor: 'description', width: 250, headerStyle: { 'textAlign': 'left' }, Cell: this.renderTitle.bind(this) }, { Header: 'Date', accessor: 'createdate', width: 180, headerStyle: { 'textAlign': 'left' }, sortMethod: this.sortDate.bind(this)}];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttableColumns = [{ Header: 'Name', accessor: 'name', width: 170, headerStyle: { 'textAlign': 'left' }, Cell: this.renderName.bind(this) }, { Header: 'Description', accessor: 'description', width: 330, headerStyle: { 'textAlign': 'left' }, Cell: this.renderTitle.bind(this) }, { Header: 'Date', accessor: 'createdate', width: 220, headerStyle: { 'textAlign': 'left' }, sortMethod: this.sortDate.bind(this) }];\n\t\t\t\t}\n\t\t\t\tif (this.props.projects) {\n\t\t\t\t\treturn (\n\t\t\t\t\t<MarxanDialog \n\t\t\t\t\t{...this.props} \n\t\t\t\t\t// titleBarIcon={faBookOpen}\n\t\t\t\t\tokLabel={(this.props.userRole === \"ReadOnly\") ? \"Open (Read-only)\" : \"Open\"}\n\t\t\t\t\tonOk={this.load.bind(this)}\n\t\t\t\t\tonCancel={this.closeDialog.bind(this)}\n\t\t\t\t\tokDisabled={!this.state.selectedProject}\n\t\t\t\t\tshowCancelButton={true}\n\t\t\t\t\tautoDetectWindowHeight={false}\n\t\t\t\t\tbodyStyle={{ padding:'0px 24px 0px 24px'}}\n\t\t\t\t\ttitle=\"Projects\"  \n\t\t\t\t\tchildren={\n\t\t\t\t\t\t<React.Fragment key=\"k2\">\n\t\t\t\t\t\t\t<div style={{marginBottom:'5px'}}>There are a total of {this.props.projects.length} projects:</div>\n\t\t\t\t\t\t\t\t<div id=\"projectsTable\">\n\t\t\t\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\t\t\t  pageSize={ this.props.projects.length }\n\t\t\t\t\t\t\t\t\t\tclassName={'projectsReactTable'}\n\t\t\t\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\t\tdata={this.props.projects}\n\t\t\t\t\t\t\t\t\t\tthisRef={this} \n\t\t\t\t\t\t\t\t\t\tcolumns={tableColumns}\n\t\t\t\t\t\t\t\t\t\tgetTrProps={(state, rowInfo, column) => {\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: ((rowInfo.original.user === (state.thisRef.state.selectedProject&&state.thisRef.state.selectedProject.user))&&(rowInfo.original.name === (state.thisRef.state.selectedProject&&state.thisRef.state.selectedProject.name))) ? \"aliceblue\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate.thisRef.changeProject(e, rowInfo.original);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  <div id=\"projectsToolbar\" style={{display: (this.props.userRole === \"ReadOnly\") ? 'none' : 'block'}}>\n\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"createProject\")}\n\t\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faPlusCircle} />} \n\t\t\t\t\t\t\t\t\ttitle=\"New project\" \n\t\t\t\t\t\t\t\t\tonClick={this._new.bind(this)} \n\t\t\t\t\t\t\t\t\tlabel={\"New\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"createImportProject\")}\n\t\t\t\t\t\t\t\t\ticon={<Import style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\t\ttitle=\"Import an existing Marxan project from the local machine\"\n\t\t\t\t\t\t\t\t\tonClick={this.openImportDialog.bind(this)} \n\t\t\t\t\t\t\t\t\tlabel={\"Import\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"cloneProject\")}\n\t\t\t\t\t\t\t\t\ticon={<Clone style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\t\ttitle=\"Duplicate project\" \n\t\t\t\t\t\t\t\t\tonClick={this.cloneProject.bind(this)} \n\t\t\t\t\t\t\t\t\tdisabled={!this.state.selectedProject || this.props.loading}\n\t\t\t\t\t\t\t\t\tlabel={\"Duplicate\"}\n\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"deleteProject\")}\n\t\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faTrashAlt}  color='rgb(255, 64, 129)'/>} \n\t\t\t\t\t\t\t\t\ttitle=\"Delete project\" \n\t\t\t\t\t\t\t\t\tdisabled={!this.state.selectedProject || this.props.loading}\n\t\t\t\t\t\t\t\t\tonClick={this._delete.bind(this)} \n\t\t\t\t\t\t\t\t\tlabel={\"Delete\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t} \n\t\t\t\t/>\n\t\t\t);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default ProjectsDialog;\n","import * as React from 'react';\nimport TextField from 'material-ui/TextField';\n\nclass Metadata extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props); \n\t\tthis.state = {\n\t\t\tvalidName: undefined\n\t\t};\n\t}\n\tchangeName(event, newValue) {\n\t\tthis.props.setName(newValue);\n\t}\n\tchangeDescription(event, newValue) {\n\t\tthis.props.setDescription(newValue);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div style={{marginBottom:this.props.paddingBottom}}> \n\t\t\t\t\t<TextField errorText={this.state.validName === false ? 'Required field' : ''} value={this.props.name} onChange={this.changeName.bind(this)} floatingLabelText=\"Enter a name for the project\" floatingLabelFixed={true} />\n\t\t\t\t\t<TextField value={this.props.description} onChange={this.changeDescription.bind(this)} multiLine={true} rows={3} floatingLabelText=\"Enter a description for the project\" floatingLabelFixed={true} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Metadata;\n","import * as React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\n\n//this is a generic component for selecting and dynamically displaying a layer from mapbox on a mapbox map\n//the following are property requirements:\n// map:         the mapbox map where the layer will be displayed\n// mapboxUser   the mapbox user id where the tilesets are stored, e.g. blished\n// items:       the items that you want to display in the select box. these must contain the following properties: \n//  alias               - a string for the text that will be shown in the select box\n//  feature_class_name  - the actual value that determines which item is selected - this should be the tileset name, e.g. pupng_terrestrial_hexagon_50\n//  envelope            - a well-known-text representation of the bounds of the mapbox layer, e.g. \"POLYGON((60.4758290002083 29.3772500001874,60.4758290002083 38.4906960004201,74.8898619998315 38.4906960004201,74.8898619998315 29.3772500001874,60.4758290002083 29.3772500001874))\" (optional)\n// selectedValue the value that is selected (controlled from the controlling component)\n//prerequisitives:\n// request library\n\nclass SelectFieldMapboxLayer extends React.Component {\n\tchangeItem(event, newValue) {\n\t\t//get the selected item\n\t\tlet item = this.props.items[newValue];\n\t\t//zoom to the layer\n\t\tif (item.envelope !== null){\n\t\t\tvar envelope = this.getLatLngLikeFromWKT(item.envelope);\n\t\t\tthis.props.map.fitBounds(envelope, { easing: function(num) { return 1; } });\n\t\t}\n\t\t// this.props.map.setPitch(60);\n\t\t//add the layer to the map\n\t\tthis.addLayerToMap(item.feature_class_name);\n\t\t//update the state in the owner\n\t\tthis.props.changeItem(item.feature_class_name);\n\t}\n\n\tgetLatLngLikeFromWKT(wkt) {\n\t\tvar parse = require('wellknown');\n\t\tlet envelope = parse(wkt).coordinates[0];\n\t\treturn [\n\t\t\t[envelope[0][0], envelope[0][1]],\n\t\t\t[envelope[2][0], envelope[2][1]]\n\t\t];\n\t}\n\n\t//check the layer exists\n\taddLayerToMap(mapboxlayername) {\n\t\tthis.mapboxlayername = mapboxlayername;\n\t\tvar request = require('request');\n\t\trequest('https://api.mapbox.com/v4/' + this.props.mapboxUser + '.' + mapboxlayername + '.json?access_token=pk.eyJ1IjoiYmxpc2h0ZW4iLCJhIjoiMEZrNzFqRSJ9.0QBRA2HxTb8YHErUFRMPZg&secure', this.parseUrlExists.bind(this));\n\t}\n\n\tparseUrlExists(err, res) {\n\t\tlet exists = (res && res.statusCode === 200) ? true : false;\n\t\tif (exists) {\n\t\t\t//remove the previous planning unit layer\n\t\t\tlet previousLayerId = this.props.map.getStyle().layers[this.props.map.getStyle().layers.length - 1].id;\n\t\t\t//check it is a planning unit layer\n\t\t\tif (previousLayerId.substr(0, 3) === \"pu_\") {\n\t\t\t\tthis.props.map.removeLayer(this.props.map.getStyle().layers[this.props.map.getStyle().layers.length - 1].id);\n\t\t\t}\n\t\t\t//remove the source if it already exists\n\t\t\tif (this.props.map.getSource(this.props.mapboxUser)) {\n\t\t\t\tthis.props.map.removeSource(this.props.mapboxUser);\n\t\t\t}\n\t\t\t//add the source for this layer\n\t\t\tthis.props.map.addSource('blishten', {\n\t\t\t\ttype: 'vector',\n\t\t\t\turl: \"mapbox://\" + this.props.mapboxUser + \".\" + this.mapboxlayername\n\t\t\t});\n\t\t\t//add the layer\n\t\t\tthis.props.map.addLayer({\n\t\t\t\t'id': this.mapboxlayername,\n\t\t\t\t'type': \"fill\",\n\t\t\t\t'source': this.props.mapboxUser,\n\t\t\t\t'source-layer': this.mapboxlayername, \n\t\t\t\t'paint': {\n\t\t\t\t\t'fill-color': '#f08',\n\t\t\t\t\t'fill-opacity': 0.4\n\t\t\t\t}\n\t\t\t});\n\t\t} \n\t\telse {\n\t\t\tconsole.log(\"The MapBox layer does not exist\"); \n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<SelectField \n\t\t\t\tonChange={this.changeItem.bind(this)} \n\t\t\t\tvalue={this.props.selectedValue} \n\t\t\t\tmenuItemStyle={{fontSize:'12px'}} \n\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\tfloatingLabelText=\"Select the planning units\" \n\t\t\t\tfloatingLabelFixed={true} \n\t\t\t\tstyle={{width:this.props.width, verticalAlign:'middle'}}>\n\t\t\t\t\t{this.props.items.map((item)=>{\n\t\t\t\t\treturn <MenuItem \n\t\t\t\t\tvalue={item.feature_class_name} \n\t\t\t\t\tprimaryText={item.alias} \n\t\t\t\t\tkey={item.feature_class_name}\n\t\t\t\t\tstyle={{fontSize:'12px'}}\n\t\t\t\t\tmenuItemStyle={{fontSize:'12px'}}\n\t\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\t\t/>;\n\t\t\t\t\t})}\n\t\t\t\t</SelectField>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default SelectFieldMapboxLayer;\n","import * as React from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport SelectFieldMapboxLayer from './SelectFieldMapboxLayer';\n\nclass PlanningUnitsDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { planning_unit_grids_received: false };\n\t} \n\tcomponentDidMount() {\n\t\tlet map = new mapboxgl.Map({\n\t\t\tcontainer: this.mapContainer,\n\t\t\tstyle: 'mapbox://styles/blishten/cjg6jk8vg3tir2spd2eatu5fd', //north star + marine PAs in pacific\n\t\t\tcenter: [0, 0],\n\t\t\tzoom: 2\n\t\t});\n\t\tthis.setState({map: map});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'newPUDialogPane'}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div ref={el => this.mapContainer = el} className=\"absolute top right left bottom\" style={{width:'352px',height:'300px', marginTop: '71px',marginLeft: '24px'}}/>\n\t\t\t\t\t\t<div style={{position: 'absolute', top:'380px', verticalAlign: 'middle'}}>\n\t\t\t\t\t\t\t<SelectFieldMapboxLayer \n\t\t\t\t\t\t\t\tmenuItemStyle={{fontSize:'12px'}}\n\t\t\t\t\t\t\t\tlabelStyle={{fontSize:'12px'}} \n\t\t\t\t\t\t\t\tselectedValue={this.props.pu} \n\t\t\t\t\t\t\t\tmap={this.state.map} \n\t\t\t\t\t\t\t\tmapboxUser={'blishten'} \n\t\t\t\t\t\t\t\titems={this.props.planning_unit_grids} \n\t\t\t\t\t\t\t\tchangeItem={this.props.changeItem} \n\t\t\t\t\t\t\t\tdisabled={!this.state.planning_unit_grids_received}\n\t\t\t\t\t\t\t\twidth={'352px'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default PlanningUnitsDialog;\n","import React from 'react';\nimport { List, ListItem} from 'material-ui/List';\nimport IconMenu from 'material-ui/IconMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport { grey400 } from 'material-ui/styles/colors';\nimport IconButton from 'material-ui/IconButton';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ToolbarButton from './ToolbarButton';\n\nclass SelectCostFeatures extends React.Component { \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { selectedFeature: undefined };\n\t}\n\tcomponentWillMount() {\n\t\tListItem.defaultProps.disableTouchRipple = true;\n\t\tListItem.defaultProps.disableFocusRipple = true;\n\t}\n\tchangeFeature(event, feature) {\n\t\tthis.setState({ selectedFeature: feature });\n\t} \n\tclickListItem(event) {\n\t}\n\trender() {\n\t\tconst iconButtonElement = (\n\t\t\t<IconButton\n\t\t\t\ttouch={true}\n\t\t\t\ttooltipPosition=\"bottom-left\"\n\t\t\t>\n\t\t\t<MoreVertIcon color={grey400} />\n\t\t\t</IconButton>\n\t\t);\n\n\t\tconst rightIconMenu = (\n\t\t\t<IconMenu iconButtonElement={iconButtonElement}>\n\t\t\t<MenuItem>Info</MenuItem>\n\t\t\t<MenuItem title=\"Not implemented\">View</MenuItem>\n\t\t\t<MenuItem title=\"Not implemented\">Prioritise</MenuItem>\n\t\t</IconMenu>\n\t\t);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'newPUDialogPane'}>\n\t\t\t\t\t<div>Select the costs</div>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{this.props.selectedCosts.map((item)=>{\n\t\t\t\t\t\t\treturn <ListItem \n\t\t\t\t\t\t\t  disableFocusRipple={true}\n\t\t\t\t\t\t\t\tprimaryText={item.alias} \n\t\t\t\t\t\t\t\tsecondaryText={item.description} \n\t\t\t\t\t\t\t\tkey={item.id} \n\t\t\t\t\t\t\t\tvalue={item.alias}\n\t\t\t\t\t\t\t\trightIconButton={rightIconMenu}\n\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</List>\n\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\tlabel=\"Select\" \n\t\t\t\t\t\tonClick={this.props.openCostsDialog}/>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default SelectCostFeatures;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faCheckCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport ToolbarButton from './ToolbarButton';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\nimport Popover from 'material-ui/Popover';\nimport Menu from 'material-ui/Menu';\nimport MenuItem from 'material-ui/MenuItem';\n//import gbif_logo from './gbif.jpg';\n//import FontIcon from 'material-ui/FontIcon';\n// add this to the gbif item: leftIcon={<FontIcon className=\"gbifLogo\"/> \n\nclass FeaturesDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFeature: undefined\n    };\n  }\n  _delete() {\n    this.props.deleteFeature(this.state.selectedFeature);\n    this.setState({\n      selectedFeature: undefined\n    });\n  }\n  _new(event) {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n    this.props.showNewFeaturesDialogPopover();\n  }\n  _newByImport() {\n    //close the dialog\n    this.props.onCancel();\n    //show the new feature dialog\n    this.props.openNewFeatureDialog(\"import\");\n  }\n  _newByDigitising() {\n    //hide this dialog\n    this.onOk();\n    //show the drawing controls\n    this.props.initialiseDigitising();\n  }\n  clickFeature(event, feature) {\n    if (this.props.addingRemovingFeatures) {\n      this.props.clickFeature(feature);\n    } else {\n      this.setState({\n        selectedFeature: feature\n      });\n    }\n  }\n  onOk(evt) {\n    if (this.props.addingRemovingFeatures) {\n      this.props.onOk();\n    } else {\n      this.unselectFeature();\n    }\n  }\n  unselectFeature(evt) {\n    this.setState({\n      selectedFeature: undefined\n    });\n    this.props.onCancel();\n  }\n  sortDate(a, b, desc) {\n    return (Date.parse(a) > Date.parse(b)) ? 1 : -1;\n  }\n  render() {\n    if (this.props.allFeatures) {\n      return (\n        <MarxanDialog {...this.props} autoDetectWindowHeight={ false } bodyStyle={ { padding: '0px 24px 0px 24px' } } title=\"Features\" onOk={ this.onOk.bind(this) } showCancelButton={ (this.props.userRole !== \"ReadOnly\") }\n          children={ <React.Fragment key=\"k10\">\n                       <div style={ { marginBottom: '5px' } }>There are a total of \n                         {\" \" + this.props.allFeatures.length } features:</div>\n                       <div id=\"projectsTable\">\n                         <ReactTable pageSize={ this.props.allFeatures.length } className={ 'projectsReactTable' } showPagination={ false } minRows={ 0 } data={ this.props.allFeatures }\n                           thisRef={ this } columns={ [{ Header: 'Name', accessor: 'alias', width: 170, headerStyle: { 'textAlign': 'left' } }, { Header: 'Description', accessor: 'description', width: 330, headerStyle: { 'textAlign': 'left' } }, { Header: 'Date', accessor: 'creation_date', width: 220, headerStyle: { 'textAlign': 'left' }, sortMethod: this.sortDate.bind(this) }] } getTrProps={ (state, rowInfo, column) => {\n                          return {\n                            style: {\n                              background: ((state.thisRef.props.addingRemovingFeatures && state.thisRef.props.selectedFeatureIds.includes(rowInfo.original.id)) || (!state.thisRef.props.addingRemovingFeatures && state.thisRef.state.selectedFeature && state.thisRef.state.selectedFeature.id === rowInfo.original.id)) ? \"aliceblue\" : \"\"\n                            },\n                            onClick: (e) => {\n                              state.thisRef.clickFeature(e, rowInfo.original);\n                            }\n                          };\n                        } } />\n                     </div>\n                       <div id=\"projectsToolbar\">\n                         <div style={ { display: (this.props.metadata.OLDVERSION) ? \"block\" : \"none\" } } className={ 'tabTitle' }>This is an imported project. Only features from this project are shown.</div>\n                         <ToolbarButton show={ (this.props.userRole !== \"ReadOnly\") && (!this.props.metadata.OLDVERSION) && (!this.props.addingRemovingFeatures) } icon={ <FontAwesomeIcon icon={ faPlusCircle } /> } title=\"New feature\" disabled={ this.props.loading } onClick={ this._new.bind(this) } label={ \"New\" }\n                         />\n                         <Popover open={ this.props.featuresDialogPopupOpen } anchorEl={ this.state.anchorEl } anchorOrigin={ { horizontal: 'left', vertical: 'bottom' } } targetOrigin={ { horizontal: 'left', vertical: 'top' } } onRequestClose={ this.props.closePopover }>\n                           <Menu desktop={ true }>\n                             <MenuItem primaryText=\"Import shapefile\" title=\"Create a new feature by importing a zipped shapefile from the local machine\" onClick={ this._newByImport.bind(this) } />\n                             <MenuItem primaryText=\"Draw on screen\" title=\"Create a new feature by digitising it on the screen\" onClick={ this._newByDigitising.bind(this) } />\n                             <MenuItem primaryText=\"Add from GBIF\" disabled={ true } />\n                             <MenuItem primaryText=\"Add from IUCN Red List\" disabled={ true } />\n                           </Menu>\n                         </Popover>\n                         <ToolbarButton show={ (this.props.userRole === \"Admin\") && (!this.props.metadata.OLDVERSION) && (!this.props.addingRemovingFeatures) } icon={ <FontAwesomeIcon icon={ faTrashAlt } color='rgb(255, 64, 129)' /> } title=\"Delete feature\" disabled={ this.state.selectedFeature === undefined || this.props.loading } onClick={ this._delete.bind(this) } label={ \"Delete\" }\n                         />\n                         <ToolbarButton show={ this.props.addingRemovingFeatures } icon={ <FontAwesomeIcon icon={ faCircle } /> } title=\"Clear all features\" onClick={ this.props.clearAllFeatures } label={ \"Clear all\" } />\n                         <ToolbarButton show={ this.props.addingRemovingFeatures } icon={ <FontAwesomeIcon icon={ faCheckCircle } /> } title=\"Select all features\" onClick={ this.props.selectAllFeatures } label={ \"Select all\" } />\n                       </div>\n                     </React.Fragment> } />\n        );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default FeaturesDialog;\n","import React from 'react';\nimport Metadata from './Metadata';\nimport PlanningUnitsDialog from './PlanningUnitsDialog';\nimport SelectFeatures from './SelectFeatures';\nimport SelectCostFeatures from './SelectCostFeatures';\nimport MarxanDialog from './MarxanDialog';\nimport FeaturesDialog from './FeaturesDialog';\nimport ToolbarButton from './ToolbarButton';\n\nclass NewProjectDialog extends React.Component {\n\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\t\tsteps: ['Info', 'Planning units', 'Features', 'Costs'],\n\t\t\t\t\tloadingFeatures: false,\n\t\t\t\t\tfinished: false,\n\t\t\t\t\tstepIndex: 0,\n\t\t\t\t\tname: '',\n\t\t\t\t\tdescription: '',\n\t\t\t\t\tpu: '',\n\t\t\t\t\tfeaturesDialogOpen: false,\n\t\t\t\t\tallFeatures: [],\n\t\t\t\t\tselectedFeatureIds: []\n\t\t\t};\n\t}\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\tif (prevProps.features.length !== this.props.features.length) { //coarse comparison at the moment\n\t\t\t\t\tthis.setState({ allFeatures: JSON.parse(JSON.stringify(this.props.features)) }); //a copy of all the features\n\t\t\t}\n\t}\n\thandleNext = () => {\n\t\t\tconst { stepIndex } = this.state;\n\t\t\tthis.setState({\n\t\t\t\t\tstepIndex: stepIndex + 1\n\t\t\t});\n\t};\n\thandlePrev = () => {\n\t\t\tconst { stepIndex } = this.state;\n\t\t\tif (stepIndex > 0) {\n\t\t\t\t\tthis.setState({ stepIndex: stepIndex - 1 });\n\t\t\t}\n\t};\n\topenFeaturesDialog() {\n\t\t\tthis.setState({ featuresDialogOpen: true });\n\t}\n\tsetName(value) {\n\t\t\tthis.setState({ name: value });\n\t}\n\tsetDescription(value) {\n\t\t\tthis.setState({ description: value });\n\t}\n\tchangePU(value) {\n\t\t\tthis.setState({ pu: value });\n\t}\n\tonOk(evt) {\n\t\t\tthis.gotoStart();\n\t\t\tthis.props.onOk();\n\t}\n\tgotoStart() {\n\t\t\t//reset to the beginning\n\t\t\tthis.setState({ stepIndex: 0 });\n\t}\n\tcloseFeaturesDialog() {\n\t\t\tthis.setState({ featuresDialogOpen: false });\n\t}\n\t//updates the allFeatures to set the various properties based on which features have been selected in the FeaturesDialog\n\tupdateSelectedFeatures() {\n\t\t\tlet allFeatures = this.state.allFeatures;\n\t\t\tallFeatures.forEach((feature) => { \n\t\t\t\t\tif (this.state.selectedFeatureIds.includes(feature.id)) {\n\t\t\t\t\t\t\tObject.assign(feature, { selected: true });\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t\tObject.assign(feature, { selected: false });\n\t\t\t\t\t}\n\t\t\t}, this);\n\t\t\t//update allFeatures to reflect those that are selected\n\t\t\tthis.setState({ allFeatures: allFeatures});\n\t\t\tthis.closeFeaturesDialog();\n\t}\n\n\tclickFeature(feature) {\n\t\t\tlet ids = this.state.selectedFeatureIds;\n\t\t\tif (ids.includes(feature.id)) {\n\t\t\t\t\t//remove the feature if it is already selected\n\t\t\t\t\tthis.removeFeature(feature);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t\t//add the feautre to the selected feature array\n\t\t\t\t\tthis.addFeature(feature);\n\t\t\t}\n\t}\n\t//selects all the features\n\tselectAllFeatures() {\n\t\t\tlet ids = [];\n\t\t\tthis.state.allFeatures.forEach((feature) => {\n\t\t\t\t\tids.push(feature.id);\n\t\t\t});\n\t\t\tthis.setState({ selectedFeatureIds: ids });\n\t}\n\n\t//clears all the Conservation features\n\tclearAllFeatures() {\n\t\t\tthis.setState({ selectedFeatureIds: [] });\n\t}\n\n\t//removes a feature from the selectedFeatureIds array\n\tremoveFeature(feature) {\n\t\t\tlet ids = this.state.selectedFeatureIds;\n\t\t\t//remove the feature  - this requires a callback on setState otherwise the state is not updated before updateSelectedFeatures is called\n\t\t\tids = ids.filter(function(value, index, arr) { return value !== feature.id });\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\tthis.setState({ selectedFeatureIds: ids }, function() {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t}.bind(this));\n\t}\n\n\t//adds a feature to the selectedFeatureIds array\n\taddFeature(feature) {\n\t\t\tlet ids = this.state.selectedFeatureIds;\n\t\t\t//add the feautre to the selected feature array\n\t\t\tids.push(feature.id);\n\t\t\tthis.setState({ selectedFeatureIds: ids });\n\t}\n\n\tcreateNewProject() {\n\t\t\tthis.props.createNewProject({ name: this.state.name, description: this.state.description, planning_grid_name: this.state.pu, features: this.state.allFeatures.filter((item) => { return item.selected }) });\n\t\t\tthis.onOk();\n\t}\n\n\trender() {\n\t\t\tconst { stepIndex } = this.state;\n\t\t\tconst contentStyle = { margin: '0 16px' };\n\t\t\tconst actions = [\n\t\t\t\t\t<div style={{width: '100%', maxWidth: '500px', margin: 'auto',textAlign:'center'}}>\n\t\t\t\t\t\t\t{/*dynamically create the stepper\n\t\t\t\t\t\t\t<Stepper activeStep={stepIndex}>\n\t\t\t\t\t\t\t\t\t{this.state.steps.map((item) => {return <Step key={item}><StepLabel>{item}</StepLabel></Step>})}\n\t\t\t\t\t\t\t</Stepper> */}\n\t\t\t\t\t\t\t<div style={contentStyle}>\n\t\t\t\t\t\t\t\t\t<div style={{marginTop: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Back\" \n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={stepIndex === 0}  \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handlePrev} \n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={stepIndex === (this.state.steps.length-1) ? 'Finish' : 'Next'} \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={stepIndex === (this.state.steps.length-1) ? this.createNewProject.bind(this) : this.handleNext} \n\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={true} \n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t];\n\t\t\tlet c = <div key=\"k3\">\n\t\t\t\t\t\t\t\t\t{stepIndex === 0 ? <Metadata name={this.state.name} description={this.state.description} setName={this.setName.bind(this)} setDescription={this.setDescription.bind(this)} paddingBottom={'198px'}/> : null}\n\t\t\t\t\t\t\t\t\t{stepIndex === 1 ? <PlanningUnitsDialog \n\t\t\t\t\t\t\t\t\t\tgetPlanningUnitGrids={this.props.getPlanningUnitGrids} \n\t\t\t\t\t\t\t\t\t\tplanning_unit_grids={this.props.planning_unit_grids} \n\t\t\t\t\t\t\t\t\t\tchangeItem={this.changePU.bind(this)} pu={this.state.pu} \n\t\t\t\t\t\t\t\t\t\topenImportPlanningGridDialog={this.props.openImportPlanningGridDialog}/> : null}\n\t\t\t\t\t\t\t\t\t{stepIndex === 2 ? <SelectFeatures \n\t\t\t\t\t\t\t\t\t\t\tfeatures={this.state.allFeatures.filter((item)=>{return item.selected;})}\n\t\t\t\t\t\t\t\t\t\t\topenFeaturesDialog={this.openFeaturesDialog.bind(this)}  \n\t\t\t\t\t\t\t\t\t\t\tsimple={true}\n\t\t\t\t\t\t\t\t\t\t\tleftmargin={'0px'}\n\t\t\t\t\t\t\t\t\t/> : null}\n\t\t\t\t\t\t\t\t\t{stepIndex === 3 ? <SelectCostFeatures\n\t\t\t\t\t\t\t\t\t\t\topenCostsDialog={this.props.openCostsDialog}\n\t\t\t\t\t\t\t\t\t\t\tselectedCosts={this.props.selectedCosts}\n\t\t\t\t\t\t\t\t\t/> : null}\n\t\t\t\t\t\t\t</div>;\n\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t<MarxanDialog \n\t\t\t\t\t\t\t{...this.props} \n\t\t\t\t\t\t\ttitle={'New project'}\n\t\t\t\t\t\t\tcontentWidth={400}\n\t\t\t\t\t\t\tchildren={c} \n\t\t\t\t\t\t\tactions={actions} \n\t\t\t\t\t\t\tokLabel={\"Cancel\"}\n\t\t\t\t\t\t\tonOk={this.onOk.bind(this)}\n\t\t\t\t\t\t\tonCancel={this.onOk.bind(this)}\n\t\t\t\t\t\t\tonRequestClose={this.onOk.bind(this)} \n\t\t\t\t\t/>\n\t\t\t\t\t\t<FeaturesDialog\n\t\t\t\t\t\t\topen={this.state.featuresDialogOpen}\n\t\t\t\t\t\t\tonOk={this.updateSelectedFeatures.bind(this)}\n\t\t\t\t\t\t\tonCancel={this.closeFeaturesDialog.bind(this)}\n\t\t\t\t\t\t\tloadingFeatures={this.state.loadingFeatures}\n\t\t\t\t\t\t\tallFeatures={this.state.allFeatures}\n\t\t\t\t\t\t\tselectAllFeatures={this.selectAllFeatures.bind(this)}\n\t\t\t\t\t\t\tclearAllFeatures={this.clearAllFeatures.bind(this)}\n\t\t\t\t\t\t\tclickFeature={this.clickFeature.bind(this)}\n\t\t\t\t\t\t\taddingRemovingFeatures={true}\n\t\t\t\t\t\t\tselectedFeatureIds={this.state.selectedFeatureIds}\n\t\t\t\t\t\t\tmetadata={{OLDVERSION:false}}\n\t\t\t\t\t\t\tuserRole={\"User\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</React.Fragment>\n\t\t\t);\n\t}\n}\n\nexport default NewProjectDialog;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n// import { faBookOpen } from '@fortawesome/free-solid-svg-icons';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons';\nimport Import from 'material-ui/svg-icons/action/get-app';\nimport ToolbarButton from './ToolbarButton';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\n\nclass PlanningGridsDialog extends React.Component { \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {selectedPlanningGrid: undefined};\n\t}\n\t_delete() {\n\t\tthis.props.deletePlanningGrid(this.state.selectedPlanningGrid.feature_class_name);\n\t\tthis.setState({ selectedPlanningGrid: false });\n\t}\n\t_new() {\n\t\tthis.props.openNewPlanningGridDialog();\n\t\tthis.closeDialog();\n\t}\n\topenImportDialog() {\n\t\tthis.props.openImportPlanningGridDialog();\n\t\tthis.closeDialog();\n\t}\n\tchangePlanningGrid(event, planningGrid) {\n\t\tthis.setState({ selectedPlanningGrid: planningGrid });\n\t}\n\tcloseDialog() {\n\t\tthis.setState({ selectedPlanningGrid: undefined });\n\t\tthis.props.onOk(); \n\t}\n\trenderName(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.alias + \" (\" + row.original.feature_class_name + \")\"}>{row.original.alias}</div>;        \n\t}\n\trenderTitle(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.description}>{row.original.description}</div>;        \n\t}\n\trenderCountry(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.country}>{row.original.country}</div>;        \n\t}\n\trenderArea(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}}>{(isNaN(row.original._area)) ? '' : row.original._area}</div>;        \n\t}\n\trender() {\n\t\tlet tableColumns = [];\n\t\ttableColumns = [\n\t\t\t{ Header: 'Name', accessor: 'alias', width: 220, headerStyle: { 'textAlign': 'left' }, Cell: this.renderName.bind(this) }, \n\t\t\t{ Header: 'Description', accessor: 'description', width: 284, headerStyle: { 'textAlign': 'left' }, Cell: this.renderTitle.bind(this) }, \n\t\t\t{ Header: 'Country', accessor: 'country', width: 70, headerStyle: { 'textAlign': 'left' }, Cell: this.renderCountry.bind(this)}, \n\t\t\t{ Header: 'Domain', accessor: 'domain', width: 70, headerStyle: { 'textAlign': 'left' }}, \n\t\t\t{ Header: 'Area (Km2)', accessor: '_area', width: 76, headerStyle: { 'textAlign': 'left' }, Cell: this.renderArea.bind(this) }\n\t\t];\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\t// titleBarIcon={faBookOpen}\n\t\t\t\tonOk={this.closeDialog.bind(this)}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\tautoDetectWindowHeight={false}\n\t\t\t\tbodyStyle={{ padding:'0px 24px 0px 24px'}}\n\t\t\t\ttitle=\"Planning grids\"  \n\t\t\t\tchildren={\n\t\t\t\t\t<React.Fragment key=\"k2\">\n\t\t\t\t\t\t<div style={{marginBottom:'5px'}}>There are a total of {this.props.planningGrids.length} planning grids:</div>\n\t\t\t\t\t\t\t<div id=\"projectsTable\">\n\t\t\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\t\t  pageSize={ this.props.planningGrids.length }\n\t\t\t\t\t\t\t\t\tclassName={'projectsReactTable'}\n\t\t\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\tdata={this.props.planningGrids}\n\t\t\t\t\t\t\t\t\tthisRef={this} \n\t\t\t\t\t\t\t\t\tcolumns={tableColumns}\n\t\t\t\t\t\t\t\t\tgetTrProps={(state, rowInfo, column) => {\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: (rowInfo.original.alias === (state.thisRef.state.selectedPlanningGrid && state.thisRef.state.selectedPlanningGrid.alias)) ? \"aliceblue\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.thisRef.changePlanningGrid(e, rowInfo.original);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"projectsToolbar\" style={{display: (this.props.userRole === \"ReadOnly\") ? 'none' : 'block'}}>\n\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"createPlanningUnitGrid\")} \n\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faPlusCircle} />} \n\t\t\t\t\t\t\t\ttitle=\"New planning grid\"\n\t\t\t\t\t\t\t\tonClick={this._new.bind(this)} \n\t\t\t\t\t\t\t\tlabel={\"New\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"importPlanningUnitGrid\")}\n\t\t\t\t\t\t\t\ticon={<Import style={{height:'20px',width:'20px'}}/>} \n\t\t\t\t\t\t\t\ttitle=\"Import an existing planning grid from the local machine\"\n\t\t\t\t\t\t\t\tonClick={this.openImportDialog.bind(this)} \n\t\t\t\t\t\t\t\tlabel={\"Import\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"deletePlanningUnitGrid\")}\n\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faTrashAlt}  color='rgb(255, 64, 129)'/>} \n\t\t\t\t\t\t\t\ttitle=\"Delete planning grid\" \n\t\t\t\t\t\t\t\tdisabled={!this.state.selectedPlanningGrid || this.props.loading}\n\t\t\t\t\t\t\t\tonClick={this._delete.bind(this)} \n\t\t\t\t\t\t\t\tlabel={\"Delete\"}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t} \n\t\t\t/>\n\t\t); //return\n\t}\n}\n\nexport default PlanningGridsDialog;\n","import * as React from \"react\";\nimport MarxanDialog from \"./MarxanDialog\";\nimport SelectField from \"material-ui/SelectField\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport ToolbarButton from \"./ToolbarButton\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowAltCircleUp } from '@fortawesome/free-regular-svg-icons';\nlet domains = [\"Marine\", \"Terrestrial\"];\nlet areakm2s = [10, 20, 30, 40, 50];\nlet shapes = ['Hexagon', 'Square'];\n\nclass NewPlanningGridDialog extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {iso3: '', domain:'', shape:'', areakm2: undefined};\n\t}\n\tchangeIso3(evt, value) {\n\t\tthis.setState({iso3: this.props.countries[value].iso3});\n\t}\n\tchangeDomain(evt, value) {\n\t\tthis.setState({domain: domains[value]});\n\t}\n\tchangeShape(evt, value) {\n\t\tthis.setState({shape: shapes[value]});\n\t}\n\tchangeAreaKm2(evt, value) {\n\t\tthis.setState({areakm2: areakm2s[value]});\n\t}\n\tonOk(){\n\t\t//create the new planning grid\n\t\tthis.props.createNewPlanningUnitGrid(this.state.iso3, this.state.domain, this.state.areakm2, this.state.shape).then(function(response){\n\t\t\t//close the dialog\n\t\t\tthis.props.onCancel();\n\t\t}.bind(this));\n\t}\n\trender() {\n\t\tlet dropDownStyle = { width: \"240px\" };\n\t\treturn (\n\t\t\t<MarxanDialog\n\t\t\t\t{...this.props}\n\t\t\t\tonOk={this.onOk.bind(this)}\n\t\t\t\tonRequestClose={this.props.onCancel}\n\t\t\t\tokDisabled={ !this.state.iso3 ||!this.state.domain ||!this.state.areakm2 ||this.props.loading}\n\t\t\t\tcancelLabel={\"Cancel\"}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\ttitle=\"New planning grid\"\n\t\t\t\tcontentWidth={358}\n\t\t\t\tchildren={\n\t\t\t\t\t<React.Fragment key=\"k13\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<SelectField menuItemStyle={{ fontSize: \"12px\" }} labelStyle={{ fontSize: \"12px\" }} onChange={this.changeIso3.bind(this)} value={this.state.iso3} floatingLabelText=\"Area of interest\" floatingLabelFixed={true}>\n\t\t\t\t\t\t\t\t{this.props.countries.map(item => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.iso3}\n\t\t\t\t\t\t\t\t\t\t\tprimaryText={item.original_n}\n\t\t\t\t\t\t\t\t\t\t\tkey={item.iso3}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</SelectField> \n\t\t\t\t\t\t\t<ToolbarButton icon={<FontAwesomeIcon icon={faArrowAltCircleUp} />} title=\"Load a custom area of interest from a shapefile (not currently implemented)\" style={{position: 'absolute', top: '83px', right: '32px'}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<SelectField menuItemStyle={{ fontSize: \"12px\" }} labelStyle={{ fontSize: \"12px\" }} onChange={this.changeDomain.bind(this)} value={this.state.domain} style={dropDownStyle} floatingLabelText=\"Domain\" floatingLabelFixed={true}>\n\t\t\t\t\t\t\t\t{domains.map(item => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\t\t\t\t\t\tprimaryText={item}\n\t\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</SelectField>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<SelectField menuItemStyle={{ fontSize: \"12px\" }} labelStyle={{ fontSize: \"12px\" }} onChange={this.changeShape.bind(this)} value={this.state.shape} style={dropDownStyle} floatingLabelText=\"Planning unit shape\" floatingLabelFixed={true}>\n\t\t\t\t\t\t\t\t{shapes.map(item => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\t\t\t\t\t\tprimaryText={item}\n\t\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</SelectField>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<SelectField menuItemStyle={{ fontSize: \"12px\" }} labelStyle={{ fontSize: \"12px\" }} onChange={this.changeAreaKm2.bind(this)} value={this.state.areakm2} style={dropDownStyle} floatingLabelText=\"Area of each planning unit\" floatingLabelFixed={true}>\n\t\t\t\t\t\t\t\t{areakm2s.map(item => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\t\t\t\t\t\tprimaryText={item + \" Km2\"}\n\t\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</SelectField>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default NewPlanningGridDialog;\n","import React from 'react';\n/*eslint-disable no-unused-vars*/\nimport axios, { post } from 'axios';\n/*eslint-enable no-unused-vars*/\nimport FontAwesome from 'react-fontawesome';\n\n//From AshikNesin https://gist.github.com/AshikNesin/e44b1950f6a24cfcd85330ffc1713513\n\nclass ShapefileUpload extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { loading: false,active:false };\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.fileUpload = this.fileUpload.bind(this);\n\t}\n \n\tonClick(e){\n\t\tthis.setState({active:true});\n\t}\n\tonChange(e) {\n\t\tif (e.target.files.length) {\n\t\t\tthis.fileUpload(e.target.files[0]);\n\t\t\t//reset the file selector\n\t\t\tdocument.getElementById(this.id).value = \"\";\n\t\t}\n\t}\n\n\tfileUpload(value) {\n\t\tthis.setState({ loading: true });\n\t\tconst url = this.props.requestEndpoint + \"uploadShapefile\";\n\t\tconst formData = new FormData();\n\t\tthis.filename = value['name']; //from the open file dialog\n\t\tformData.append('value', value); \n\t\tformData.append('filename', this.filename);\n\t\tformData.append('name', this.props.name);\n\t\tformData.append('description', this.props.description); \n\t\tpost(url, formData, {withCredentials: this.props.SEND_CREDENTIALS}).then(function(response){\n\t\t\tthis.finishedLoading(response);\n\t\t}.bind(this));\n\t}\n\n\tfinishedLoading(response) {\n\t\tif (!this.props.checkForErrors(response.data)){\n\t\t\tthis.setState({ loading: false });\n\t\t\tthis.props.setFilename(this.filename);\n\t\t}\n\t\tthis.setState({active:false});\n\t} \n\trender() {\n\t\tthis.id = \"upload\" + this.props.parameter;\n\t\treturn (\n\t\t\t<form className='uploadForm'>\n\t\t\t\t<div className='uploadLabel' style={{color: (this.state.active) ? 'rgb(0, 188, 212)' : 'rgba(0, 0, 0, 0.3)'}}>{this.props.label}</div> \n\t\t\t\t<div className='uploadFileField'>\n\t\t\t\t\t<div className='uploadFileFieldIcon'>\n\t\t\t\t\t\t<label htmlFor={this.id}><FontAwesome name='file' title='Click to upload a file' style={{'cursor':'pointer'}}/></label>\n\t\t\t\t\t\t<input type=\"file\" onChange={this.onChange} onClick={this.onClick.bind(this)} accept=\".zip\" style={{'display':'none', 'width':'10px'}} id={this.id} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='mandatoryIcon'>\n\t\t\t\t\t\t<FontAwesome name='exclamation-circle' title='Required field' style={{ color: 'darkslateblue', 'display': (this.props.filename  === '' && this.props.mandatory) ? 'block' : 'none'}}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='uploadFileFieldLabel' style={{width:'168px'}}>{this.props.filename}</div>\n\t\t\t\t</div>\n\t\t\t\t<FontAwesome name='sync' spin style={{'display': (this.state.loading ? 'inline-block' : 'none'), 'marginLeft':'6px'}}/>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport default ShapefileUpload;\n","import * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport MarxanDialog from \"./MarxanDialog\";\nimport ShapefileUpload from './ShapefileUpload';\n\nclass UploadPlanningGridDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {planning_grid_name:'', zipFilename: ''}; \n\t}\n\tchangeName(event, newValue) {\n\t\tthis.setState({planning_grid_name: newValue});\n\t}\n\tsetzipFilename(filename) { \n\t\tthis.setState({ zipFilename: filename }); \n\t} \n\tonOk(){\n\t\tthis.props.onOk(this.state.zipFilename, this.state.planning_grid_name, 'Imported using the import planning grid dialog').then(function(response){\n\t\t\t//any additional processing\n\t\t}).catch(function(ex) {\n\t\t\t//error uploading the shapefile\n\t  });\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\ttitle={'Import planning grid'}\n\t\t\t\tcontentWidth={304}\n\t\t\t\tchildren={\n\t\t\t\t\t<React.Fragment key=\"22\">\n\t\t\t\t\t\t<TextField value={this.state.planning_grid_name} onChange={this.changeName.bind(this)} floatingLabelText=\"Name\" floatingLabelFixed={true} />\n\t\t\t\t\t\t<ShapefileUpload \n\t\t\t\t\t\t\trequestEndpoint={this.props.requestEndpoint} \n\t\t\t\t\t\t\tSEND_CREDENTIALS={this.props.SEND_CREDENTIALS} \n\t\t\t\t\t\t\tmandatory={true} \n\t\t\t\t\t\t\tfilename={this.state.zipFilename} \n\t\t\t\t\t\t\tsetFilename={this.setzipFilename.bind(this)} \n\t\t\t\t\t\t\tcheckForErrors={this.props.checkForErrors} \n\t\t\t\t\t\t\tlabel=\"Zipped shapefile\" \n\t\t\t\t\t\t/> \n\t\t\t\t\t</React.Fragment>\n\t\t\t\t} \n\t\t\t\tshowCancelButton={true}\n\t\t\t\tonOk={this.onOk.bind(this)}\n\t\t\t\tokDisabled={this.props.loading}\n\t\t\t\tonRequestClose={this.props.onCancel.bind(this)} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default UploadPlanningGridDialog;\n","import * as React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport TextField from 'material-ui/TextField';\nimport ShapefileUpload from './ShapefileUpload.js'\n\nclass NewFeatureDialog extends React.Component {\n\tchangeName(event, newValue) {\n\t\tthis.props.setName(newValue);\n\t}\n\tchangeDescription(event, newValue) {\n\t\tthis.props.setDescription(newValue);\n\t}\n\trender() {\n\t\tlet c = \n\t\t\t<React.Fragment key=\"k12\">\n\t\t\t\t<div> \n\t\t\t\t\t<TextField value={this.props.name} onChange={this.changeName.bind(this)} style={{display:'block'}} floatingLabelText=\"Enter a name\" floatingLabelFixed={true}/>\n\t\t\t\t\t<TextField value={this.props.description} onChange={this.changeDescription.bind(this)} style={{display:'block'}} multiLine={true} rows={2} floatingLabelText=\"Enter a description\" floatingLabelFixed={true}/>\n\t\t\t\t\t{(this.props.newFeatureSource === \"import\") ? <ShapefileUpload SEND_CREDENTIALS={this.props.SEND_CREDENTIALS} requestEndpoint={this.props.requestEndpoint} checkForErrors={this.props.checkForErrors} mandatory={true} name={this.props.name} description={this.props.description} filename={this.props.filename} setFilename={this.props.setFilename} label=\"Shapefile\" style={{'paddingTop':'10px'}}/> : null}\n\t\t\t\t</div>\n\t\t\t</React.Fragment>;\n\t\treturn (\n\t\t\t<MarxanDialog  \n\t\t\t\t{...this.props} \n\t\t\t\tonOk={this.props.createNewFeature}\n\t\t\t\tokDisabled={!(this.props.name!=='' && this.props.description!=='' && ((this.props.filename!=='' && this.props.newFeatureSource === \"import\")||(this.props.filename==='' && this.props.newFeatureSource === \"digitising\")) && (this.props.loading===false))}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\tcontentWidth={420}\n\t\t\t\ttitle=\"New feature\" \n\t\t\t\tchildren={c} \n\t\t\t\tonRequestClose={this.props.onOk} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default NewFeatureDialog;","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\n\nclass CostsDialog extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<MarxanDialog\n\t\t\t{...this.props} \n\t\t\tcontentWidth={370}\n\t\t\toffsetY={80}\n\t\t\ttitle=\"Costs\" \n\t\t\tchildren={            \n\t\t\t<React.Fragment key=\"k8\">\n\t\t\t\t<div>\n\t\t\t\t\tNot yet implemented \n\t\t\t\t</div>\n\t\t\t</React.Fragment>}/>\n\t\t);\n\t}\n}\n\nexport default CostsDialog;\n","import React from 'react';\nimport 'react-table/react-table.css';\nimport ReactTable from \"react-table\";\nimport FontAwesome from 'react-fontawesome';\nimport MarxanDialog from './MarxanDialog';\n\nclass RunSettingsDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { data: [], updateEnabled: false };\n\t\tthis.renderEditable = this.renderEditable.bind(this); \n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.runParams !== this.props.runParams) {\n\t\t\tthis.setState({ data: this.props.runParams });\n\t\t}\n\t}\n\topenParametersDialog(){\n\t\tthis.props.openParametersDialog();\n\t}\n\t//posts the results back to the server\n\tupdateRunParams() {\n\t\t//ui feedback \n\t\tthis.setState({ updateEnabled: false });\n\t\tif (this.props.userRole !== \"ReadOnly\")this.props.updateRunParams(this.state.data);\n\t\tthis.props.onOk();\n\t}\n\tsetUpdateEnabled() {\n\t\tthis.setState({ updateEnabled: true });\n\t}\n\trenderEditable(cellInfo) {\n\t\treturn (\n\t\t\t(this.props.userRole === \"ReadOnly\") ? \n\t\t\t<React.Fragment>\n\t\t\t\t<div>{this.state.data[cellInfo.index][\"value\"]}</div>\n\t\t\t</React.Fragment> \n\t\t\t: \n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ backgroundColor: \"#fafafa\", float: ([...this.state.data][cellInfo.index]['key'] === 'BLM') ? 'left' : 'none'}}\n\t\t\t\t\tcontentEditable\n\t\t\t\t\tsuppressContentEditableWarning\n\t\t\t\t\tonFocus={this.setUpdateEnabled.bind(this)}\n\t\t\t\t\tonBlur={e => {\n\t\t\t\t\t  const data = [...this.state.data];\n\t\t\t\t\t  data[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;\n\t\t\t\t\t  this.setState({ data }); \n\t\t\t\t\t}}\n\t\t\t\t  >{this.state.data[cellInfo.index][\"value\"]}</div>\n\t\t\t\t  <FontAwesome name='external-link-alt' onClick={this.props.showClumpingDialog} title='Click to open the BLM comparison dialog' style={{display: ([...this.state.data][cellInfo.index]['key'] === 'BLM') ? 'block' : 'none', 'cursor':'pointer', 'paddingTop':'6px', 'paddingLeft':'35px'}}/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\tcontentWidth={400}\n\t\t\t\toffsetX={80}\n\t\t\t\toffsetY={260}\n\t\t\t\tonOk={this.updateRunParams.bind(this)}\n\t\t\t\ttitle=\"Run settings\" \n\t\t\t\tchildren={\n\t\t\t\t\t<div style={{height:'275px'}} key=\"k16\">\n\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\tclassName={'summary_infoTable'}\n\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\tpageSize={this.state.data.length}\n\t\t\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\tcolumns={[{\n\t\t\t\t\t\t\t   Header: 'Parameter', \n\t\t\t\t\t\t\t   accessor: 'key',\n\t\t\t\t\t\t\t   width:165,\n\t\t\t\t\t\t\t   headerStyle:{'textAlign':'left'},\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t   Header: 'Value',\n\t\t\t\t\t\t\t   accessor: 'value',\n\t\t\t\t\t\t\t   width:193,\n\t\t\t\t\t\t\t   headerStyle:{'textAlign':'left'},\n\t\t\t\t\t\t\t   Cell: this.renderEditable\n\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t  />\n\t\t\t\t\t</div>\n\t\t\t\t} \n\t\t   />\n\t\t);\n\t}\n}\n\nexport default RunSettingsDialog;\n","import React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nclass RendererSelector extends React.Component {\n\thandleChange(event, index, value) {\n\t\tthis.props.changeValue(value);\n\t}\n\trender() {\n\t\tlet primaryText;\n\t\tlet c = this.props.values.map((item) => {\n\t\t\tif (typeof(item) === 'string') {\n\t\t\t\tprimaryText = item.substr(0, 1).toUpperCase().concat(item.replace(\"_\", \" \").substr(1)); // sentence case and replace _ with space\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprimaryText = item.toString();\n\t\t\t}\n\t\t\treturn <MenuItem value={item} key={item} primaryText={primaryText}/>;\n\t\t});\n\t\treturn (\n\t\t\t<SelectField selectionRenderer={this.props.selectionRenderer} menuItemStyle={{fontSize:'12px'}} labelStyle={{fontSize:'12px'}} listStyle={{fontSize:'12px'}} style={{width:'150px', margin: '0px 10px'}} autoWidth={true} floatingLabelText={this.props.floatingLabelText} floatingLabelFixed={true} children={c} onChange={this.handleChange.bind(this)} value={this.props.property}/>\n\t\t);\n\t}\n}\n\nexport default RendererSelector;\n","import React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport * as utilities from './utilities.js';\n\nclass ColorSelector extends React.Component {\n\thandleChange(event, index, value) {\n\t\tthis.props.changeValue(value);\n\t}\n\tselectionRenderer() {\n\t\tlet c = this.getSwatch(this.props.property, true);\n\t\treturn c;\n\t}\n\tgetSwatch(colorCode, disableHighlight) {\n\t\t//get the number of classes the user currently has selected\n\t\tlet numClasses = this.props.brew.getNumClasses();\n\t\t//get the maximum number of colors in this scheme\n\t\tlet colorSchemeLength = utilities.getMaxNumberOfClasses(this.props.brew, colorCode);\n\t\t//get the color scheme\n\t\tlet colorScheme = this.props.brew.colorSchemes[colorCode];\n\t\t//get the number of colors to show as an array\n\t\tlet numClassesArray = (numClasses <= colorSchemeLength) ? Array.apply(null, { length: numClasses }).map(Number.call, Number) : Array.apply(null, { length: colorSchemeLength }).map(Number.call, Number);\n\t\tlet classesToShow = numClassesArray.length;\n\t\tlet divWidth = 112 / classesToShow;\n\t\tlet colorDivs = numClassesArray.map((item) => {\n\t\t\treturn <div key={item} style={{backgroundColor: colorScheme[classesToShow][item], width: divWidth, height:'16px', display: 'inline-block'}}/>;\n\t\t});\n\t\tlet borderColor = ((colorCode === this.props.property) && !disableHighlight) ? 'rgb(255, 64, 129)' : 'lightgray';\n\t\tcolorDivs = <div style={{display:'inline-flex', marginTop:'12px', border:'1px solid ' + borderColor}}>{colorDivs}</div>;\n\t\treturn colorDivs;\n\t}\n\trender() {\n\t\tlet primaryText;\n\t\tlet c = this.props.values.map(function(colorCode) {\n\t\t\t(colorCode !== 'opacity') ? primaryText = '': primaryText = \"Opacity\";\n\t\t\tif (colorCode !== 'opacity') c = this.getSwatch(colorCode, false);\n\t\t\treturn <MenuItem value={colorCode} primaryText={primaryText} key={colorCode} children={c}/>;\n\t\t}, this);\n\t\treturn (\n\t\t\t<SelectField selectionRenderer={this.selectionRenderer.bind(this)} menuItemStyle={{fontSize:'12px'}} labelStyle={{fontSize:'12px'}} listStyle={{fontSize:'12px'}} style={{width:'150px', margin: '0px 10px'}} autoWidth={true} floatingLabelText={this.props.floatingLabelText} floatingLabelFixed={true} children={c} onChange={this.handleChange.bind(this)} value={this.props.property}/>\n\t\t);\n\t}\n}\n\nexport default ColorSelector;\n","import React from 'react';\nimport 'react-table/react-table.css';\nimport MarxanDialog from './MarxanDialog';\nimport RendererSelector from './RendererSelector.js'; \nimport ColorSelector from './ColorSelector.js';\nimport { BarChart, ReferenceLine, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Label } from 'recharts';\n\nlet RENDERERS = [\"equal_interval\", \"jenks\", \"std_deviation\", \"quantile\"];\nlet COLORCODES = [\"opacity\", \"OrRd\", \"PuBu\", \"BuPu\", \"Oranges\", \"BuGn\", \"YlOrBr\", \"YlGn\", \"Reds\", \"RdPu\", \"Greens\", \"YlGnBu\", \"Purples\", \"GnBu\", \"Greys\", \"YlOrRd\", \"PuRd\", \"Blues\", \"PuBuGn\", \"Spectral\", \"RdYlGn\", \"RdBu\", \"PiYG\", \"PRGn\", \"RdYlBu\", \"BrBG\", \"RdGy\", \"PuOr\", \"Set2\", \"Accent\", \"Set1\", \"Set3\", \"Dark2\", \"Paired\", \"Pastel2\", \"Pastel1\"];\nlet NUMCLASSES = [\"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\nlet TOPCLASSES = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n\nclass ClassificationDialog extends React.Component {\n\n\trender() { \n\t\tlet breaks = this.props.dataBreaks.map((item, index) => {\n\t\t\t//dont include the bottom line as we will use the y axis\n\t\t\treturn <ReferenceLine x={item} key={index} stroke=\"#00BCD4\" />;\n\t\t});\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\tcontentWidth={390}\n\t\t\t\trightX={0}\n\t\t\t\toffsetY={80}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\ttitle=\"Classification\" \n\t\t\t\tchildren={\n\t\t\t\t\t<div style={{height:'275px'}} key=\"k6\">\n\t\t\t\t\t\t<BarChart width={250} height={150} data={this.props.summaryStats}>\n\t\t\t\t\t\t\t<CartesianGrid strokeDasharray=\"1\" stroke=\"#f4f4f4\"/>\n\t\t\t\t\t\t\t<XAxis dataKey=\"number\" tick={{fontSize:11}} type={'number'}>\n\t\t\t\t\t\t\t\t<Label value=\"Sum solutions\" offset={0} position=\"insideBottom\" style={{fontSize:'11px',color:'#222222'}} />\n\t\t\t\t\t\t\t</XAxis> \n\t\t\t\t\t\t\t<YAxis tick={{fontSize:11}}>\n\t\t\t\t\t\t\t\t<Label value='Count' angle={-90} position='insideLeft' style={{fontSize:'11px',color:'#222222'}}/>\n\t\t\t\t\t\t\t</YAxis>\n\t\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t\t<Bar dataKey=\"count\" fill=\"#E14081\" />\n\t\t\t\t\t\t\t{breaks}\n\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t<div className={'renderers'}>\n\t\t\t\t\t\t\t<ColorSelector values={COLORCODES} changeValue={this.props.changeColorCode} property={this.props.renderer.COLORCODE} floatingLabelText={\"Colour scheme\"} brew={this.props.brew} />\n\t\t\t\t\t\t\t<RendererSelector values={RENDERERS} changeValue={this.props.changeRenderer} property={this.props.renderer.CLASSIFICATION} floatingLabelText={\"Classification\"}/>\n\t\t\t\t\t\t\t<RendererSelector values={NUMCLASSES} changeValue={this.props.changeNumClasses} property={this.props.renderer.NUMCLASSES} floatingLabelText={\"Number of classes\"} />\n\t\t\t\t\t\t\t<RendererSelector values={TOPCLASSES} changeValue={this.props.changeShowTopClasses} property={this.props.renderer.TOPCLASSES} floatingLabelText={\"Show top n classes\"}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ClassificationDialog;\n","import React from 'react';\nimport mapboxgl from 'mapbox-gl';\n\nclass MapContainer extends React.Component {\n    componentDidMount() {\n        this.map = new mapboxgl.Map({\n            container: this.mapContainer,\n            style: 'mapbox://styles/mapbox/light-v9',\n            center: this.props.mapCentre,\n            zoom: this.props.mapZoom,\n            attributionControl: false,\n            interactive: false\n        }); \n        this.map.on(\"load\", (evt) => {\n            evt.target.addLayer({\n                'id': this.props.RESULTS_LAYER_NAME,\n                'type': \"fill\",\n                'source': {\n                    'type': \"vector\",\n                    'url': \"mapbox://\" + this.props.tileset.id\n                },\n                'source-layer': this.props.tileset.name,\n                'paint': {\n                    'fill-color': \"rgba(0, 0, 0, 0)\", \n                    'fill-outline-color': \"rgba(0, 0, 0, 0)\"\n                }\n            });\n            this.map.setCenter(this.props.mapCentre);\n            this.setMapZoom();\n            // this.map.setCenter(this.props.tileset.center);\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.paintProperty !== prevProps.paintProperty) {\n            if (this.props.paintProperty.length === 0){\n                //resetting the paint property\n                this.map.setPaintProperty(this.props.RESULTS_LAYER_NAME, \"fill-color\", \"rgba(0, 0, 0, 0)\");\n                this.map.setPaintProperty(this.props.RESULTS_LAYER_NAME, \"fill-outline-color\", \"rgba(0, 0, 0, 0)\");\n            }else{\n                //the solution has been loaded and the paint properties have been calculated\n                this.map.setPaintProperty(this.props.RESULTS_LAYER_NAME, \"fill-color\", this.props.paintProperty.fillColor);\n                this.map.setPaintProperty(this.props.RESULTS_LAYER_NAME, \"fill-outline-color\", this.props.paintProperty.oulineColor);\n                this.map.setPaintProperty(this.props.RESULTS_LAYER_NAME, \"fill-opacity\", 0.5);\n            }\n        }\n        if (this.props.mapCentre !== prevProps.mapCentre){\n            this.map.setCenter(this.props.mapCentre);\n        }\n        if (this.props.mapZoom !== prevProps.mapZoom){\n            this.setMapZoom();\n        }\n    }\n\n    componentWillUnmount() {\n        //remove the map and free all resources\n        if (this.map) this.map.remove();\n    }\n    \n    setMapZoom(){\n        // this.map.setZoom(this.props.mapZoom - 3);\n        this.map.setZoom(this.props.mapZoom);\n    }\n    \n    render() {\n        return (\n            <div style={{display:'inline-block', margin:'5px'}} onClick={(this.props.disabled) ? null : this.props.selectBlm.bind(this, this.props.blmValue)}>\n                <div style={{'fontSize':'14px'}}>BLM: {this.props.blmValue}</div>\n                <div ref={el => this.mapContainer = el} style={{width:'200px',height:'200px', cursor: (this.props.disabled) ? 'default' : 'pointer'}} className={'hoverMapContainer'} title={(this.props.disabled) ? '': 'Click to select this BLM value'}/>\n            </div>\n        );\n    }\n}\n\nexport default MapContainer;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport ToolbarButton from './ToolbarButton';\nimport MapContainer from './MapContainer.js';\nimport TextField from 'material-ui/TextField';\n\nclass ClumpingDialog extends React.Component {\n\n\tparseBlmValue(value){ \n\t\tif (!isNaN(parseFloat(value)) && isFinite(value)) {\n\t\t\treturn value; \n\t\t}else{\n\t\t\treturn \"\";\n\t\t}  \n\t} \n\t\n\tselectBlm(blmValue){\n\t\t\t//set the blmValue for the project\n\t\t\tthis.props.setBlmValue(blmValue);\n\t\t\t//close the dialog\n\t\t\tthis.props.onOk();\n\t}\n\t\t\n\tonRequestClose(){\n\t\tif(!this.props.clumpingRunning) this.props.onOk();\n\t}\n\t\n\trender() {\n\t\treturn ( \n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\tshowSpinner={this.props.clumpingRunning}\n\t\t\t\tcontentWidth={680}\n\t\t\t\toffsetX={80}\n\t\t\t\toffsetY={80}\n\t\t\t\tonOk={this.onRequestClose.bind(this)}\n\t\t\t\tokDisabled={this.props.clumpingRunning}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\tactions={[\n\t\t\t\t\t<ToolbarButton \n\t\t\t\t\t\tlabel=\"Refresh\" \n\t\t\t\t\t\tprimary={true} \n\t\t\t\t\t\tonClick={this.props.rerunProjects} \n\t\t\t\t\t\tdisabled={this.props.clumpingRunning}\n\t\t\t\t\t/>]}\n\t\t\t\ttitle=\"Clumping\" \n\t\t\t\tchildren={\n\t\t\t\t\t<div key=\"k7\">\n\t\t\t\t\t\t<MapContainer disabled={this.props.clumpingRunning} selectBlm={this.selectBlm.bind(this)} tileset={this.props.tileset} RESULTS_LAYER_NAME={this.props.RESULTS_LAYER_NAME} paintProperty={this.props.map0_paintProperty} blmValue={this.parseBlmValue(this.props.blmValues[0])} mapCentre={this.props.mapCentre} mapZoom={this.props.mapZoom}/>\n\t\t\t\t\t\t<MapContainer disabled={this.props.clumpingRunning} selectBlm={this.selectBlm.bind(this)} tileset={this.props.tileset} RESULTS_LAYER_NAME={this.props.RESULTS_LAYER_NAME} paintProperty={this.props.map1_paintProperty} blmValue={this.parseBlmValue(this.props.blmValues[1])} mapCentre={this.props.mapCentre} mapZoom={this.props.mapZoom}/>\n\t\t\t\t\t\t<MapContainer disabled={this.props.clumpingRunning} selectBlm={this.selectBlm.bind(this)} tileset={this.props.tileset} RESULTS_LAYER_NAME={this.props.RESULTS_LAYER_NAME} paintProperty={this.props.map2_paintProperty} blmValue={this.parseBlmValue(this.props.blmValues[2])} mapCentre={this.props.mapCentre} mapZoom={this.props.mapZoom}/>\n\t\t\t\t\t\t<MapContainer disabled={this.props.clumpingRunning} selectBlm={this.selectBlm.bind(this)} tileset={this.props.tileset} RESULTS_LAYER_NAME={this.props.RESULTS_LAYER_NAME} paintProperty={this.props.map3_paintProperty} blmValue={this.parseBlmValue(this.props.blmValues[3])} mapCentre={this.props.mapCentre} mapZoom={this.props.mapZoom}/>\n\t\t\t\t\t\t<MapContainer disabled={this.props.clumpingRunning} selectBlm={this.selectBlm.bind(this)} tileset={this.props.tileset} RESULTS_LAYER_NAME={this.props.RESULTS_LAYER_NAME} paintProperty={this.props.map4_paintProperty} blmValue={this.parseBlmValue(this.props.blmValues[4])} mapCentre={this.props.mapCentre} mapZoom={this.props.mapZoom}/>\n\t\t\t\t\t\t<div style={{display:'inline-block', margin:'5px','verticalAlign':'top','paddingTop':'60px','textAlign':'center','fontSize':'14px',width:'200px', height:'224px'}}>\n\t\t\t\t\t\t\t\t<div>Move and zoom the main map to preview the clumping</div>\n\t\t\t\t\t\t\t\t<div style={{'paddingTop':'30px'}}>\n\t\t\t\t\t\t\t\t\t<span>BLM from </span>\n\t\t\t\t\t\t\t\t\t<TextField value={this.props.blmMin} onChange={this.props.changBlmMin.bind(this)} style={{width:'36px'}} inputStyle={{'textAlign':'center', 'fontSize':'14px'}} id=\"blmmin\" disabled={this.props.clumpingRunning}/>\n\t\t\t\t\t\t\t\t\t<span> to </span>\n\t\t\t\t\t\t\t\t\t<TextField value={this.props.blmMax} onChange={this.props.changBlmMax.bind(this)} style={{width:'36px'}} inputStyle={{'textAlign':'center', 'fontSize':'14px'}} id=\"blmmax\" disabled={this.props.clumpingRunning}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ClumpingDialog;\n","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\n\nclass UploadFolder extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {folderUploadText : '', active: false};\n\t}\n\tonClick(e){\n\t\tthis.setState({active: true});\n\t}\n\tonChange(e) {\n\t\t\n\t\tthis.props.filesListed(e.target.files); \n\t\tthis.setState({folderUploadText: e.target.files.length + \" files\"});\n\t\tthis.setState({active: false});\n\t}\n\t_addDirectory(node) {\n\t\tif (node) { \n\t\t\tnode.directory = true;\n\t\t\tnode.webkitdirectory = true;\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='uploadLabel' style={{color: (this.state.active) ? 'rgb(0, 188, 212)' : 'rgba(0, 0, 0, 0.3)'}}>{this.props.label}</div>\n\t\t\t\t<div className='uploadFileField'>\n\t\t\t\t\t<div className='uploadFileFieldIcon'>\n\t\t\t\t\t\t<div style={{display: 'inline-flex'}}>\n\t\t\t\t\t\t\t<label htmlFor={'folderSelector'}>\n\t\t\t\t\t\t\t\t<FontAwesome name='folder' title='Click to select a Marxan project folder' style={{'cursor':'pointer', display: 'inline-flex'}}/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input id='folderSelector' ref={node => this._addDirectory(node)} type='file' onChange={this.onChange.bind(this)} onClick={this.onClick.bind(this)} style={{'display':'none', 'width':'10px'}}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='uploadFileFieldLabel'>{this.state.folderUploadText}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default UploadFolder;\n","import * as React from 'react';\nimport UploadFolder from './UploadFolder';\nimport ShapefileUpload from './ShapefileUpload';\nimport TextField from 'material-ui/TextField';\n\nclass UploadMarxanFiles extends React.Component { \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {planning_grid_name:'', zipFilename: ''}; \n\t}\n\tsetzipFilename(filename) { \n\t\tthis.setState({ zipFilename: filename });\n\t\tthis.props.setZipFilename(filename); \n\t} \n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div style={{marginTop:'14px'}}>\n\t\t\t\t\t<UploadFolder label=\"Marxan project folder\" filesListed={this.props.filesListed}/> \n\t\t\t\t\t<ShapefileUpload requestEndpoint={this.props.requestEndpoint} SEND_CREDENTIALS={this.props.SEND_CREDENTIALS} mandatory={true} filename={this.state.zipFilename} setFilename={this.setzipFilename.bind(this)} checkForErrors={this.props.checkForErrors} label=\"Planning grid zipped shapefile\" style={{'paddingTop':'20px'}}/> \n\t\t\t\t\t<TextField value={this.props.planning_grid_name} onChange={this.props.setPlanningGridName} floatingLabelText=\"Planning grid name\" floatingLabelFixed={true} style={{marginTop:'20px'}}/>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default UploadMarxanFiles;\n","import React from 'react';\nimport MarxanDialog from './MarxanDialog';\nimport ToolbarButton from './ToolbarButton';\nimport Metadata from './Metadata';\nimport UploadMarxanFiles from './UploadMarxanFiles'; \n\n//some of the code in this component should be moved up to app.js like the POSTs but I have limited time\n\nclass ImportDialog extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { steps: ['Files and planning grid','Info' ], loading: false, stepIndex: 0, name: '', description: '', zipFilename: '', files:[], planning_grid_name:'' };\n\t}\n\thandleNext = () => {\n\t\tconst { stepIndex } = this.state;\n\t\tif (stepIndex === 1) {\n\t\t\tthis.setState({loading: true});\n\t\t\t//create the new project \n\t\t\tthis.props.importProject(this.state.name, this.state.description, this.state.zipFilename, this.state.files, this.state.planning_grid_name).then((response) => {\n\t\t\t\t//close the import wizard\n\t\t\t\tthis.onOk();\n\t\t\t}).catch((error) => {\n\t\t\t\tthis.setState({loading: false});\n\t\t\t\tthis.props.setLog(error + \"Import stopped\");\n\t\t\t\tthis.props.setSnackBar(error);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({ stepIndex: stepIndex + 1 });\n\t};\n\thandlePrev = () => {\n\t\tconst { stepIndex } = this.state;\n\t\tif (stepIndex > 0) {\n\t\t\tthis.setState({ stepIndex: stepIndex - 1 });\n\t\t}\n\t};\n\tfilesListed(files){\n\t\t//TODO filter the files to exclude all of the output files - these are unnecessary and will be creating on the first run anyway\n\t\tthis.setState({files: files});\n\t}\n\tsetZipFilename(filename){\n\t\tthis.setState({zipFilename: filename});\n\t}\n\tsetPlanningGridName(event, planning_grid_name){\n\t\tthis.setState({planning_grid_name: planning_grid_name});\n\t}\n\tsetName(value) {\n\t\tthis.setState({ name: value });\n\t}\n\tsetDescription(value) {\n\t\tthis.setState({ description: value });\n\t}\n\tonOk(){\n\t\t//return the wizard back to zero\n\t\tthis.setState({loading: false, stepIndex: 0 });\n\t\tthis.props.onOk();\n\t}\n\trender() {\n\t\tconst { stepIndex } = this.state; \n\t\tconst contentStyle = { margin: '0 16px' };\n\t\tconst actions = [\n\t\t\t<div style={{width: '100%', maxWidth: 700, margin: 'auto',textAlign:'center'}}>\n\t\t\t\t<div style={contentStyle}>\n\t\t\t\t\t<div style={{marginTop: 12}}>\n\t\t\t\t\t\t<ToolbarButton label=\"Back\" disabled={stepIndex === 0} onClick={this.handlePrev} />\n\t\t\t\t\t\t<ToolbarButton label={stepIndex === (this.state.steps.length-1) ? 'Finish' : 'Next'} onClick={this.handleNext.bind(this)} primary={true} disabled={this.state.loading} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t];\n\t\tlet c = <React.Fragment key=\"k4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{stepIndex === 0 ? <UploadMarxanFiles \n\t\t\t\t\t\t\tfilesListed={this.filesListed.bind(this)}\n\t\t\t\t\t\t\tsetZipFilename={this.setZipFilename.bind(this)}\n\t\t\t\t\t\t\trequestEndpoint={this.props.requestEndpoint}  \n\t\t\t\t\t\t\tSEND_CREDENTIALS={this.props.SEND_CREDENTIALS}\n\t\t\t\t\t\t\tcheckForErrors={this.props.checkForErrors} \n\t\t\t\t\t\t\tsetPlanningGridName={this.setPlanningGridName.bind(this)}\n\t\t\t\t\t\t\tplanning_grid_name={this.state.planning_grid_name}\n\t\t\t\t\t\t/> : null}\n\t\t\t\t\t\t{stepIndex === 1 ? <Metadata name={this.state.name} description={this.state.description} setName={this.setName.bind(this)} setDescription={this.setDescription.bind(this)} paddingBottom={'50px'}/> : null}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>;\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\ttitle={'Import existing Marxan project'}\n\t\t\t\tcontentWidth={358}\n\t\t\t\tchildren={c} \n\t\t\t\tokLabel={\"Cancel\"}\n\t\t\t\tactions={actions} \n\t\t\t\tonOk={this.onOk.bind(this)}\n\t\t\t\tonRequestClose={this.onOk.bind(this)} \n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ImportDialog;\n","import React from 'react';\nimport ToolbarButton from './ToolbarButton';\nimport MarxanDialog from './MarxanDialog';\nimport ReactTable from \"react-table\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faRedoAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faEraser } from '@fortawesome/free-solid-svg-icons';\nimport Sync from 'material-ui/svg-icons/notification/sync';\n\nclass RunLogDialog extends React.Component { \n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {selectedRun: undefined, runningJobs: false};\n\t}\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t//if this browser isnt running a marxan job (i.e. this.props.preprocessing === false) but there are jobs which are running then we still want to be able to stop those jobs - here we set a flag to allow the STOP button to be enabled even if this.props.preprocessing === false\n\t\tif (this.props.runLogs !== prevProps.runLogs){\n\t\t\t//see of any of the run logs are running\n\t\t\tlet runningLogs = this.props.runLogs.filter((item) => {return item.status === 'Running'});\n\t\t\tthis.setState({runningJobs: (runningLogs.length > 0)});\n\t\t}\n\t}\n\tcloseDialog() {\n\t\tthis.setState({ selectedRun: undefined });\n\t\tthis.props.onOk(); \n\t}\n\tstopRun(evt){\n\t\t//stop the run\n\t\tthis.props.stopMarxan(this.state.selectedRun.pid);\n\t\t//refresh the run log - this may be done when the process stops on the server and it sends the results back in the websocket - but in case the client is not connected to the server explicitly request it\n\t\tthis.refreshRunLogs();\n\t}\n\tclearRunLogs(evt){\n\t\tthis.props.clearRunLogs();\n\t}\n\trefreshRunLogs(evt){\n\t\tthis.props.getRunLogs();\n\t\t//unselect the selected run\n\t\tthis.setState({ selectedRun: undefined });\n\t}\n\tchangeSelectedRun(event, run) {\n\t\tthis.setState({ selectedRun: run });\n\t}\n\trenderUser(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.user}>{row.original.user}</div>;        \n\t}\n\trenderProject(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.project}>{row.original.project}</div>;        \n\t}\n\trenderStatus(row){\n\t\tvar icon;\n    switch (row.original.status) {\n      case 'Completed': \n      \ticon = <FontAwesomeIcon icon={faCheckCircle} style={{color:'green'}} title={'Run completed'}/>;\n        break;\n      case 'Stopped': \n      \ticon = <FontAwesomeIcon icon={faTimesCircle} style={{color:'darkgray'}} title={'Run stopped by the user'}/>;\n        break;\n      case 'Killed': \n      \ticon = <FontAwesomeIcon icon={faExclamationTriangle} style={{color:'red'}} title={'Run stopped by the operating system'}/>;\n        break;\n      case 'Running': \n      \ticon = <Sync className='spin' style={{height: '16px', width: '16px', verticalAlign: 'sub', color: 'rgb(255, 64, 129)'}}/>;\n        break;\n      default:\n        break;\n    }\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}} title={row.original.status}>{icon}{\"  \" + row.original.status}</div>;        \n\t}\n\trenderEnded(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}}>{(row.original.endtime) ? row.original.endtime : ''}</div>;        \n\t}\n\trenderRuntime(row){\n\t\treturn <div style={{width: '100%',height: '100%',backgroundColor: '#dadada',borderRadius: '2px'}}>{(row.original.runtime) ? row.original.runtime : ''}</div>;        \n\t}\n\trender() {\n\t\tlet tableColumns = [];\n\t\ttableColumns = [\n\t\t\t{ Header: 'pid', accessor: 'pid', width: 60, headerStyle: { 'textAlign': 'left' }}, \n\t\t\t{ Header: 'User', accessor: 'user', width: 60, headerStyle: { 'textAlign': 'left' }, Cell: this.renderUser.bind(this)}, \n\t\t\t{ Header: 'Project', accessor: 'project', width: 150, headerStyle: { 'textAlign': 'left' }, Cell: this.renderProject.bind(this)}, \n\t\t\t{ Header: 'Started', accessor: 'starttime', width: 112, headerStyle: { 'textAlign': 'left' }}, \n\t\t\t{ Header: 'Ended', accessor: 'endtime', width: 112, headerStyle: { 'textAlign': 'left' }, Cell: this.renderEnded.bind(this)}, \n\t\t\t{ Header: 'Runtime', accessor: 'runtime', width: 60, headerStyle: { 'textAlign': 'right' }, className: 'table_column_right_align', Cell: this.renderRuntime.bind(this)}, \n\t\t\t{ Header: 'Runs', accessor: 'runs', width: 60, headerStyle: { 'textAlign': 'right' }, className: 'table_column_right_align'}, \n\t\t\t{ Header: 'Status', accessor: 'status', width: 80, headerStyle: { 'textAlign': 'left' }, Cell: this.renderStatus.bind(this) }\n\t\t];\n\t\treturn (\n\t\t\t<MarxanDialog \n\t\t\t\t{...this.props} \n\t\t\t\t// titleBarIcon={faBookOpen}\n\t\t\t\tonOk={this.closeDialog.bind(this)}\n\t\t\t\tonCancel={this.closeDialog.bind(this)}\n\t\t\t\tshowCancelButton={true}\n\t\t\t\tautoDetectWindowHeight={false}\n\t\t\t\tbodyStyle={{ padding:'0px 24px 0px 24px'}}\n\t\t\t\ttitle=\"Runs\"  \n\t\t\t\tchildren={\n\t\t\t\t\t<React.Fragment key=\"k2\">\n\t\t\t\t\t\t<div style={{marginBottom:'5px'}}>There are a total of {this.props.runLogs.length} runs in the log:</div>\n\t\t\t\t\t\t\t<div id=\"projectsTable\">\n\t\t\t\t\t\t\t\t<ReactTable \n\t\t\t\t\t\t\t\t  pageSize={ this.props.runLogs.length }\n\t\t\t\t\t\t\t\t\tclassName={'projectsReactTable'}\n\t\t\t\t\t\t\t\t\tshowPagination={false} \n\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\tdata={this.props.runLogs}\n\t\t\t\t\t\t\t\t\tthisRef={this} \n\t\t\t\t\t\t\t\t\tcolumns={tableColumns}\n\t\t\t\t\t\t\t\t\tgetTrProps={(state, rowInfo, column) => {\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: (rowInfo.original.pid === (state.thisRef.state.selectedRun && state.thisRef.state.selectedRun.pid)) ? \"aliceblue\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tstate.thisRef.changeSelectedRun(e, rowInfo.original);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"projectsToolbar\" style={{display: (this.props.userRole === \"ReadOnly\") ? 'none' : 'block'}}>\n\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"stopMarxan\")}\n\t\t\t\t\t\t\t\ttitle=\"Stop run\" \n\t\t\t\t\t\t\t\tdisabled={(this.state.selectedRun === undefined) ? true : (!this.props.preprocessing && !this.state.runningJobs) ? true : (this.state.selectedRun.status !== 'Running')}\n\t\t\t\t\t\t\t\tonClick={this.stopRun.bind(this)} \n\t\t\t\t\t\t\t\tlabel={\"Stop\"}\n\t\t\t\t\t\t\t\tsecondary={true} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"getRunLogs\")}\n\t\t\t\t\t\t\t\ttitle=\"Refresh run logs\" \n\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faRedoAlt}/>} \n\t\t\t\t\t\t\t\tonClick={this.refreshRunLogs.bind(this)} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarButton  \n\t\t\t\t\t\t\t\tshow={!this.props.unauthorisedMethods.includes(\"clearRunLogs\")}\n\t\t\t\t\t\t\t\ttitle=\"Clear run logs\" \n\t\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faEraser} />} \n\t\t\t\t\t\t\t\tonClick={this.clearRunLogs.bind(this)} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t} \n\t\t\t/>\n\t\t); //return\n\t}\n}\n\nexport default RunLogDialog;\n","import React from \"react\";\nimport MarxanDialog from \"./MarxanDialog\";\n\nclass ServerDetailsDialog extends React.Component {\n  render() {\n    // add the following if necessary\n    // <div className=\"serverDetails\">Release: {this.props.marxanServer&&this.props.marxanServer.release}</div>\n    // <div className=\"serverDetails\">Version: {this.props.marxanServer&&this.props.marxanServer.version}</div>\n    // <div className=\"serverDetails\">Processor: {this.props.marxanServer&&this.props.marxanServer.processor}</div>\n    return (\n      <MarxanDialog\n        {...this.props}\n        contentWidth={500}\n        offsetY={80}\n        title=\"Server Details\"\n        children={\n          <div key=\"k5\">\n            <div className=\"serverDetails\">Name: {this.props.marxanServer&&this.props.marxanServer.name}</div>\n            <div className=\"serverDetails\">Host: {this.props.marxanServer&&this.props.marxanServer.host}</div>\n            <div className=\"serverDetails\">Description: {this.props.marxanServer&&this.props.marxanServer.description}</div>\n            <div className=\"serverDetails\">System: {this.props.marxanServer&&this.props.marxanServer.system}</div>\n            <div className=\"serverDetails\">Marxan Server version: {this.props.marxanServer&&this.props.marxanServer.server_version}</div>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nexport default ServerDetailsDialog;\n","import React from \"react\";\nimport MarxanDialog from \"./MarxanDialog\";\nimport TextField from 'material-ui/TextField';\n\nclass ChangePasswordDialog extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {currentPassword: '', newPassword1: '', newPassword2: '', };\n  }\n  setCurrentPassword(event, newValue){\n    this.setState({currentPassword: newValue});\n  }\n  setNewPassword1(event, newValue){\n    this.setState({newPassword1: newValue});\n  }\n  setNewPassword2(event, newValue){\n    this.setState({newPassword2: newValue});\n  }\n  onOk(evt){\n    if (this.state.newPassword2 !== this.state.newPassword1) {\n      this.passwordsDontMatch();\n      return;\n    }\n    this.props.checkPassword(this.props.user, this.state.currentPassword).then((response) => {\n      this.props.updateUser({PASSWORD: this.state.newPassword1}).then((response) => {\n        this.props.setSnackBar(\"Password updated\");\n        this.props.onOk();\n      }).catch((error) =>{\n        this.props.setSnackBar(\"Password not updated\");\n      });\n    }).catch((response) => {\n      this.props.setSnackBar(\"Invalid password\");\n    });\n  }\n  passwordsDontMatch(){\n    this.props.setSnackBar(\"Passwords don't match\");\n  }\n  render() {\n    return (\n      <MarxanDialog\n        {...this.props}\n        onOk={this.onOk.bind(this)}\n        showCancelButton={true}\n        onCancel={this.props.onOk}\n        contentWidth={358}\n        offsetY={80}\n        title=\"Change Password\"\n        children={\n          <div key=\"k5\">\n\t\t\t\t\t\t<TextField floatingLabelText=\"Current password\" floatingLabelFixed={true} onChange = {this.setCurrentPassword.bind(this)} floatingLabelShrinkStyle={{fontSize:'16px'}} floatingLabelFocusStyle={{fontSize:'16px'}} style={{fontSize:'13px'}} type=\"password\"/>\n\t\t\t\t\t\t<TextField floatingLabelText=\"New password\" floatingLabelFixed={true} onChange = {this.setNewPassword1.bind(this)} floatingLabelShrinkStyle={{fontSize:'16px'}} floatingLabelFocusStyle={{fontSize:'16px'}} style={{fontSize:'13px'}} type=\"password\"/>\n\t\t\t\t\t\t<TextField floatingLabelText=\"Repeat password\" floatingLabelFixed={true} onChange = {this.setNewPassword2.bind(this)} floatingLabelShrinkStyle={{fontSize:'16px'}} floatingLabelFocusStyle={{fontSize:'16px'}} style={{fontSize:'13px'}} type=\"password\"/>\n          </div>\n        }\n      />\n    );\n  }\n}\n\nexport default ChangePasswordDialog;\n","import React from 'react';\nimport ReactTable from \"react-table\";\n\nclass Popup extends React.Component {\n\t\trender() {\n\t\t\t\tlet data = this.props.active_pu ? Object.keys(this.props.active_pu).map(key => ({ key, value: this.props.active_pu[key] })) : [];\n\t\t\t\tlet left = this.props.xy.x + 25 + 'px';\n\t\t\t\tlet top = this.props.xy.y - 25 + 'px';\n\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{'display': data.length>0 ? 'block' : 'none','left': left,'top':top}} id=\"popup\">\n\t\t\t\t\t\t\t\t<div className={'popupHeader'}>Planning unit properties</div>\n\t\t\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\t\t\tshowPagination={false}\n\t\t\t\t\t\t\t\t\tpageSize={data.length}\n\t\t\t\t\t\t\t\t\tminRows={0}\n\t\t\t\t\t\t\t\t\tnoDataText=''\n\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\tcolumns={[{\n\t\t\t\t\t\t\t\t\t\t Header: 'Property',\n\t\t\t\t\t\t\t\t\t\t accessor: 'key' \n\t\t\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\t\t\t Header: 'Value',\n\t\t\t\t\t\t\t\t\t\t accessor: 'value' \n\t\t\t\t\t\t\t\t\t}]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n}\n\nexport default Popup;\n","import React from 'react';\nimport ReactTable from \"react-table\";\nimport Sync from 'material-ui/svg-icons/notification/sync';\n\nclass PopupFeatureList extends React.Component {\n\trender() {\n\t\tlet left = this.props.xy.x + 25 + 'px';\n\t\tlet top = this.props.xy.y - 25 + 'px';\n\t\treturn (\n\t\t\t<div style={{'display': this.props.features && this.props.features.length > 0 ? 'block' : 'none', 'left': left,'top':top}} id=\"popup\">\n\t\t\t\t<div className={'popupHeader'}>Features</div>\n\t\t\t\t<Sync className='spin' style={{display: this.props.loading ? \"inline-block\" : \"none\", color: 'rgb(255, 64, 129)', position: 'absolute', top: '5px', right: '7px'}} key={\"spinner\"}/>\n\t\t\t\t<ReactTable\n\t\t\t\t\tshowPagination={false}\n\t\t\t\t\tpageSize={(this.props.loading) ? 0 : this.props.features && this.props.features.length}\n\t\t\t\t\tminRows={0}\n\t\t\t\t\tnoDataText=''\n\t\t\t\t\tdata={this.props.features}\n\t\t\t\t\tcolumns={[{\n\t\t\t\t\t\t Header: 'Feature',\n\t\t\t\t\t\t accessor: 'alias',\n\t\t\t\t\t\t width: 220,\n\t\t\t\t\t\t headerStyle: { 'textAlign': 'left' }\n\t\t\t\t\t}]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PopupFeatureList;\n","/*global fetch*/\nimport React from 'react';\nimport packageJson from '../package.json';\nimport fetchJsonp from 'fetch-jsonp';\n/*eslint-disable no-unused-vars*/ \nimport axios, { post } from 'axios';\n/*eslint-enable no-unused-vars*/\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n//mapbox imports\nimport MapboxDraw from '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.js';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport jsonp from 'jsonp-promise';\nimport classyBrew from 'classybrew';\n//material-ui components and icons\nimport Popover from 'material-ui/Popover';\nimport Menu from 'material-ui/Menu';\nimport Snackbar from 'material-ui/Snackbar';\nimport Properties from 'material-ui/svg-icons/alert/error-outline';\nimport RemoveFromProject from 'material-ui/svg-icons/content/remove';\nimport AddToMap from 'material-ui/svg-icons/action/visibility';\nimport RemoveFromMap from 'material-ui/svg-icons/action/visibility-off';\nimport ZoomIn from 'material-ui/svg-icons/action/zoom-in';\nimport Preprocess from 'material-ui/svg-icons/action/autorenew';\n//project components\nimport * as utilities from './utilities.js';\nimport AppBar from './AppBar';\nimport LoginDialog from './LoginDialog';\nimport RegisterDialog from './RegisterDialog.js';\nimport ResendPasswordDialog from './ResendPasswordDialog.js';\nimport UserMenu from './UserMenu';\nimport HelpMenu from './HelpMenu';\nimport OptionsDialog from './OptionsDialog';\nimport ProfileDialog from './ProfileDialog';\nimport UsersDialog from './UsersDialog';\nimport AboutDialog from './AboutDialog';\nimport MenuItemWithButton from './MenuItemWithButton';\nimport InfoPanel from './InfoPanel';\nimport ResultsPane from './ResultsPane';\nimport FeatureInfoDialog from './FeatureInfoDialog';\nimport ProjectsDialog from './ProjectsDialog';\nimport NewProjectDialog from './NewProjectDialog';\nimport PlanningGridsDialog from './PlanningGridsDialog';\nimport NewPlanningGridDialog from './NewPlanningGridDialog';\nimport UploadPlanningGridDialog from './UploadPlanningGridDialog';\nimport FeaturesDialog from './FeaturesDialog';\nimport NewFeatureDialog from './NewFeatureDialog';\nimport CostsDialog from './CostsDialog';\nimport RunSettingsDialog from './RunSettingsDialog';\nimport ClassificationDialog from './ClassificationDialog';\nimport ClumpingDialog from './ClumpingDialog';\nimport ImportDialog from './ImportDialog';\nimport RunLogDialog from './RunLogDialog';\nimport ServerDetailsDialog from './ServerDetailsDialog';\nimport ChangePasswordDialog from './ChangePasswordDialog';\nimport Popup from './Popup';\nimport PopupFeatureList from './PopupFeatureList';\n\n//GLOBAL VARIABLE IN MAPBOX CLIENT\nmapboxgl.accessToken = 'pk.eyJ1IjoiYmxpc2h0ZW4iLCJhIjoiMEZrNzFqRSJ9.0QBRA2HxTb8YHErUFRMPZg'; //this is my public access token for using in the Mapbox GL client - TODO change this to the logged in users public access token\n\n//CONSTANTS\nlet MARXAN_CLIENT_VERSION = packageJson.version; //TODO UPDATE PACKAGE.JSON WHEN THERE IS A NEW VERSION\nlet MARXAN_REGISTRY_FILENAME = \"https://andrewcottam.github.io/marxan-web/registry/marxan.js\";\nlet SEND_CREDENTIALS = true; //if true all post requests will send credentials\nlet TORNADO_PATH = \"/marxan-server/\";\nlet TIMEOUT = 0; //disable timeout setting\nlet DISABLE_LOGIN = false; //to not show the login form, set loggedIn to true\nlet MAPBOX_USER = \"blishten\";\nlet MAPBOX_STYLE_PREFIX = 'mapbox://styles/';\nlet PLANNING_UNIT_STATUSES = [1, 2, 3];\nlet PLANNING_UNIT_SOURCE_NAME = \"planning_units_source\";\nlet PU_LAYER_NAME = \"planning_units_layer\";\nlet PU_LAYER_OPACITY = 0.2;\nlet EDIT_LAYER_NAME = \"planning_units_layer_edit\";\nlet EDIT_LAYER_LINE_WIDTH = 1.5;\nlet PUVSPR_LAYER_NAME = \"planning_units_puvspr_layer\";\nlet PUVSPR_LAYER_LINE_WIDTH = 1.5;\nlet PUVSPR_LAYER_OUTLINE_COLOR = 'rgba(255, 0, 0, 1)';\nlet RESULTS_LAYER_NAME = \"results_layer\";\nlet RESULTS_LAYER_FILL_OPACITY_ACTIVE = 0.9;\nlet RESULTS_LAYER_FILL_OPACITY_INACTIVE = 0.3;\nlet HIDE_PUVSPR_LAYER_TEXT = \"Remove planning unit outlines\";\nlet SHOW_PUVSPR_LAYER_TEXT = \"Outline planning units where the feature occurs\";\nlet WDPA_SOURCE_NAME = \"wdpa_source\";\nlet WDPA_LAYER_NAME = \"wdpa\";\nlet WDPA_FILL_LAYER_OPACITY = 0.9;\nlet CLUMP_COUNT = 5;\n//array of mapbox styles to use if the CDN that provides this array is unavailable\nlet BACKUP_MAPBOX_BASEMAPS = [{name: 'Streets', description: 'A complete basemap, perfect for incorporating your own data.', id:'mapbox/streets-v9', provider:'mapbox'},\n    {name: 'Outdoors', description: 'General basemap tailored to hiking, biking, and sport.', id:'mapbox/outdoors-v9', provider:'mapbox'},\n    {name: 'Dark', description: 'Subtle dark backdrop for data visualizations.', id:'mapbox/dark-v9', provider:'mapbox'},\n    {name: 'Light', description: 'Subtle light backdrop for data visualizations.', id:'mapbox/light-v9', provider:'mapbox'},\n    {name: 'North Star', description: 'Slightly modified North Star with no Bathymetry.', id:'blishten/cjg6jk8vg3tir2spd2eatu5fd', provider:'Joint Research Centre'},\n    {name: 'Satellite', description: 'A beautiful global satellite and aerial imagery layer.', id:'mapbox/satellite-v9', provider:'mapbox'},\n    {name: 'Satellite Streets', description: 'Global imagery enhanced with road and label hierarchy.', id:'mapbox/satellite-streets-v9', provider:'mapbox'}];\n//array of Marxan servers to use if the CDN that provides this array is unavailable\nlet BACKUP_MARXAN_SERVERS = [{name: 'Joint Research Centre, Italy', host: 'https://marxan-server-blishten.c9users.io', description: ''}];\n//an array of feature property information that is used in the Feature Information dialog box\nlet FEATURE_PROPERTIES = [{ name: 'id', key: 'ID',hint: 'The unique identifier for the feature', showForOld: false},\n  { name: 'alias', key: 'Alias',hint: 'A human readable name for the feature', showForOld: true},\n  { name: 'feature_class_name', key: 'Feature class name',hint: 'The internal name for the feature in the PostGIS database', showForOld: false},\n  { name: 'description', key: 'Description',hint: 'Full description of the feature', showForOld: false},\n  { name: 'creation_date', key: 'Creation date',hint: 'The date the feature was created or imported', showForOld: false},\n  { name: 'tilesetid', key: 'Mapbox ID',hint: 'The unique identifier of the feature tileset in Mapbox', showForOld: false},\n  { name: 'area', key: 'Total area',hint: 'The total area for the feature in Km2 (i.e. globally)', showForOld: false},\n  { name: 'target_value', key: 'Target percent',hint: 'The target percentage for the feature within the planning grid', showForOld: true},\n  { name: 'spf', key: 'Species Penalty Factor',hint: 'The species penalty factor is used to weight the likelihood of getting a species in the results', showForOld: true},\n  { name: 'preprocessed', key: 'Preprocessed',hint: 'Whether or not the feature has been intersected with the planning units', showForOld: false},\n  { name: 'pu_count', key: 'Planning unit count',hint: 'The number of planning units that intersect the feature (calculated during pre-processing)', showForOld: true},\n  { name: 'pu_area', key: 'Planning unit area',hint: 'The area of the feature within the planning grid in Km2 (calculated during pre-processing)', showForOld: true},\n  { name: 'target_area', key: 'Target area',hint: 'The total area that needs to be protected to achieve the target percentage in Km2 (calculated during a Marxan Run)', showForOld: true},\n  { name: 'protected_area', key: 'Area protected',hint: 'The total area protected in the current solution in Km2 (calculated during a Marxan Run)', showForOld: true}];\nvar mb_tk = \"sk.eyJ1IjoiYmxpc2h0ZW4iLCJhIjoiY2piNm1tOGwxMG9lajMzcXBlZDR4aWVjdiJ9.Z1Jq4UAgGpXukvnUReLO1g\";\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      marxanServers: [],\n      marxanServer: {},\n      usersDialogOpen: false,\n      featureMenuOpen: false,\n      profileDialogOpen: false,\n      aboutDialogOpen: false,\n      helpDialogOpen: false,\n      importDialogOpen: false,\n      optionsDialogOpen: false,\n      CostsDialogOpen: false,\n      registerDialogOpen: false,\n      clumpingDialogOpen: false,\n      settingsDialogOpen: false,\n      projectsDialogOpen: false,\n      openInfoDialogOpen: false,\n      newProjectDialogOpen: false, \n      classificationDialogOpen: false,\n      resendPasswordDialogOpen: false,\n      NewPlanningGridDialogOpen: false, \n      importPlanningGridDialogOpen: false,\n      changePasswordDialogOpen: false,\n      serverDetailsDialogOpen: false,\n      planningGridsDialogOpen: false,\n      NewFeatureDialogOpen: false,\n      featuresDialogOpen: false,\n      runLogDialogOpen: false,\n      infoPanelOpen: false,\n      resultsPanelOpen: false,\n      guestUserEnabled: true,\n      users: [],\n      user: DISABLE_LOGIN ? 'andrew' : '', //TODO REMOVE DISABLE_LOGIN\n      password: DISABLE_LOGIN ? 'asd' : '',\n      project: DISABLE_LOGIN ? 'Tonga marine' : '',\n      owner: '', // the owner of the project - may be different to the user, e.g. if logged on as guest (user) and accessing someone elses project (owner)\n      loggedIn: false,\n      userData: {},\n      unauthorisedMethods: [],\n      metadata: {},\n      renderer: {},\n      editingProjectName: false,\n      editingDescription: false,\n      runParams: [],\n      files: {},\n      popup_point: { x: 0, y: 0 },\n      snackbarOpen: false,\n      snackbarMessage: '',\n      tilesets: [],\n      puFeatures: [],\n      userMenuOpen: false,\n      helpMenuOpen: false,\n      preprocessing: false,\n      pa_layer_visible: false,\n      currentFeature:{},\n      puvsprLayerText: '',\n      featureDatasetName: '',\n      featureDatasetDescription: '',\n      featureDatasetFilename: '',\n      loading: false,\n      dataBreaks: [],\n      allFeatures: [], //all of the interest features in the metadata_interest_features table\n      projectFeatures: [], //the features for the currently loaded project\n      selectedFeatureIds :[],\n      addingRemovingFeatures: false,\n      results_layer_opacity: RESULTS_LAYER_FILL_OPACITY_ACTIVE, //initial value\n      wdpa_layer_opacity: WDPA_FILL_LAYER_OPACITY, //initial value\n      costs: [],\n      selectedCosts: [],\n      countries: [],\n      planning_units: [],\n      planning_unit_grids: [],\n      activeTab: \"project\",\n      activeResultsTab: \"legend\",\n      streamingLog: \"\",\n      map0_paintProperty: [],\n      map1_paintProperty: [],\n      map2_paintProperty: [],\n      map3_paintProperty: [],\n      map4_paintProperty: [],\n      blmValues: [0.001,0.01,0.1,1,10],\n      blmMin: 0.001,\n      blmMax: 10, \n      clumpingRunning: false,\n      pid: 0,\n      basemaps: [],\n      basemap: 'North Star',\n      mapCentre: {lng: 0, lat: 0},\n      mapZoom: 12,\n      runLogs:[],\n      puEditing: false\n    };\n  }\n\n  componentDidMount() {\n    //if disabling the login, then programatically log in\n    if (DISABLE_LOGIN) this.validateUser();\n    //check application level variables have been loaded from my github CDN (the MARXAN_REGISTRY_FILENAME)\n    this.getGlobalVariables();\n    //instantiate the classybrew to get the color ramps for the renderers\n    this.setState({ brew: new classyBrew() });\n  }\n  \n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// REQUEST HELPERS\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //makes a GET request and returns a promise which will either be resolved (passing the response) or rejected (passing the error)\n  _get(params, timeout = TIMEOUT){\n    return new Promise((resolve, reject) => {\n      //set the global loading flag\n      this.setState({loading: true});\n      jsonp(this.state.marxanServer.endpoint + params, { timeout: timeout }).promise.then((response) => {\n        if (!this.checkForErrors(response)) {\n          this.setState({loading: false});\n          resolve(response);\n        }\n        else {\n          this.setState({loading: false});\n          reject(response.error);\n        }\n      });\n    });\n  }\n \n  //makes a POST request and returns a promise which will either be resolved (passing the response) or rejected (passing the error)\n  _post(method, formData, timeout = TIMEOUT, withCredentials = SEND_CREDENTIALS){\n    return new Promise((resolve, reject) => {\n      //set the global loading flag\n      this.setState({loading: true});\n      post(this.state.marxanServer.endpoint + method, formData, {withCredentials: withCredentials}).then((response) => {\n        if (!this.checkForErrors(response.data)) {\n          this.setState({loading: false});\n          resolve(response.data);\n        }\n        else {\n          this.setState({loading: false});\n          reject(response.data.error);\n        }\n      });\n    });\n  }\n \n  //web socket requests\n  _ws(params, msgCallback){\n    return new Promise((resolve, reject) => {\n      let ws = new WebSocket(this.state.marxanServer.websocketEndpoint + params);\n      //get the message and pass it to the msgCallback function\n      ws.onmessage = (evt) => {\n        let message = JSON.parse(evt.data);\n        //check for errors\n        if (!this.checkForErrors(message)){\n          if (message.status === \"Finished\"){\n            //pass the message back to the callback\n            msgCallback(message);\n            //reset state\n            this.setState({preprocessing: false});\n            //if the web socket has finished then resolve the promise\n            resolve(message);\n          }else{\n            msgCallback(message);\n          }\n        }else{\n          //reset state\n          this.setState({preprocessing: false});\n          reject(message.error);\n        }\n      };\n      ws.onopen = (evt) => {\n        //do something if necessary\n      };\n      ws.onerror = (evt) => {\n        //reset state\n        this.setState({preprocessing: false});\n        reject(evt);\n      };\n      ws.onclose = (evt) => {\n        //reset state\n        this.setState({preprocessing: false});\n        if (!evt.wasClean) {\n          reject(\"The WebSocket connection closed unexpectedly\");\n        }else{\n          reject(evt);\n        }\n      };\n    });\n  }\n  \n  //checks the reponse for errors\n  checkForErrors(response, showSnackbar = true) {\n    let networkError = this.responseIsTimeoutOrEmpty(response, showSnackbar);\n    let serverError = this.isServerError(response, showSnackbar);\n    let isError = (networkError || serverError);\n    if (isError) {\n      //write the full trace to the console if available\n      let error = (response.hasOwnProperty('trace')) ? response.trace : (response.hasOwnProperty('error')) ? response.error : \"No error message returned\";\n      console.error(\"Error message from server: \" + error);\n    }\n    return isError;\n  }\n\n  //checks the response from a REST call for timeout errors or empty responses\n  responseIsTimeoutOrEmpty(response, showSnackbar = true) {\n    if (!response) {\n      let msg = \"No response received from server\";\n      if (showSnackbar) this.setSnackBar(msg);\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  //checks to see if the rest server raised an error and if it did then show in the snackbar\n  isServerError(response, showSnackbar = true) {\n    //errors may come from the marxan server or from the rest server which have slightly different json responses\n    if ((response && response.error) || (response && response.hasOwnProperty('metadata') && response.metadata.hasOwnProperty('error') && response.metadata.error != null)) {\n      var err = (response.error) ? (response.error) : response.metadata.error;\n      if (showSnackbar) this.setSnackBar(err);\n      return true;\n    }\n    else {\n      //some server responses are warnings and will not stop the function from running as normal\n      if (response.warning) {\n        if (showSnackbar) this.setSnackBar( response.warning);\n      }\n      return false;\n    }\n  }\n\n  //called when a websocket message is received\n  wsMessageCallback(message){\n    var logMessage = \"\";\n    switch (message.status) {\n      case 'Started': //from both asynchronous queries and marxan runs\n        //set the processing state when the websocket starts\n        this.setState({preprocessing: true});\n        logMessage = this.state.streamingLog + message.info + \"\\n\";\n        break;\n      case 'pid': //from marxan runs\n        this.setState({pid: message.pid});\n        break;\n      case 'RunningMarxan': //from marxan runs\n        logMessage = this.state.streamingLog + message.info.replace(/(\\n\\n {2}Init)/gm,\"\\n  Init\").replace(/(\\n\\n {2}ThermalAnnealing)/gm,\"\\n  ThermalAnnealing\").replace(/(\\n\\n {2}Iterative)/gm,\"\\n  Iterative\").replace(/(\\n\\n {2}Best)/gm,\"\\n  Best\");\n        break;\n      case 'RunningQuery': //from asynchronous queries\n      case 'FinishedQuery': //from asynchronous queries\n        logMessage = this.state.streamingLog + message.info + \" (elapsed time: \" + message.elapsedtime + \")\\n\";\n        break;\n      case 'Finished': //from both asynchronous queries and marxan runs\n        logMessage = this.state.streamingLog + message.info + \" (Total time: \" + message.elapsedtime + \")\\n\\n\";\n        break;\n      default:\n        break;\n    }\n    //update the log if there is a new message and we are not running the clumping projects (there will be 5 simultaneous outputs)\n    if (logMessage !== \"\" && !this.state.clumpingRunning) this.setState({streamingLog: logMessage});\n  }\n  \n  //can be called from other components\n  setSnackBar(message, silent = false){\n    if (!silent) this.setState({snackbarOpen: true, snackbarMessage: message});\n  }\n  \n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// MANAGING MARXAN SERVERS\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //gets various global variables from my github cdn\n  getGlobalVariables(){\n    var basemaps = [], marxanServers = [];\n    //get the mapbox basemaps\n    if (window.MAPBOX_BASEMAPS){\n      console.log(\"Loading Mapbox basemaps from \" + MARXAN_REGISTRY_FILENAME);\n      basemaps = window.MAPBOX_BASEMAPS;\n    }else{\n      console.warn(\"Unable to load Mapbox basemaps from \" + MARXAN_REGISTRY_FILENAME + \". Using local copy.\");\n      basemaps = BACKUP_MAPBOX_BASEMAPS;\n    }\n    //initialise the basemaps\n    this.setState({basemaps: basemaps});\n    //get the list of marxan servers from the marxan registry\n    if (window.MARXAN_SERVERS){\n      console.log(\"Loading Marxan Servers from \" + MARXAN_REGISTRY_FILENAME);\n      marxanServers = window.MARXAN_SERVERS;\n    }else{\n      console.warn(\"Unable to load Marxan Servers from \" + MARXAN_REGISTRY_FILENAME + \". Using a local copy.\");\n      marxanServers = BACKUP_MARXAN_SERVERS;\n    }\n    //get all the information for the marxan servers by polling them\n    this.initialiseServers(marxanServers);\n  }\n  \n  //initialises the servers by requesting their capabilities and then filtering the list of available servers\n  initialiseServers(marxanServers){\n    //add the current domain - this may be a local/local network install\n    let name = (window.location.hostname === \"localhost\") ? \"localhost\" : window.location.hostname;\n    marxanServers.push(({name: name, protocol: window.location.protocol, host: window.location.hostname, port: 8080, description:'Local machine', type:'local', }));\n    //get a list of server hosts\n    let hosts = marxanServers.map((server) => {\n      return server.host;  \n    });\n    //get all the server capabilities - when all the servers have responded, finalise the marxanServer array\n    this.getAllServerCapabilities(marxanServers).then((server) => {\n      //remove the current domain if either the marxan server is not installed, or it is already in the list of servers from the marxan registry\n      marxanServers = marxanServers.filter((item) => {\n        return (item.type===\"remote\" || (item.type===\"local\" && !item.offline && hosts.indexOf(item.host) === -1) || (item.host === 'localhost'));\n      });\n      //sort the servers by the name \n      marxanServers.sort((a, b) => {\n        if ((a.name.toLowerCase() < b.name.toLowerCase())||(a.type === \"local\"))\n          return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase())\n          return 1;\n        return 0;\n      });\n      this.setState({marxanServers: marxanServers});\n    });\n  }  \n\n  //gets the capabilities of all servers\n  getAllServerCapabilities(marxanServers){\n    let promiseArray = [];\n    //iterate through the servers and get their capabilities\n    for (var i = 0; i < marxanServers.length; ++i) {\n      promiseArray.push(this.getServerCapabilities(marxanServers[i]));\n    }\n    //return a promise\n    return Promise.all(promiseArray);\n  }\n\n  //gets the capabilities of the server by making a request to the getServerData method\n  getServerCapabilities(server){\n    return new Promise((resolve, reject) => {\n      //get the endpoint for all http/https requests\n      let endpoint = server.protocol + \"//\" + server.host + \":\" + server.port + TORNADO_PATH;\n      //get the WebService endpoint\n      let websocketEndpoint = (server.protocol ==='http:') ? \"ws://\" + server.host + \":\" + server.port + TORNADO_PATH : \"wss://\" + server.host + \":\" + server.port + TORNADO_PATH;\n      //set the default properties for the server - by default the server is offline, has no guest access and CORS is not enabled\n      server = Object.assign(server, {endpoint: endpoint, websocketEndpoint: websocketEndpoint, offline: true, guestUserEnabled: false, corsEnabled: false});\n      //poll the server to make sure tornado is running - this uses fetchJsonp which can catch http errors\n      fetchJsonp(endpoint + \"getServerData\",{timeout: 1000}).then((response) => {\n        return response.json();\n      }).then((json) => {\n        if (json.hasOwnProperty('info')){\n          //see if CORS is enabled from this domain - either the domain has been added as an allowable domain on the server, or the client and server are on the same machine\n          let corsEnabled = ((json.serverData.PERMITTED_DOMAINS.indexOf(window.location.hostname)>-1)||(server.host === window.location.hostname)) ? true : false;\n          //set the flags for the server capabilities\n          server = Object.assign(server, {guestUserEnabled: json.serverData.ENABLE_GUEST_USER, corsEnabled: corsEnabled, offline: false, machine: json.serverData.MACHINE, client_version: json.serverData.MARXAN_CLIENT_VERSION, server_version: json.serverData.MARXAN_SERVER_VERSION, node: json.serverData.NODE, processor: json.serverData.PROCESSOR, release: json.serverData.RELEASE, system:json.serverData.SYSTEM, version: json.serverData.VERSION});\n          //if the server defines its own name then set it \n          if(json.serverData.SERVER_NAME!==\"\") {\n            server = Object.assign(server, {name:json.serverData.SERVER_NAME});\n          }\n          //if the server defines its own description then set it \n          if(json.serverData.SERVER_DESCRIPTION!==\"\") {\n            server = Object.assign(server, {description:json.serverData.SERVER_DESCRIPTION});\n          }\n        }\n        //return the server capabilities\n        resolve(server);\n        }).catch((ex) => {\n          //the server does not exist or did not respond before the timeout - return the default properties\n          resolve(server);\n      });\n    });\n  }\n  \n  //called when the user selects a server\n  selectServer(value){\n    this.setState({marxanServer: value});\n    //if the server is ready only then change the user/password to the guest user\n    if (!value.offline && !value.corsEnabled && value.guestUserEnabled){\n      this.setState({user: \"guest\", password:\"password\"});\n    }\n  }\n  \n  closeSnackbar() {\n    this.setState({ snackbarOpen: false });\n  }\n\n  startLogging(clearLog = false){\n    //switches the results pane to the log tab\n    this.log_tab_active();\n    //clear the log if needs be\n    if (clearLog) this.clearLog();\n  }\n\n  //clears the log\n  clearLog(){\n    this.setState({streamingLog: ''});\n  }\n  \n  //can be called from components to update the log\n  setLog(message){\n    this.setState({streamingLog: this.state.streamingLog + message});\n  }\n  //utiliy method for getting all puids from normalised data, e.g. from [[\"VI\", [7, 8, 9]], [\"IV\", [0, 1, 2, 3, 4]], [\"V\", [5, 6]]]\n  getPuidsFromNormalisedData(normalisedData) {\n    let puids = [];\n    normalisedData.forEach((item) => {\n      puids = puids.concat(item[1]);\n    });\n    return puids;\n  }\n\n  changeUserName(user) {\n    this.setState({ user: user });\n  }\n\n  changePassword(password) {\n    this.setState({ password: password });\n  }\n  \n  //gets the server data and then validates the user\n  processLogin(){\n    this._get(\"getServerData\").then((response) => {\n        //set the state for enabling the guest user\n        this.setState({guestUserEnabled: response.serverData.ENABLE_GUEST_USER});\n        //validate the use\n        this.validateUser();\n    });\n  }\n  \n  //checks the users credentials\n  checkPassword(user, password) {\n    return new Promise((resolve, reject) => {\n      this._get(\"validateUser?user=\" +user + \"&password=\" + password, 10000).then((response) => {\n        resolve();\n      }).catch((error) => {\n        reject(error);\n      });\n    });\n  }\n  //validates the user and then logs in if successful\n  validateUser() {\n    this.checkPassword(this.state.user, this.state.password).then(() => {\n      //user validated - log them in\n      this.login();\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //the user is validated so login\n  login() {\n    this._get(\"getUser?user=\" + this.state.user).then((response) => {\n      this.setState({userData: response.userData, unauthorisedMethods: response.unauthorisedMethods, project: response.userData.LASTPROJECT});\n      //set the basemap\n      var basemap = this.state.basemaps.filter((item) => {return (item.name === response.userData.BASEMAP);})[0];\n      this.changeBasemap(basemap, false);\n      //get all features\n      this.getAllFeatures().then(() => {\n        //get the users last project and load it \n        this.loadProject(response.userData.LASTPROJECT, this.state.user);\n      });\n      //get all planning grids\n      this.getPlanningUnitGrids();\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //log out and reset some state \n  logout() {\n    this.hideUserMenu();\n    this.setState({ loggedIn: false, user: '', password: '', project: '', infoPanelOpen: false, resultsPanelOpen: false });\n    //clear the currently set cookies\n    this._get(\"logout\").then((response) => {\n        //do something\n    }).catch((error) => {\n      //do something\n    });\n  }\n  changeEmail(value) { \n      this.setState({ resendEmail: value });\n  }\n\n  resendPassword() {\n    this._get(\"resendPassword?user=\" + this.state.user).then((response) => {\n      //ui feedback\n      this.setSnackBar(response.info);\n      //close the resend password dialog\n      this.closeResendPasswordDialog();\n    }).catch((error) => {\n      //do something\n  \t});\n  }\n\n  //gets data for all users\n  getUsers() {\n    this._get(\"getUsers\").then((response) => {\n      this.setState({ users: response.users });\n    }).catch((error) => {\n      this.setState({ users: [] });\n    });\n  }\n\n  //deletes a user\n  deleteUser(user) {\n    this._get(\"deleteUser?user=\" + user).then((response) => {\n      this.setSnackBar(\"User deleted\");\n      //remove it from the users array\n      let usersCopy = this.state.users;\n      //remove the user \n      usersCopy = usersCopy.filter((item) => {return item.user !== user});\n      //update the users state   \n      this.setState({users: usersCopy});\n      //see if the current project belongs to the deleted user\n      if (this.state.owner === user) {\n        this.setSnackBar(\"Current project no longer exists. Loading next available.\");\n        //load the next available project\n        this.state.projects.some((project) => {\n          if (project.user !== user) this.loadProject(project.name, project.user);\n          return project.name !== this.state.project;\n        });\n        //delete all the projects belonging to that user\n        this.deleteProjectsForUser(user);\n      }\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //deletes all of the projects belonging to the passed user from the state\n  deleteProjectsForUser(user){\n    let projects = this.state.projects.map((project) => {\n      return (project.user !== user);\n    });\n    this.setState({projects: projects});\n  }\n  \n  //changes a users role\n  changeRole(user, role){\n    this.updateUser({ROLE: role}, user);\n    //copy the users state\n    let usersCopy = this.state.users;\n    //change the users role\n    usersCopy = usersCopy.map((item) => {\n      if (item.user === user){\n        return Object.assign(item, {'ROLE': role});\n      }else{\n        return item;\n      }      \n    });\n    //update the users state   \n    this.setState({users: usersCopy});\n  }\n\n  //toggles if the guest user is enabled on the server or not\n  toggleEnableGuestUser(){\n    this._get(\"toggleEnableGuestUser\").then((response) => {\n      //if succesfull set the state\n      this.setState({ guestUserEnabled: response.enabled });\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //toggles the projects privacy\n  toggleProjectPrivacy(newValue){\n    this.updateProjectParameter(\"PRIVATE\", newValue).then((response) => {\n      this.setState({ metadata: Object.assign(this.state.metadata, { PRIVATE: (newValue === \"True\") })});\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  appendToFormData(formData, obj) {\n    //iterate through the object and add each key/value pair to the formData to post to the server\n    for (var key in obj) {\n      //only add non-prototype objects\n      if (obj.hasOwnProperty(key)) {\n        formData.append(key, obj[key]);\n      }\n    }\n    return formData;\n  }\n\n  //removes the keys from the object\n  removeKeys(obj, keys) {\n    keys.map((key) => {\n      delete obj[key];\n      return null;\n    });\n    return obj;\n  }\n\n  //updates all parameter in the user.dat file then updates the state (in userData)\n  updateUser(parameters, user = this.state.user) {\n    return new Promise((resolve, reject) => {\n      //remove the keys that are not part of the users information\n      parameters = this.removeKeys(parameters, [\"updated\", \"validEmail\"]);\n      //initialise the form data\n      let formData = new FormData();\n      //add the current user\n      formData.append(\"user\", user);\n      //append all the key/value pairs\n      this.appendToFormData(formData, parameters);\n      //post to the server\n      this._post(\"updateUserParameters\", formData).then((response) => {\n        // if succesfull write the state back to the userData key\n        if (this.state.user === user) this.setState({ userData: this.newUserData});\n        this.setState({optionsDialogOpen: false });\n        resolve();\n      }).catch((error) => {\n        reject(error);\n      });\n      //if we have updated the current user then save a local property so that if the changes are saved to the server then we can update the local state\n      if (this.state.user === user) this.newUserData = Object.assign(this.state.userData, parameters);\n    });\n  }\n\n  //saveOptions - the options are in the users data so we use the updateUser REST call to update them\n  saveOptions(options) {\n    //hide the popup \n    this.hidePopup();\n    this.updateUser(options);\n  }\n  //updates the project from the old version to the new version\n  upgradeProject(project){\n    return this._get(\"upgradeProject?user=\" + this.state.user + \"&project=\" + project);\n  }\n  \n  //updates the project parameters back to the server (i.e. the input.dat file)\n  updateProjectParams(project, parameters) {\n    //initialise the form data\n    let formData = new FormData();\n    //add the current user\n    formData.append(\"user\", this.state.owner);\n    //add the current project\n    formData.append(\"project\", project);\n    //append all the key/value pairs\n    this.appendToFormData(formData, parameters);\n    //post to the server and return a promise\n    return this._post(\"updateProjectParameters\", formData);\n  }\n\n  //updates a single parameter in the input.dat file directly\n  updateProjectParameter(parameter, value) {\n    let obj = {};\n    obj[parameter] = value;\n    //update the parameter and return a promise\n    return this.updateProjectParams(this.state.project, obj);\n  }\n\n  //updates the run parameters for the current project\n  updateRunParams(array) {\n    //convert the run parameters array into an object\n    let parameters = {};\n    array.map((obj) => { parameters[obj.key] = obj.value; return null; });\n    //update the project parameters\n    this.updateProjectParams(this.state.project, parameters).then((response) => {\n      //if succesfull write the state back \n      this.setState({ runParams: this.runParams});\n    }).catch((error) => {\n      //do something\n    });\n    //save the local state to be able to update the state on callback\n    this.runParams = array;\n  }\n\n  //gets the planning unit grids\n  getPlanningUnitGrids() {\n    this._get(\"getPlanningUnitGrids\").then((response) => {\n      this.setState({ planning_unit_grids: response.planning_unit_grids });\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //loads a project\n  loadProject(project, user) {\n    //reset the results from any previous projects\n    this.resetResults();\n    this._get(\"getProject?user=\" + user + \"&project=\" + project).then((response) => {\n      //set the state for the app based on the data that is returned from the server\n      this.setState({ loggedIn: true, project: response.project, owner: user, runParams: response.runParameters, files: Object.assign(response.files), metadata: response.metadata, renderer: response.renderer, planning_units: response.planning_units, infoPanelOpen: true, resultsPanelOpen: true  });\n      //if there is a PLANNING_UNIT_NAME passed then programmatically change the select box to this map \n      if (response.metadata.PLANNING_UNIT_NAME) this.changeTileset(MAPBOX_USER + \".\" + response.metadata.PLANNING_UNIT_NAME);\n      //set a local variable for the feature preprocessing - this is because we dont need to track state with these variables as they are not bound to anything\n      this.feature_preprocessing = response.feature_preprocessing;\n      //set a local variable for the protected area intersections - this is because we dont need to track state with these variables as they are not bound to anything\n      this.protected_area_intersections = response.protected_area_intersections;\n      //set a local variable for the selected iucn category\n      this.previousIucnCategory = response.metadata.IUCN_CATEGORY;\n      //initialise all the interest features with the interest features for this project\n      this.initialiseInterestFeatures(response.metadata.OLDVERSION, response.features);\n      //poll the server to see if results are available for this project - if there are these will be loaded\n      this.getResults(user, response.project);\n    }).catch((error) => {\n        if (error.indexOf('Logged on as read-only guest user')>-1){\n          this.setState({loggedIn: true});\n        }\n        if (error.indexOf(\"does not exist\")>-1){\n          //probably the last loaded project has been deleted - send some feedback and load another project\n          this.setSnackBar(\"Loading first available project\");\n          //passing an empty project to loadProject will load the first project\n          this.loadProject('', this.state.user);\n        }\n    });\n  }\n\n  //matches and returns an item in an object array with the passed id - this assumes the first item in the object is the id identifier\n  getArrayItem(arr, id) {\n    let tmpArr = arr.filter((item) => { return item[0] === id });\n    let returnValue = (tmpArr.length > 0) ? tmpArr[0] : undefined;\n    return returnValue;\n  }\n\n  //initialises the interest features based on the currently loading project\n  initialiseInterestFeatures(oldVersion, projectFeatures) {\n    //if the project is from an old version of marxan then the interest features can only come from the list of features in the current project\n    let features = (oldVersion) ? JSON.parse(JSON.stringify(projectFeatures)) : this.state.allFeatures; //make a copy of the projectFeatures\n    //get a list of the ids for the features that are in this project\n    var ids = projectFeatures.map((item) => {\n      return item.id;\n    });\n    //iterate through features to add the required attributes to be used in the app and to populate them based on the current project features\n    var outFeatures = features.map((item) => {\n      //see if the feature is in the current project\n      var projectFeature = (ids.indexOf(item.id) > -1) ? projectFeatures[ids.indexOf(item.id)] : null;\n      //get the preprocessing for that feature from the feature_preprocessing.dat file\n      let preprocessing = this.getArrayItem(this.feature_preprocessing, item.id);\n      //add the required attributes to the features - these will be populated in the function calls preprocessFeature (pu_area, pu_count) and pollResults (protected_area, target_area)\n      this.addFeatureAttributes(item, oldVersion);\n      //if the interest feature is in the current project then populate the data from that feature\n      if (projectFeature) {\n        item['selected'] = true;\n        item['preprocessed'] = preprocessing ? true : false;\n        item['pu_area'] = preprocessing ? preprocessing[1] : -1;\n        item['pu_count'] = preprocessing ? preprocessing[2] : -1;\n        item['spf'] = projectFeature['spf'];\n        item['target_value'] = projectFeature['target_value'];\n        item['occurs_in_planning_grid'] = item['pu_count'] > 0;\n      }\n      return item;\n    });\n    //get the selected feature ids\n    this.getSelectedFeatureIds();\n    //set the state\n    this.setState({ allFeatures: outFeatures, projectFeatures: outFeatures.filter((item) => { return item.selected }) });\n  }\n\n  //adds the required attributes for the features to work in the marxan web app - these are the default values\n  addFeatureAttributes(item, oldVersion){\n      // the -1 flag indicates that the values are unknown\n      item['selected'] = false;\n      item['preprocessed'] = false;\n      item['pu_area'] = -1;\n      item['pu_count'] = -1;\n      item['spf'] = 40;\n      item['target_value'] = 17;\n      item['target_area'] = -1;\n      item['protected_area'] = -1;\n      item['feature_layer_loaded'] = false;\n      item['old_version'] = oldVersion;\n      item['occurs_in_planning_grid'] = false;\n  }\n\n  //resets various variables and state in between users\n  resetResults() {\n    this.runMarxanResponse = {};\n    this.setState({ solutions: []});\n    //reset any feature layers that are shown\n    this.hideFeatureLayer();\n    //reset the puvspr layer\n    this.hideLayer(PUVSPR_LAYER_NAME);\n  }\n\n  //create a new user on the server\n  createNewUser(user, password, name, email, mapboxaccesstoken) {\n    let formData = new FormData();\n    formData.append('user', user);\n    formData.append('password', password);\n    formData.append('fullname', name);\n    formData.append('email', email);\n    formData.append('mapboxaccesstoken', mapboxaccesstoken);\n    this._post(\"createUser\", formData).then((response) => {\n      //ui feedback\n      this.setSnackBar(response.info);\n      //close the register dialog\n      this.closeRegisterDialog();\n      //enter the new users name in the username box and a blank password\n      this.setState({user: user, password:''});\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //REST call to create a new project from the wizard\n  createNewProject(project) {\n    let formData = new FormData();\n    formData.append('user', this.state.user);\n    formData.append('project', project.name);\n    formData.append('description', project.description);\n    formData.append('planning_grid_name', project.planning_grid_name);\n    var interest_features = [];\n    var target_values = [];\n    var spf_values = [];\n    project.features.forEach((item) => {\n      interest_features.push(item.id);\n      target_values.push(17);\n      spf_values.push(40);\n    });\n    //prepare the data that will populate the spec.dat file\n    formData.append('interest_features', interest_features.join(\",\"));\n    formData.append('target_values', target_values.join(\",\"));\n    formData.append('spf_values', spf_values.join(\",\"));\n    this._post(\"createProject\", formData).then((response) => {\n      this.setSnackBar(response.info);\n      this.setState({projectsDialogOpen: false });\n      this.loadProject(response.name, response.user);\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //REST call to create a new import project from the wizard\n  createImportProject(project) {\n    let formData = new FormData();\n    formData.append('user', this.state.user);\n    formData.append('project', project);\n    return this._post(\"createImportProject\", formData);\n  }\n\n  //REST call to delete a specific project\n  deleteProject(user, project, silent = false) {\n    this._get(\"deleteProject?user=\" + user + \"&project=\" + project).then((response) => {\n      //refresh the projects list\n      this.getProjects();\n      //ui feedback\n      this.setSnackBar(response.info, silent); //we may not want to show the snackbar if we are deleting a project silently, e.g. on a rollback after an unsuccesful import\n      //see if the user deleted the current project\n      if (response.project === this.state.project) {\n        //ui feedback\n        this.setSnackBar(\"Current project deleted - loading first available\");\n        //load the next available project\n        this.state.projects.some((project) => {\n          if (project.name !== this.state.project) this.loadProject(project.name, this.state.user);\n          return project.name !== this.state.project;\n        });\n      }\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  cloneProject(user, project) {\n    this._get(\"cloneProject?user=\" + user + \"&project=\" + project).then((response) => {\n      //refresh the projects list\n      this.getProjects();\n      //ui feedback\n      this.setSnackBar(response.info);\n    }).catch((error) => {\n        //do something\n    });\n  }\n\n  startEditingProjectName() {\n    this.setState({ editingProjectName: true });\n  }\n\n  startEditingDescription() {\n    this.setState({ editingDescription: true });\n  }\n  //rename a specific project on the server\n  renameProject(newName) {\n    this.setState({ editingProjectName: false });\n    if (newName !== '' && newName !== this.state.project) {\n      this._get(\"renameProject?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&newName=\" + newName).then((response) => {\n        this.setState({ project: newName});\n        this.setSnackBar(response.info);\n      }).catch((error) => {\n        //do something\n      });\n    }\n  }\n  //rename the description for a specific project on the server\n  renameDescription(newDesc) {\n    this.setState({ editingDescription: false });\n    this.updateProjectParameter(\"DESCRIPTION\", newDesc).then((response) => {\n      this.setState({ metadata: Object.assign(this.state.metadata, { DESCRIPTION: newDesc })});\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  getProjects() {\n    this._get(\"getProjects?user=\" + this.state.user).then((response) => {\n      let projects = [];\n      //filter the projects so that private ones arent shown\n      response.projects.forEach((project) => {\n        if (!(project.private && project.user !== this.state.user && this.state.userData.ROLE !== \"Admin\")) projects.push(project);\n      });\n      this.setState({ projects: projects});\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////CODE TO PREPROCESS AND RUN MARXAN\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //run a marxan job on the server\n  runMarxan(e) {\n    //start the logging\n    this.startLogging(true);\n    //reset all of the protected and target areas for all features\n    this.resetProtectedAreas();\n    //update the spec.dat file with any that have been added or removed or changed target or spf\n    this.updateSpecFile().then((value)=> {\n      //when the species file has been updated, update the planning unit file \n      this.updatePuFile();\n      //when the planning unit file has been updated, update the PuVSpr file - this does all the preprocessing using websockets\n      this.updatePuvsprFile().then((value) => {\n        //start the marxan job\n        this.startMarxanJob(this.state.owner, this.state.project).then((response) => {\n          //update the run log\n          this.getRunLogs();\n          if (!this.checkForErrors(response)) {\n            //run completed - get the results\n            this.getResults(response.user, response.project);\n          }else{\n            //set state with no solutions\n            this.runFinished([]);\n          }\n        }).catch((error) => {\n            //reset the running state\n            this.marxanStopped(error);\n        }); //startMarxanJob\n      }); //updatePuvsprFile\n    }).catch((error) => { //updateSpecFile error\n      //\n    });\n  }\n\n  //stops marxan running on the server\n  stopMarxan(pid) {\n    this._get(\"stopMarxan?pid=\" + pid, 10000).catch((error) => {\n      //if the pid no longer exists then the state needs to be reset anyway\n      this.getRunLogs();\n    });\n  }\n\n  //ui feedback when marxan is stopped by the user\n  marxanStopped(error){\n    //update the run log\n    this.getRunLogs();\n    //return an error message\n    this.setState({pid: 0, streamingLog: this.state.streamingLog + \"\\n\" + error + \"\\n\\n\"});\n  }\n  \n  resetProtectedAreas() {\n    //reset all of the results for allFeatures to set their protected_area and target_area to -1\n    this.state.allFeatures.forEach((feature) => {\n      feature.protected_area = -1;\n      feature.target_area = -1;\n    });\n  }\n\n  //updates the species file with any target values that have changed\n  updateSpecFile() {\n    let formData = new FormData();\n    formData.append('user', this.state.owner);\n    formData.append('project', this.state.project);\n    var interest_features = [];\n    var target_values = [];\n    var spf_values = [];\n    this.state.projectFeatures.forEach((item) => {\n      interest_features.push(item.id);\n      target_values.push(item.target_value);\n      spf_values.push(item.spf);\n    });\n    //prepare the data that will populate the spec.dat file\n    formData.append('interest_features', interest_features.join(\",\"));\n    formData.append('target_values', target_values.join(\",\"));\n    formData.append('spf_values', spf_values.join(\",\"));\n    return this._post(\"updateSpecFile\", formData);\n  }\n\n  //updates the planning unit file with any changes - not implemented yet\n  updatePuFile() {\n\n  }\n\n  updatePuvsprFile() {\n    //preprocess the features to create the puvspr.dat file on the server - this is done on demand when the project is run because the user may add/remove Conservation features willy nilly\n    let promise = this.preprocessAllFeatures();\n    return promise;\n  }\n\n  //preprocess a single feature\n  async preprocessSingleFeature(feature){\n    this.closeFeatureMenu();\n    this.startLogging();\n    this.preprocessFeature(feature);\n  }\n  \n  //preprocess synchronously, i.e. one after another\n  async preprocessAllFeatures() {\n    var feature;\n    //iterate through the features and preprocess the ones that need preprocessing\n    for (var i = 0; i < this.state.projectFeatures.length; ++i) {\n      feature = this.state.projectFeatures[i];\n      if (!feature.preprocessed){\n        await this.preprocessFeature(feature);\n      }else{\n        //\n      }\n    }\n  }\n\n  //preprocesses a feature using websockets - i.e. intersects it with the planning units grid and writes the intersection results into the puvspr.dat file ready for a marxan run - this will have no server timeout as its running using websockets\n  preprocessFeature(feature) {\n    return new Promise((resolve, reject) => {\n      //switches the results pane to the log tab\n      this.log_tab_active();\n      //call the websocket \n      this._ws(\"preprocessFeature?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&planning_grid_name=\" + this.state.metadata.PLANNING_UNIT_NAME + \"&feature_class_name=\" + feature.feature_class_name + \"&alias=\" + feature.alias + \"&id=\" + feature.id, this.wsMessageCallback.bind(this)).then((message) => {\n        //websocket has finished\n        this.updateFeature(feature, {preprocessed: true, pu_count: Number(message.pu_count), pu_area: Number(message.pu_area), occurs_in_planning_grid: (Number(message.pu_count) >0)});\n        resolve(message);\n      }).catch((error) => {\n        reject(error);\n      });\n    });\n  }\n\n  //calls the marxan executeable and runs it getting the output streamed through websockets\n  startMarxanJob(user, project) {\n    return new Promise((resolve, reject) => {\n      //update the ui to reflect the fact that a job is running\n      this.setState({active_pu: undefined});\n      //make the request to get the marxan data\n      this._ws(\"runMarxan?user=\" + user + \"&project=\" + project, this.wsMessageCallback.bind(this)).then((message) => {\n        //websocket has finished\n        this.setState({pid: 0});\n        resolve(message);\n      }).catch((error) => {\n        reject(error);\n      });\n    });\n  }\n\n  //gets the results for a project\n  getResults(user, project){\n    this._get(\"getResults?user=\" + user + \"&project=\" + project).then((response) => {\n      this.runCompleted(response);\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //run completed\n  runCompleted(response) {\n    var solutions;\n    //get the response and store it in this component\n    this.runMarxanResponse = response;\n    //if we have some data to map then set the state to reflect this\n    if (this.runMarxanResponse.ssoln && this.runMarxanResponse.ssoln.length > 0) {\n      this.setSnackBar(response.info);\n      //render the sum solution map\n      this.renderSolution(this.runMarxanResponse.ssoln, true);\n      //create the array of solutions to pass to the InfoPanels table\n      solutions = response.summary;\n      //the array data are in the format \"Run_Number\",\"Score\",\"Cost\",\"Planning_Units\" - so create an array of objects to pass to the outputs table\n      solutions = solutions.map((item) => {\n        return { \"Run_Number\": item[0], \"Score\": Number(item[1]).toFixed(1), \"Cost\": Number(item[2]).toFixed(1), \"Planning_Units\": item[3], \"Missing_Values\": item[12] };\n      });\n      //add in the row for the summed solutions\n      solutions.splice(0, 0, { 'Run_Number': 'Sum', 'Score': '', 'Cost': '', 'Planning_Units': '', 'Missing_Values': '' });\n      //select the first row in the solutions table\n      \n      //update the amount of each target that is protected in the current run from the output_mvbest.txt file\n      this.updateProtectedAmount(this.runMarxanResponse.mvbest);\n    }else{\n      solutions = [];\n    }\n    //set state\n    this.runFinished(solutions);\n  }\n\n  runFinished(solutions){\n    this.setState({ solutions: solutions });\n  }\n  \n  //gets the protected area information in m2 from the marxan run and populates the interest features with the values\n  updateProtectedAmount(mvData) {\n    //copy the current project features state\n    let features = this.state.allFeatures;\n    //iterate through the features and set the protected amount\n    features.forEach((feature) => {\n      //get the matching item in the mvbest data\n      let mvbestItemIndex = mvData.findIndex((item) => { return item[0] === feature.id; });\n      if (mvbestItemIndex>-1){ //the mvbest file may not contain the data for the feature if the project has not been run since the feature was added\n        //get the missing values item for the specific feature\n        let mvItem = mvData[mvbestItemIndex];\n        Object.assign(feature, {target_area: mvItem[2], protected_area: mvItem[3]});\n      }\n    });\n    //update allFeatures and projectFeatures with the new value\n    this.setFeaturesState(features);\n  }\n\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////IMPORT PROJECT ROUTINES\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  \n  importProject(project, description, zipFilename, files, planning_grid_name){\n    return new Promise((resolve, reject) => {\n      let feature_class_name = \"\", uploadId;\n      //start the logging\n      this.startLogging();\n      //set the spinner and lot states\n      this.setState({streamingLog: \"Starting import...\\n\"});\n      //create a new project\n      //TODO: SORT OUT ROLLING BACK IF AN IMPORT FAILS - AND DONT PROVIDE REST CALLS TO DELETE PLANNING UNITS\n      this.createImportProject(project).then((response) => {\n        this.setState({streamingLog: this.state.streamingLog + \" Project '\" + project + \"' created\\n\"});\n        //create the planning unit file\n        this.importZippedShapefileAsPu(zipFilename, planning_grid_name, \"Imported with the project '\" + project + \"'\").then((response) => {\n          //get the planning unit feature_class_name\n          feature_class_name = response.feature_class_name;\n          //get the uploadid\n          uploadId = response.uploadId;\n          this.setState({streamingLog: this.state.streamingLog + \" Planning grid imported\\n\"});\n          //upload all of the files from the local system\n          this.uploadFiles(files, project).then((response) => {\n            this.setState({streamingLog: this.state.streamingLog + \" All files uploaded\\n\"});\n            //upgrade the project to the new version of Marxan - this adds the necessary settings in the project file and calculates the statistics for species in the puvspr.dat and puts them in the feature_preprocessing.dat file\n            this.upgradeProject(project).then((response) => {\n              this.setState({streamingLog: this.state.streamingLog + \" Project updated to new version\\n\"});\n              //update the project file with the new settings - we also have to set the OUTPUTDIR to the standard 'output' as some imported projects may have set different output folders, e.g. output_BLMBEST\n              this.updateProjectParams(project, {DESCRIPTION: description + \" (imported from an existing Marxan project)\", CREATEDATE: new Date(Date.now()).toString(), OLDVERSION: 'True', PLANNING_UNIT_NAME: feature_class_name, OUTPUTDIR: 'output'}).then((response) => {\n                this.setState({streamingLog: this.state.streamingLog + \" Uploading planning grid to Mapbox (this may take a minute or two)\"});\n                // wait for the tileset to upload to mapbox\n                this.pollMapbox(uploadId).then((response) => {\n                  //refresh the planning grids\n                  this.getPlanningUnitGrids();\n                  this.setState({streamingLog: this.state.streamingLog + \"\\nImport complete\\n\"});\n                  //now open the project\n                  this.loadProject(project, this.state.user);\n                  resolve(\"Import complete\");\n                });\n              }).catch((error) => { //updateProjectParams error\n                  reject(error);\n              });\n            }).catch((error) => { //upgradeProject error\n              reject(error);\n            }); \n          }).catch((error) => { //uploadFiles error\n              reject(error);\n          }); \n        }).catch((error) => { //importZippedShapefileAsPu error - delete the project\n          this.deleteProject(this.state.user, project, true);\n          reject(error);\n        });\n      }).catch((error) => { //createImportProject failed - the project already exists\n        reject(error);\n      });\n    });\n  }\n  \n  //uploads a list of files\n  async uploadFiles(files, project) {\n    var file, filepath;\n    for (var i = 0; i < files.length; i++) {\n      file = files.item(i);\n      //see if it is a marxan data file\n      if (file.name.slice(-4) === '.dat'){\n        const formData = new FormData();\n        formData.append('user', this.state.owner);\n        formData.append('project', project);\n        //the webkitRelativePath will include the folder itself so we have to remove this, e.g. 'Marxan project/input/puvspr.dat' -> '/input/puvspr.dat'\n        filepath = file.webkitRelativePath.split(\"/\").slice(1).join(\"/\");\n        formData.append('filename', filepath);\n        formData.append('value', file);\n        this.setState({streamingLog: this.state.streamingLog + \" Uploading: \" + file.webkitRelativePath + \"\\n\"});\n        await this.uploadFile(formData);\n      }\n    }\n    return 'All files uploaded';\n  }\n  \n  //uploads a single file\n  uploadFile(formData){\n    return this._post(\"uploadFile\", formData);\n  }\n  \n  //pads a number with zeros to a specific size, e.g. pad(9,5) => 00009\n  pad(num, size) {\n    var s = num + \"\";\n    while (s.length < size) s = \"0\" + s;\n    return s;\n  }\n\n  //load a specific solution for the current project\n  loadSolution(solution) {\n    if (solution === \"Sum\") {\n      this.updateProtectedAmount(this.runMarxanResponse.mvbest);\n      //load the sum of solutions which will already be loaded\n      this.renderSolution(this.runMarxanResponse.ssoln, true);\n    }\n    else {\n      this.getSolution(this.state.owner, this.state.project, solution).then((response) => {\n          this.updateProtectedAmount(response.mv);\n          this.renderSolution(response.solution, false);\n      });\n    }\n  }\n\n  //load a solution from another project - used in the clumping dialog - when the solution is loaded the paint properties are set on the individual maps through state changes\n  loadOtherSolution(user, project, solution) {\n    this.getSolution(user, project, solution).then((response) => {\n      var paintProperties = this.getPaintProperties(response.solution, false, false);\n      //get the project that matches the project name from the this.projects property - this was set when the projectGroup was created\n      if (this.projects){\n        var _projects = this.projects.filter((item) => {return item.projectName === project});\n        //get which clump it is\n        var clump = _projects[0].clump;\n        switch (clump) {\n          case 0:\n            this.setState({map0_paintProperty: paintProperties});\n            break;\n          case 1:\n            this.setState({map1_paintProperty: paintProperties});\n            break;\n          case 2:\n            this.setState({map2_paintProperty: paintProperties});\n            break;\n          case 3:\n            this.setState({map3_paintProperty: paintProperties});\n            break;\n          case 4:\n            this.setState({map4_paintProperty: paintProperties});\n            break;\n          default:\n            break;\n        }\n      }\n    });\n  }\n  \n  //gets a solution and returns a promise\n  getSolution(user, project, solution){\n    return this._get(\"getSolution?user=\" + user + \"&project=\" + project + \"&solution=\" + solution);\n  }\n  \n  //gets the total number of planning units in the ssoln and outputs the statistics of the distribution to state, e.g. 2 PUs with a value of 1, 3 with a value of 2 etc.\n  getssolncount(data) {\n    let total = 0;\n    let summaryStats = [];\n    data.map((item) => {\n      summaryStats.push({ number: item[0], count: item[1].length });\n      total += item[1].length;\n      return null;\n    });\n    this.setState({ summaryStats: summaryStats });\n    return total;\n  }\n  //gets a sample of the data to be able to do a classification, e.g. natural breaks, jenks etc.\n  getssolnSample(data, sampleSize) {\n    let sample = [],\n      num = 0;\n    let ssolnLength = this.getssolncount(data);\n    data.map((item) => {\n      //use the ceiling function to force outliers to be in the classification, i.e. those planning units that were only selected in 1 solution\n      num = Math.ceil((item[1].length / ssolnLength) * sampleSize);\n      sample.push(Array(num, ).fill(item[0]));\n      return null;\n    });\n    return [].concat.apply([], sample);\n  }\n\n  //get all data from the ssoln arrays\n  getSsolnData(data) {\n    let arrays = data.map((item) => {\n      return item[1];\n    });\n    return [].concat.apply([], arrays);\n  }\n  //gets the classification and colorbrewer object for doing the rendering\n  classifyData(data, numClasses, colorCode, classification) {\n    //get a sample of the data to make the renderer classification\n    let sample = this.getssolnSample(data, 1000); //samples dont work\n    // let sample = this.getSsolnData(data); //get all the ssoln data\n    //set the data \n    this.state.brew.setSeries(sample);\n    //if the colorCode is opacity then calculate the rgba values dynamically and add them to the color schemes\n    if (colorCode === 'opacity') {\n      //see if we have already created a brew color scheme for opacity with NUMCLASSES\n      if ((this.state.brew.colorSchemes.opacity === undefined)  || (this.state.brew.colorSchemes.opacity && !this.state.brew.colorSchemes.opacity[this.state.renderer.NUMCLASSES])) {\n        //get a copy of the brew state\n        let brewCopy = this.state.brew;\n        let newBrewColorScheme = Array(Number(this.state.renderer.NUMCLASSES)).fill(\"rgba(255,0,136,\").map((item, index) => { return item + ((1 / this) * (index + 1)) + \")\"; }, this.state.renderer.NUMCLASSES);\n        //add the new color scheme\n        if (brewCopy.colorSchemes.opacity === undefined) brewCopy.colorSchemes.opacity = [];\n        brewCopy.colorSchemes.opacity[this.state.renderer.NUMCLASSES] = newBrewColorScheme;\n        //set the state\n        this.setState({brew: brewCopy});\n      }\n    }\n    //set the color code - see the color theory section on Joshua Tanners page here https://github.com/tannerjt/classybrew - for all the available colour codes\n    this.state.brew.setColorCode(colorCode);\n    //get the maximum number of colors in this scheme\n    let colorSchemeLength = utilities.getMaxNumberOfClasses(this.state.brew, colorCode);\n    //check the color scheme supports the passed number of classes\n    if (numClasses > colorSchemeLength) {\n      //set the numClasses to the max for the color scheme\n      numClasses = colorSchemeLength;\n      //reset the renderer\n      this.setState({ renderer: Object.assign(this.state.renderer, { NUMCLASSES: numClasses }) });\n    }\n    //set the number of classes\n    this.state.brew.setNumClasses(numClasses);\n    //set the classification method - one of equal_interval, quantile, std_deviation, jenks (default)\n    this.state.brew.classify(classification);\n    this.setState({ dataBreaks: this.state.brew.getBreaks()});\n  }\n\n  //called when the renderer state has been updated - renders the solution and saves the renderer back to the server\n  rendererStateUpdated(parameter, value) {\n    this.renderSolution(this.runMarxanResponse.ssoln, true);\n    if (this.state.userData.ROLE !== \"ReadOnly\") this.updateProjectParameter(parameter, value);\n  }\n  //change the renderer, e.g. jenks, natural_breaks etc.\n  changeRenderer(renderer) {\n    this.setState({ renderer: Object.assign(this.state.renderer, { CLASSIFICATION: renderer }) }, () => {\n      this.rendererStateUpdated(\"CLASSIFICATION\", renderer);\n    });\n  }\n  //change the number of classes of the renderer\n  changeNumClasses(numClasses) {\n    this.setState({ renderer: Object.assign(this.state.renderer, { NUMCLASSES: numClasses }) }, () => {\n      this.rendererStateUpdated(\"NUMCLASSES\", numClasses);\n    });\n  }\n  //change the color code of the renderer\n  changeColorCode(colorCode) {\n    //set the maximum number of classes that can be selected in the other select boxes\n    if (this.state.renderer.NUMCLASSES > this.state.brew.getNumClasses()) {\n      this.setState({ renderer: Object.assign(this.state.renderer, { NUMCLASSES: this.state.brew.getNumClasses() }) });\n    }\n    this.setState({ renderer: Object.assign(this.state.renderer, { COLORCODE: colorCode }) }, () => {\n      this.rendererStateUpdated(\"COLORCODE\", colorCode);\n    });\n  }\n  //change how many of the top classes only to show\n  changeShowTopClasses(numClasses) {\n    this.setState({ renderer: Object.assign(this.state.renderer, { TOPCLASSES: numClasses }) }, () => {\n      this.rendererStateUpdated(\"TOPCLASSES\", numClasses);\n    });\n  }\n  //renders the solution - data is the REST response and sum is a flag to indicate if the data is the summed solution (true) or an individual solution (false)\n  renderSolution(data, sum) {\n    if (!data) return;\n    var paintProperties = this.getPaintProperties(data, sum, true);\n    //set the render paint property\n    this.map.setPaintProperty(RESULTS_LAYER_NAME, \"fill-color\", paintProperties.fillColor);\n    this.map.setPaintProperty(RESULTS_LAYER_NAME, \"fill-outline-color\", paintProperties.oulineColor);\n    this.map.setPaintProperty(RESULTS_LAYER_NAME, \"fill-opacity\", this.state.results_layer_opacity);\n  }\n\n  //gets the various paint properties for the planning unit layer - if setRenderer is true then it will also update the renderer in the Legend panel\n  getPaintProperties(data, sum, setRenderer){\n    //build an expression to get the matching puids with different numbers of 'numbers' in the marxan results\n    var fill_color_expression = this.initialiseFillColorExpression(\"puid\");\n    var fill_outline_color_expression = this.initialiseFillColorExpression(\"puid\");\n    if (data.length>0) {\n      var color, visibleValue, value;\n      //create the renderer using Joshua Tanners excellent library classybrew - available here https://github.com/tannerjt/classybrew\n      if (setRenderer) this.classifyData(data, Number(this.state.renderer.NUMCLASSES), this.state.renderer.COLORCODE, this.state.renderer.CLASSIFICATION);\n      //if only the top n classes will be rendered then get the visible value at the boundary\n      if (this.state.renderer.TOPCLASSES < this.state.renderer.NUMCLASSES) {\n        let breaks = this.state.brew.getBreaks();\n        visibleValue = breaks[this.state.renderer.NUMCLASSES - this.state.renderer.TOPCLASSES + 1];\n      }\n      else {\n        visibleValue = 0;\n      }\n      // the rest service sends the data grouped by the 'number', e.g. [1,[23,34,36,43,98]],[2,[16,19]]\n      data.forEach((row, index) => {\n        if (sum) { //multi value rendering\n          value = row[0];\n          //for each row add the puids and the color to the expression, e.g. [35,36,37],\"rgba(255, 0, 136,0.1)\"\n          color = this.state.brew.getColorInRange(value);\n          //add the color to the expression - transparent if the value is less than the visible value\n          if (value >= visibleValue) {\n            fill_color_expression.push(row[1], color);\n            fill_outline_color_expression.push(row[1], \"rgba(150, 150, 150, 0.6)\"); //gray outline\n          }\n          else {\n            fill_color_expression.push(row[1], \"rgba(0, 0, 0, 0)\");\n            fill_outline_color_expression.push(row[1], \"rgba(0, 0, 0, 0)\");\n          }\n        }\n        else { //single value rendering\n          fill_color_expression.push(row[1], \"rgba(255, 0, 136,1)\");\n          fill_outline_color_expression.push(row[1], \"rgba(150, 150, 150, 0.6)\"); //gray outline\n        }\n      });\n      // Last value is the default, used where there is no data\n      fill_color_expression.push(\"rgba(0,0,0,0)\");\n      fill_outline_color_expression.push(\"rgba(0,0,0,0)\");\n    }else{\n      fill_color_expression = \"rgba(0, 0, 0, 0)\";\n      fill_outline_color_expression = \"rgba(0, 0, 0, 0)\";\n    }\n    return {fillColor: fill_color_expression, oulineColor: fill_outline_color_expression};\n  }\n  \n  //initialises the fill color expression for matching on attributes values\n  initialiseFillColorExpression(attribute){\n    return [\"match\", [\"get\", attribute]];\n  }\n  \n  //renders the planning units edit layer according to the type of layer and pu status \n  renderPuEditLayer() {\n    let expression;\n    if (this.state.planning_units.length > 0) {\n      //build an expression to get the matching puids with different statuses in the planning units data\n      expression = [\"match\", [\"get\", \"puid\"]];\n      // the rest service sends the data grouped by the status, e.g. [1,[23,34,36,43,98]],[2,[16,19]]\n      this.state.planning_units.forEach((row, index) => {\n        var color;\n        //get the status\n        switch (row[0]) {\n          case 1: //The PU will be included in the initial reserve system but may or may not be in the final solution.\n            color = \"rgba(63, 191, 63, 1)\";\n            break;\n          case 2: //The PU is fixed in the reserve system (locked in). It starts in the initial reserve system and cannot be removed.\n            color = \"rgba(63, 63, 191, 1)\";\n            break;\n          case 3: //The PU is fixed outside the reserve system (locked out). It is not included in the initial reserve system and cannot be added.\n            color = \"rgba(191, 63, 63, 1)\";\n            break;\n          default:\n            break;\n        }\n        //add the color to the expression \n        expression.push(row[1], color);\n      });\n      // Last value is the default, used where there is no data - i.e. for all the planning units with a status of 0\n      expression.push(\"rgba(150, 150, 150, 0)\");\n    }\n    else {\n      //there are no statuses apart from the default 0 status so have a single renderer\n      expression = \"rgba(150, 150, 150, 0)\";\n    }\n    //set the render paint property\n    this.map.setPaintProperty(EDIT_LAYER_NAME, \"line-color\", expression);\n    this.map.setPaintProperty(EDIT_LAYER_NAME, \"line-width\", EDIT_LAYER_LINE_WIDTH);\n  }\n\n  mouseMove(e) {\n    //hide the popup feature list if it is visible\n    if (this.state.puFeatures && this.state.puFeatures.length > 0) this.setState({puFeatures:[]});\n    //error check\n    if (!this.state.userData.SHOWPOPUP) return;\n    //get the features under the mouse\n    var features = this.map.queryRenderedFeatures(e.point, { layers: [RESULTS_LAYER_NAME] });\n    //see if there are any planning unit features under the mouse\n    if (features.length) {\n      //set the location for the popup\n      if (!this.state.active_pu || (this.state.active_pu && this.state.active_pu.puid !== features[0].properties.puid)) this.setState({ popup_point: e.point });\n      //get the properties from the vector tile\n      let vector_tile_properties = features[0].properties;\n      //get the properties from the marxan results - these will include the number of solutions that that planning unit is found in\n      let marxan_results = this.runMarxanResponse && this.runMarxanResponse.ssoln ? this.runMarxanResponse.ssoln.filter(item => item[1].indexOf(vector_tile_properties.puid) > -1)[0] : {};\n      if (marxan_results) {\n        //convert the marxan results from an array to an object\n        let marxan_results_dict = { \"puid\": vector_tile_properties.puid, \"Number\": marxan_results[0] };\n        //combine the 2 sets of properties\n        let active_pu = Object.assign(marxan_results_dict, vector_tile_properties);\n        //set the state to re-render the popup\n        this.setState({ active_pu: active_pu });\n      }\n      else {\n        this.hidePopup();\n      }\n    }\n    else {\n      this.hidePopup();\n    }\n  }\n\n  hidePopup() {\n    this.setState({ active_pu: undefined });\n  }\n\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///MAP INSTANTIATION, LAYERS ADDING/REMOVING AND INTERACTION\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //instantiates the mapboxgl map\n  createMap(url){\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: url,\n      center: [0, 0],\n      zoom: 2\n    });\n    //add event handlers for the load and error events\n    this.map.on(\"load\", this.mapLoaded.bind(this));\n    this.map.on(\"error\", this.mapError.bind(this));\n    this.map.on(\"click\", this.mapClick.bind(this));\n  }\n\n  mapLoaded(e) {\n    // this.map.addControl(new mapboxgl.FullscreenControl(), 'bottom-right'); // currently full screen hides the info panel and setting position:absolute and z-index: 10000000000 doesnt work properly\n    this.map.addControl(new mapboxgl.ScaleControl());\n    this.map.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\n    //create the draw controls for the map\n    this.mapboxDrawControls = new MapboxDraw({\n      displayControlsDefault: false,\n      controls: {\n        polygon: true,\n        trash: true\n      },\n      defaultMode: 'draw_polygon'\n    });\n    this.map.on(\"mousemove\", this.mouseMove.bind(this));\n    this.map.on(\"moveend\", (evt) => {\n      if (this.state.clumpingDialogOpen) this.updateMapCentreAndZoom(); //only update the state if the clumping dialog is open\n    });\n    this.map.on('draw.create', this.polygonDrawn.bind(this));\n  }\n\n  updateMapCentreAndZoom(){\n    this.setState({mapCentre: this.map.getCenter(), mapZoom: this.map.getZoom()}); \n  }\n\n  //catch all event handler for map errors\n  mapError(e){\n    var message = \"\";\n    switch (e.error.message) {\n      case 'Not Found':\n        message = \"The tileset '\" + e.source.url + \"' was not found\";\n        break;\n      default:\n        message = e.error.message;\n        break;\n    }\n    this.setSnackBar(\"MapError: \" + message);\n  }\n  \n  //\n  mapClick(e){\n    if (!this.state.puEditing){ //if the user is not editing planning units then show what features were in the planning unit for the clicked point\n      var features = this.map.queryRenderedFeatures(e.point, { layers: [RESULTS_LAYER_NAME] });\n      //set the popup point\n      this.setState({ popup_point: e.point });\n      //see if there are any planning unit features under the mouse\n      if (features.length && features[0].properties.puid) this.getPUFeatureList(features[0].properties.puid);\n    }\n  }\n  \n  //gets a list of features for the planning unit\n  getPUFeatureList(puid){\n    this._get(\"getPUSpeciesList?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&puid=\" + puid).then((response) => {\n      this.setState({puFeatures: response.data});\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //changes the default basemap for the user\n  changeBasemap(basemap, getResults = true){\n    //change the state\n    this.setState({basemap: basemap.name});\n    //change the map style\n    this.changeMapStyle(MAPBOX_STYLE_PREFIX + basemap.id).then((evt) => {\n      //add the marxan spatial layers - if this is the initial load the tileset will be undefined\n      if (this.state.tileset) {\n        this.addSpatialLayers(this.state.tileset);\n        //poll the server to see if results are available for this project - if there are these will be loaded\n        if (getResults) this.getResults(this.state.owner, this.state.project);\n      }\n    });\n  }\n\n  //changes the maps style\n  changeMapStyle(url){\n    return new Promise((resolve, reject) => {\n      if (!this.map) {\n        this.createMap(url);\n      }else{\n        //request the style\n        this.map.setStyle(url);\n      }\n      this.map.on('style.load', (evt) => {\n        resolve(\"Map style loaded\");\n      });\n    });\n  }\n  \n  //called when the planning unit layer has changed, i.e. the project has changed\n  changeTileset(tilesetid) {\n    this.getMetadata(tilesetid).then((response) => {\n      this.spatialLayerChanged(response, true);\n    }).catch((error) => {\n      this.setSnackBar(error);\n    });\n  }\n\n  //gets all of the metadata for the tileset\n  getMetadata(tilesetId) {\n    return new Promise((resolve, reject) => {\n      fetch(\"https://api.mapbox.com/v4/\" + tilesetId + \".json?secure&access_token=\" + this.state.userData.MAPBOXACCESSTOKEN)\n      .then(response => response.json())\n      .then((response2) => {\n        if ((response2.message != null) && (response2.message.indexOf('does not exist') > 0)){\n          reject(\"The tileset '\" + tilesetId + \"' does not exist on Mapbox.\");\n        }else{\n          resolve(response2);\n        }\n      })\n      .catch((error) => {\n        reject(error);\n      });\n    });\n  }\n\n  spatialLayerChanged(tileset, zoomToBounds) {\n    //remove the results layer, planning unit layer and wdpa layers\n    this.removeSpatialLayers();\n    //add the results layer, planning unit layer and wdpa layers\n    this.addSpatialLayers(tileset);\n    //zoom to the layers extent\n    if (tileset.bounds != null) this.zoomToBounds(tileset.bounds);\n    //set the state\n    this.setState({ tileset: tileset });\n    //filter the wdpa vector tiles as the map doesn't respond to state changes\n    this.filterWdpaByIucnCategory(this.state.metadata.IUCN_CATEGORY);\n  }\n\n  removeSpatialLayers() {\n    let layers = this.map.getStyle().layers;\n    //get the dynamically added layers\n    let dynamicLayers = layers.filter((item) => {\n      return ((item.source === PLANNING_UNIT_SOURCE_NAME)||(item.source === WDPA_SOURCE_NAME));\n    });\n    //remove them from the map\n    dynamicLayers.forEach((item) => {\n      this.map.removeLayer(item.id);\n    });\n    //remove the sources if present\n    if (this.map.getSource(PLANNING_UNIT_SOURCE_NAME) !== undefined) this.map.removeSource(PLANNING_UNIT_SOURCE_NAME);\n    if (this.map.getSource(WDPA_SOURCE_NAME) !== undefined) this.map.removeSource(WDPA_SOURCE_NAME);\n  }\n  //adds the results, planning unit, planning unit edit and wdpa layers to the map\n  addSpatialLayers(tileset) {\n    var beforeLayer = (this.state.basemap === \"North Star\" ? \"\" : \"\");\n    //add the source for the planning unit layers\n    this.map.addSource(PLANNING_UNIT_SOURCE_NAME,{\n        'type': \"vector\",\n        'url': \"mapbox://\" + tileset.id\n      }\n    );\n    //add the source for the wdpa\n    this.map.addSource(WDPA_SOURCE_NAME,{\n        \"attribution\": \"IUCN and UNEP-WCMC (2017), The World Database on Protected Areas (WDPA) August 2017, Cambridge, UK: UNEP-WCMC. Available at: <a href='http://www.protectedplanet.net'>www.protectedplanet.net</a>\",\n        \"type\": \"vector\",\n        \"tilejson\": \"2.2.0\",\n        \"maxzoom\": 12,\n        \"tiles\": [\"https://storage.googleapis.com/geeimageserver.appspot.com/vectorTiles/wdpa/tilesets/{z}/{x}/{y}.pbf\"] //TODO UPDATE TO THE NEW WDPA VECTOR TILES\n      }\n    );\n    //add the results layer\n    this.map.addLayer({\n      'id': RESULTS_LAYER_NAME,\n      'type': \"fill\",\n      'source': PLANNING_UNIT_SOURCE_NAME,\n      'source-layer': tileset.name,\n      'paint': {\n        'fill-color': \"rgba(0, 0, 0, 0)\",\n        'fill-outline-color': \"rgba(0, 0, 0, 0)\"\n      }\n    }, beforeLayer);\n    //set the result layer in app state so that we can control the opacity in it\n    this.setState({resultsLayer: this.map.getLayer(RESULTS_LAYER_NAME)});\n    //add the planning unit layer \n    this.map.addLayer({\n      'id': PU_LAYER_NAME,\n      'type': \"fill\",\n      'source': PLANNING_UNIT_SOURCE_NAME,\n      \"layout\": {\n        \"visibility\": \"none\"\n      },\n      'source-layer': tileset.name,\n      'paint': {\n        'fill-color': \"rgba(0, 0, 0, 0)\",\n        'fill-outline-color': \"rgba(150, 150, 150, \" + PU_LAYER_OPACITY + \")\"\n      }\n    }, beforeLayer);\n    //add the planning units manual edit layer - this layer shows which individual planning units have had their status changed\n    this.map.addLayer({\n      'id': EDIT_LAYER_NAME,\n      'type': \"line\",\n      'source': PLANNING_UNIT_SOURCE_NAME,\n      \"layout\": {\n        \"visibility\": \"none\"\n      },\n      'source-layer': tileset.name,\n      'paint': {\n        'line-color': \"rgba(150, 150, 150, 0)\",\n        'line-width': EDIT_LAYER_LINE_WIDTH\n      }\n    }, beforeLayer);\n    //add the puvspr planning unit layer - this layer shows the planning unit distribution of a feature from the puvspr file\n    this.map.addLayer({\n      'id': PUVSPR_LAYER_NAME,\n      'type': \"line\",\n      'source': PLANNING_UNIT_SOURCE_NAME,\n      \"layout\": {\n        \"visibility\": \"none\"\n      },\n      'source-layer': tileset.name,\n      'paint': {\n        'line-color': \"rgba(255, 255, 255, 1)\",\n        'line-width': PUVSPR_LAYER_LINE_WIDTH\n      }\n    }, beforeLayer);\n    //add the wdpa layer\n    this.map.addLayer({\n      \"id\": WDPA_LAYER_NAME,\n      \"type\": \"fill\",\n      \"source\": WDPA_SOURCE_NAME,\n      \"source-layer\": \"wdpa\",\n      \"layout\": {\n        \"visibility\": \"visible\"\n      },\n      \"filter\": [\"==\", \"WDPAID\", -1],\n      \"paint\": {\n        \"fill-color\": {\n          \"type\": \"categorical\",\n          \"property\": \"MARINE\",\n          \"stops\": [\n            [\"0\", \"rgba(99,148,69, \" + this.state.wdpa_layer_opacity + \")\"],\n            [\"1\", \"rgba(63,127,191, \" + this.state.wdpa_layer_opacity + \")\"],\n            [\"2\", \"rgba(63,127,191, \" + this.state.wdpa_layer_opacity + \")\"]\n          ]\n        },\n        \"fill-outline-color\": {\n          \"type\": \"categorical\",\n          \"property\": \"MARINE\",\n          \"stops\": [\n            [\"0\", \"rgba(99,148,69,\" + this.state.wdpa_layer_opacity + \")\"],\n            [\"1\", \"rgba(63,127,191, \" + this.state.wdpa_layer_opacity + \")\"],\n            [\"2\", \"rgba(63,127,191, \" + this.state.wdpa_layer_opacity + \")\"]\n          ]\n        }\n      }\n    }, beforeLayer);\n    //set the wdpa layer in app state so that we can control the opacity in it\n    this.setState({wdpaLayer: this.map.getLayer(WDPA_LAYER_NAME)});\n  }\n\n  showLayer(id) {\n    if (this.map.getLayer(id)) this.map.setLayoutProperty(id, 'visibility', 'visible');\n  }\n  hideLayer(id) {\n    if (this.map.getLayer(id)) this.map.setLayoutProperty(id, 'visibility', 'none');\n  }\n\n  isLayerVisible(layername){\n    return (this.map.getLayoutProperty(layername, 'visibility') === 'visible');\n  }\n  \n  //changes the layers opacity\n  changeOpacity(layerId, opacity){\n    if (this.map.getLayer(layerId)){\n      this.map.setPaintProperty(layerId, 'fill-opacity', opacity);\n      //set the state\n      if (layerId === RESULTS_LAYER_NAME) this.setState({results_layer_opacity: opacity});\n      if (layerId === WDPA_LAYER_NAME) this.setState({wdpa_layer_opacity: opacity});\n    }\n  }\n\n  zoomToBounds(bounds) {\n    let minLng = (bounds[0] < -180) ? -180 : bounds[0];\n    let minLat = (bounds[1] < -90) ? -90 : bounds[1];\n    let maxLng = (bounds[2] > 180) ? 180 : bounds[2];\n    let maxLat = (bounds[3] > 90) ? 90 : bounds[3];\n    this.map.fitBounds([minLng, minLat, maxLng, maxLat], { padding: { top: 10, bottom: 10, left: 10, right: 10 }, easing: (num) => { return 1; } });\n  }\n\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///ACTIVATION/DEACTIVATION OF TABS\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //fired when the projects tab is selected\n  project_tab_active() {\n    this.setState({ activeTab: \"project\" });\n    this.pu_tab_inactive();\n  }\n\n  //fired when the features tab is selected\n  features_tab_active() {\n    if (this.state.activeTab !== \"features\"){\n      this.setState({ activeTab: \"features\" });\n      //render the sum solution map\n      // this.renderSolution(this.runMarxanResponse.ssoln, true);\n      //hide the planning unit layers\n      this.pu_tab_inactive();\n    }\n  }\n\n  //fired when the planning unit tab is selected\n  pu_tab_active() {\n    this.setState({ activeTab: \"planning_units\" });\n    //set a flag to capture if the outlined planning units layer needs to be reshown when switching back to any other tab\n    this.reinstatePuvsprLayer = this.isLayerVisible(PUVSPR_LAYER_NAME);\n    //hide the outlined planning units layer\n    this.hideLayer(PUVSPR_LAYER_NAME);\n    //show the planning units layer \n    this.showLayer(PU_LAYER_NAME);\n    //change the opacity on the results layer to make it more transparent\n    this.changeOpacity(RESULTS_LAYER_NAME, RESULTS_LAYER_FILL_OPACITY_INACTIVE);\n    //store the values for the result layers opacities\n    this.previousResultsOpacity = this.state.results_layer_opacity;\n    //show the planning units edit layer \n    this.showLayer(EDIT_LAYER_NAME);\n    //render the planning_units_layer_edit layer\n    this.renderPuEditLayer(EDIT_LAYER_NAME);\n  }\n\n  //fired whenever another tab is selected\n  pu_tab_inactive() {\n    //reinstate the outlined planning units layer if needs be\n    if (this.reinstatePuvsprLayer) this.showLayer(PUVSPR_LAYER_NAME);\n    //change the opacity on the results layer to back to what it was\n    this.changeOpacity(RESULTS_LAYER_NAME, (this.previousResultsOpacity) ? this.previousResultsOpacity : RESULTS_LAYER_FILL_OPACITY_ACTIVE);\n    //hide the planning units layer \n    this.hideLayer(PU_LAYER_NAME);\n    //hide the planning units edit layer \n    this.hideLayer(EDIT_LAYER_NAME);\n  }\n\n  //fired when the legend tab is selected\n  legend_tab_active() {\n    this.setState({activeResultsTab: \"legend\" });\n  }\n\n  //fired when the solutions tab is selected\n  solutions_tab_active() {\n    this.setState({activeResultsTab: \"solutions\" });\n  }\n\n  //fired when the log tab is selected\n  log_tab_active() {\n    this.setState({activeResultsTab: \"log\" });\n  }\n\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///PLANNING UNIT WORKFLOW AND FUNCTIONS\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  startPuEditSession() {\n    //set the state\n    this.setState({puEditing: true});\n    //set the cursor to a crosshair\n    this.map.getCanvas().style.cursor = \"crosshair\";\n    //add the left mouse click event to the planning unit layer\n    this.onClickRef = this.moveStatusUp.bind(this); //using bind creates a new function instance so we need to get a reference to that to be able to remove it later\n    this.map.on(\"click\", PU_LAYER_NAME, this.onClickRef); \n    //add the mouse right click event to the planning unit layer \n    this.onContextMenu = this.resetStatus.bind(this); //using bind creates a new function instance so we need to get a reference to that to be able to remove it later\n    this.map.on(\"contextmenu\", PU_LAYER_NAME, this.onContextMenu); \n  }\n\n  stopPuEditSession() {\n    //set the state\n    this.setState({puEditing: false});\n    //reset the cursor\n    this.map.getCanvas().style.cursor = \"pointer\";\n    //remove the mouse left click event\n    this.map.off(\"click\", PU_LAYER_NAME, this.onClickRef);\n    //remove the mouse right click event\n    this.map.off(\"contextmenu\", PU_LAYER_NAME, this.onContextMenu);\n    //update the pu.dat file\n    this.updatePuDatFile();\n  }\n\n  //clears all of the manual edits from the pu edit layer (except the protected area units)\n  clearManualEdits(){\n    //clear all the planning unit statuses\n      this.setState({ planning_units: [] }, () => {\n        //get the puids for the current iucn category\n        let puids = this.getPuidsFromIucnCategory(this.state.metadata.IUCN_CATEGORY);\n        //update the planning units\n        this.updatePlanningUnits([], puids);\n      });\n  }\n  \n  //sends a list of puids that should be excluded from the run to upddate the pu.dat file\n  updatePuDatFile() {\n    //initialise the form data\n    let formData = new FormData();\n    //add the current user\n    formData.append(\"user\", this.state.owner);\n    //add the current project\n    formData.append(\"project\", this.state.project);\n    //add the planning unit manual exceptions\n    if (this.state.planning_units.length > 0) {\n      this.state.planning_units.forEach((item) => {\n        //get the name of the status parameter\n        let param_name = \"status\" + item[0];\n        //add the planning units\n        formData.append(param_name, item[1]);\n      });\n    }\n    //post to the server\n    this._post(\"updatePUFile\", formData).then((response) => {\n      //do something\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //fired when the user left clicks on a planning unit to move its status up\n  moveStatusUp(e) {\n    this.changeStatus(e, \"up\");\n  }\n\n  //fired when the user left clicks on a planning unit to reset its status \n  resetStatus(e) {\n    this.changeStatus(e, \"reset\");\n  }\n\n  changeStatus(e, direction) {\n    //get the feature that the user has clicked \n    var features = this.map.queryRenderedFeatures(e.point, { layers: [PU_LAYER_NAME] });\n    //get the featureid\n    if (features.length > 0) {\n      //get the puid\n      let puid = features[0].properties.puid;\n      //get its current status \n      let status = this.getStatusLevel(puid);\n      //get the next status level\n      let next_status = this.getNextStatusLevel(status, direction);\n      //copy the current planning unit statuses \n      let statuses = this.state.planning_units;\n      //if the planning unit is not at level 0 (in which case it will not be in the planning_units state) - then remove it from the puids array for that status\n      if (status !== 0) this.removePuidFromArray(statuses, status, puid);\n      //add it to the new status array\n      if (next_status !== 0) this.addPuidToArray(statuses, next_status, puid);\n      //set the state\n      this.setState({ planning_units: statuses });\n      //re-render the planning unit edit layer\n      this.renderPuEditLayer();\n    }\n  }\n\n  getStatusLevel(puid) {\n    //iterate through the planning unit statuses to see which status the clicked planning unit belongs to, i.e. 1,2 or 3\n    let status_level = 0; //default level as the getPlanningUnits REST call only returns the planning units with non-default values\n    PLANNING_UNIT_STATUSES.forEach((item) => {\n      let planning_units = this.getPlanningUnitsByStatus(item);\n      if (planning_units.indexOf(puid) > -1) {\n        status_level = item;\n      }\n    });\n    return status_level;\n  }\n\n  //gets the array index position for the passed status in the planning_units state\n  getStatusPosition(status) {\n    let position = -1;\n    this.state.planning_units.forEach((item, index) => {\n      if (item[0] === status) position = index;\n    });\n    return position;\n  }\n\n  //returns the planning units with a particular status, e.g. 1,2,3 \n  getPlanningUnitsByStatus(status) {\n    //get the position of the status items in the this.state.planning_units\n    let position = this.getStatusPosition(status);\n    //get the array of planning units\n    let returnValue = (position > -1) ? this.state.planning_units[position][1] : [];\n    return returnValue;\n  }\n  \n  //returns the next status level for a planning unit depending on the direction\n  getNextStatusLevel(status, direction) {\n    let nextStatus;\n    switch (status) {\n      case 0:\n        nextStatus = (direction === \"up\") ? 3 : 0;\n        break;\n      case 1:\n        nextStatus = (direction === \"up\") ? 0 : 0;\n        break;\n      case 2:\n        nextStatus = (direction === \"up\") ? 1 : 0;\n        break;\n      case 3:\n        nextStatus = (direction === \"up\") ? 2 : 0;\n        break;\n      default:\n        break;\n    }\n    return nextStatus;\n  }\n\n  //removes in individual puid value from an array of puid statuses \n  removePuidFromArray(statuses, status, puid) {\n    return this.removePuidsFromArray(statuses, status, [puid]);\n  }\n\n  addPuidToArray(statuses, status, puid) {\n    return this.appPuidsToPlanningUnits(statuses, status, [puid]);\n  }\n\n  //adds all the passed puids to the planning_units state\n  appPuidsToPlanningUnits(statuses, status, puids) {\n    //get the position of the status items in the this.state.planning_units, i.e. the index\n    let position = this.getStatusPosition(status);\n    if (position === -1) {\n      //create a new status and empty puid array\n      statuses.push([status, []]);\n      position = statuses.length - 1;\n    }\n    //add the puids to the puid array ensuring that they are unique\n    statuses[position][1] = Array.from(new Set(statuses[position][1].concat(puids)));\n    return statuses;\n  }\n\n  //removes all the passed puids from the planning_units state\n  removePuidsFromArray(statuses, status, puids) {\n    //get the position of the status items in the this.state.planning_units\n    let position = this.getStatusPosition(status);\n    if (position > -1) {\n      let puid_array = statuses[position][1];\n      let new_array = puid_array.filter((item) => {\n        return puids.indexOf(item) < 0;\n      }); \n      statuses[position][1] = new_array;\n      //if there are no more items in the puid array then remove it\n      if (new_array.length === 0) statuses.splice(position, 1);\n    }\n    return statuses;\n  }\n\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //ROUTINES FOR CREATING A NEW PROJECT AND PLANNING UNIT GRIDS\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //creates a new planning grid unit on the server using the passed parameters\n  createNewPlanningUnitGrid(iso3, domain, areakm2, shape) {\n    return new Promise((resolve, reject) => {\n      this._get(\"createPlanningUnitGrid?iso3=\" + iso3 + \"&domain=\" + domain + \"&areakm2=\" + areakm2 + \"&shape=\" + shape).then((response) => {\n        //feedback\n        this.setSnackBar(\"Planning grid: '\" + response.planning_unit_grid.split(\",\")[1].replace(/\"/gm, '').replace(\")\", \"\") + \"' created\"); //response is (pu_cok_terrestrial_hexagon_10,\"Cook Islands Terrestrial 10Km2 hexagon grid\")\n        //upload this data to mapbox for visualisation\n        this.uploadToMapBox(response.planning_unit_grid.split(\",\")[0].replace(/\"/gm, '').replace(\"(\", \"\"), \"planningunits\").then((response) => {\n          resolve(\"New planning grid created\");\n        });\n        //update the planning unit items\n        this.getPlanningUnitGrids();\n      }).catch((error) => {\n        //do something\n        reject(error);\n      });\n    });\n  }\n\n  //deletes a planning unit grid\n  deletePlanningUnitGrid(feature_class_name, silent = false){\n    this._get(\"deletePlanningUnitGrid?planning_grid_name=\" + feature_class_name).then((response) => {\n      //update the planning unit grids\n      this.getPlanningUnitGrids();\n      this.setSnackBar(response.info, silent);  \n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //imports a zipped shapefile as a new planning grid\n  importPlanningUnitGrid(zipFilename, alias, description){\n    return new Promise((resolve, reject) => {\n      this.importZippedShapefileAsPu(zipFilename, alias, description).then((response) => {\n        this.setSnackBar(\"Planning grid imported. Uploading to Mapbox\"); \n        //start polling to see when the upload is done\n        this.pollMapbox(response.uploadId).then((response) => {\n          // close the dialog\n          this.closeImportPlanningGridDialog();\n          //update the planning unit items\n          this.getPlanningUnitGrids();\n          resolve(\"Planning grid imported\");\n        });\n      }).catch((error) => { //importZippedShapefileAsPu error\n        this.deletePlanningUnitGrid(alias, true);\n        reject(error);\n      });\n    });\n  }\n  \n  getCountries() {\n    this._get(\"getCountries\").then((response) => {\n      this.setState({ countries: response.records });\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //uploads the named feature class to mapbox on the server\n  uploadToMapBox(feature_class_name, mapbox_layer_name) {\n    return new Promise((resolve, reject) => {\n      this._get(\"uploadTilesetToMapBox?feature_class_name=\" + feature_class_name + \"&mapbox_layer_name=\" + mapbox_layer_name, 300000).then((response) => {\n        this.setSnackBar(\"Uploading to MapBox\");\n        this.setState({loading: true});\n        //poll mapbox to see when the upload has finished\n        this.pollMapbox(response.uploadid).then((response2) => {\n          resolve(\"Uploaded to Mapbox\");\n        });\n      }).catch((error) => {\n        reject(error);\n      });\n    });\n  }\n\n  //polls mapbox to see when an upload has finished - returns as promise\n  pollMapbox(uploadid){\n    this.setState({loading: true});\n    return new Promise((resolve, reject) => {\n      this.timer = setInterval(() => {\n        fetch(\"https://api.mapbox.com/uploads/v1/\" + MAPBOX_USER + \"/\" + uploadid + \"?access_token=\" + mb_tk)\n          .then(response => response.json())\n          .then((response) => {\n            if (response.complete){\n              //clear the timer\n              clearInterval(this.timer);\n              this.timer = null;\n              //reset state\n              this.setSnackBar(\"Uploaded to MapBox\");\n              this.setState({loading: false });\n              resolve(\"Uploaded to Mapbox\");\n            }\n          })\n          .catch((error) => {\n            this.setState({loading: false });\n            reject(error);\n          });\n      }, 3000);\n    });\n  }\n  \n  openNewFeatureDialog(newFeatureSource) {\n    this.setState({ NewFeatureDialogOpen: true, newFeatureSource: newFeatureSource});\n  }\n  closeNewFeatureDialog() {\n    this.setState({ NewFeatureDialogOpen: false });\n    //finalise digitising if necessary\n    if (this.state.newFeatureSource === \"digitising\") this.finaliseDigitising();\n  }\n  openFeaturesDialog(showClearSelectAll) {\n    this.setState({ featuresDialogOpen: true, addingRemovingFeatures: showClearSelectAll});\n    if (showClearSelectAll) this.getSelectedFeatureIds();\n  }\n  closeFeaturesDialog() {\n    this.setState({ featuresDialogOpen: false, featuresDialogPopupOpen: false });\n  }\n  openPlanningGridsDialog(){\n    this.setState({planningGridsDialogOpen: true});\n  }\n  closePlanningGridsDialog(){\n    this.setState({planningGridsDialogOpen: false});\n  }\n  showNewFeaturesDialogPopover(){\n    this.setState({ featuresDialogPopupOpen: true });\n  }\n  closePopover(){\n    this.setState({ featuresDialogPopupOpen: false });\n  }\n  openCostsDialog() {\n    this.setState({ CostsDialogOpen: true });\n  }\n  closeCostsDialog() {\n    this.setState({ CostsDialogOpen: false });\n  }\n  setNewFeatureDatasetName(name) {\n    this.setState({ featureDatasetName: name });\n  }\n  setNewFeatureDatasetDescription(description) {\n    this.setState({ featureDatasetDescription: description });\n  }\n  setNewFeatureDatasetFilename(filename) {\n    this.setState({ featureDatasetFilename: filename });\n  }\n  //used by the import wizard to import a users zipped shapefile as the planning units\n  importZippedShapefileAsPu(zipname, alias, description) {\n    //the zipped shapefile has been uploaded to the MARXAN folder - it will be imported to PostGIS and a record will be entered in the metadata_planning_units table\n    return this._get(\"importPlanningUnitGrid?filename=\" + zipname + \"&name=\" + alias + \"&description=\" + description);\n  }\n\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // MANAGING INTEREST FEATURES SECTION\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //updates the properties of a feature and then updates the features state\n  updateFeature(feature, newProps){\n    let features = this.state.allFeatures;\n    //get the position of the feature \n    var index = features.findIndex((element) => { return element.id === feature.id; });\n    if (index!==-1) {\n      Object.assign(features[index], newProps);\n      //update allFeatures and projectFeatures with the new value\n      this.setFeaturesState(features);\n    }\n  }\n\n  //gets the ids of the selected features\n  getSelectedFeatureIds(){\n    let ids = [];\n    this.state.allFeatures.forEach((feature) => {\n      if (feature.selected) ids.push(feature.id);\n    });\n    this.setState({selectedFeatureIds: ids});\n  }\n\n  //when a user clicks a feature in the FeaturesDialog\n  clickFeature(feature){\n    let ids = this.state.selectedFeatureIds;\n    if (ids.includes(feature.id)){\n      //remove the feature if it is already selected\n      this.removeFeature(feature);\n    }else{\n      //add the feautre to the selected feature array\n      this.addFeature(feature);\n    }\n  }\n  \n  //removes a feature from the selectedFeatureIds array\n  removeFeature(feature){\n    let ids = this.state.selectedFeatureIds;\n    //remove the feature  - this requires a callback on setState otherwise the state is not updated before updateSelectedFeatures is called\n    ids = ids.filter((value, index, arr) => {return value !== feature.id});\n    return new Promise((resolve, reject) => {\n      this.setState({ selectedFeatureIds: ids }, () => {\n        resolve(\"Feature removed\");  \n      });\n    });\n  }\n  \n  //adds a feature to the selectedFeatureIds array\n  addFeature(feature){\n    let ids = this.state.selectedFeatureIds;\n    //add the feautre to the selected feature array\n    ids.push(feature.id);\n    this.setState({ selectedFeatureIds: ids });\n  }\n  \n  //starts a digitising session\n  initialiseDigitising(){\n    //show the digitising controls if they are not already present, mapbox-gl-draw-cold and mapbox-gl-draw-hot\n    if (!this.map.getSource('mapbox-gl-draw-cold')) this.map.addControl(this.mapboxDrawControls);\n  }\n  \n  //finalises the digitising\n  finaliseDigitising(){\n    //hide the drawing controls\n    this.map.removeControl(this.mapboxDrawControls);\n  }\n  //called when the user has drawn a polygon on screen\n  polygonDrawn(evt){\n    //open the new feature dialog for the metadata\n    this.openNewFeatureDialog(\"digitising\");\n    //save the feature in a local variable\n    this.digitisedFeatures = evt.features;\n  }\n  \n  //selects all the features\n  selectAllFeatures() {\n    let ids = [];\n    this.state.allFeatures.forEach((feature) => {\n      ids.push(feature.id);\n    });\n    this.setState({selectedFeatureIds: ids});\n  }\n\n  //clears all the Conservation features\n  clearAllFeatures() {\n    this.setState({selectedFeatureIds: []});\n  }\n\n  //updates the allFeatures to set the various properties based on which features have been selected in the FeaturesDialog\n  updateSelectedFeatures(){\n    let allFeatures = this.state.allFeatures;\n    allFeatures.forEach((feature) => {\n      if (this.state.selectedFeatureIds.includes(feature.id)) {\n        Object.assign(feature, {selected: true});\n      }else{\n        if (this.state.metadata.OLDVERSION){\n          //for imported projects we cannot preprocess them any longer as we dont have access to the features spatial data - therefore dont set preprocessed to false or any of the other stats fields\n          Object.assign(feature, {selected: false});\n        }else{\n          Object.assign(feature, {selected: false, preprocessed: false, protected_area: -1, pu_area: -1, pu_count: -1, target_area: -1, occurs_in_planning_grid: false});\n        }\n        //remove the feature layer if it is loaded\n        if (feature.feature_layer_loaded) this.toggleFeatureLayer(feature);\n        //remove the planning unit layer if it is loaded\n        if (feature.id === this.puvsprLayerId) this.toggleFeaturePuvsprLayer(feature);\n      }\n    });\n    this.setFeaturesState(allFeatures);\n    //persist the changes to the server\n    if (this.state.userData.ROLE !== \"ReadOnly\") this.updateSpecFile(); \n    //close the dialog\n    this.closeFeaturesDialog();\n  }\n\n  setFeaturesState(newFeatures){\n    //update allFeatures and projectFeatures with the new value\n    this.setState({ allFeatures: newFeatures, projectFeatures: newFeatures.filter((item) => { return item.selected }) });\n  }\n  \n  //unselects a single Conservation feature\n  unselectItem(feature) {\n    //remove it from the selectedFeatureIds array\n    this.removeFeature(feature).then(() => {\n      //refresh the selected features\n      this.updateSelectedFeatures();\n    });\n  }\n\n  createNewFeature() {\n    //see the source of the new feature\n    switch (this.state.newFeatureSource) {\n      case 'import':\n        this.createNewFeatureFromImport();\n        break;\n      case 'digitising':\n        this.createNewFeatureFromDigitising();\n        break;\n      default:\n        // code\n    }\n  }\n\n  //create the new feature from the already uploaded zipped shapefile\n  createNewFeatureFromImport(){\n    this._get(\"importFeature?filename=\" + this.state.featureDatasetFilename + \"&name=\" + this.state.featureDatasetName + \"&description=\" + this.state.featureDatasetDescription).then((response) => {\n      if (response.id){\n        this.setSnackBar(\"Feature imported. Uploading to Mapbox\"); \n        //start polling to see when the upload is done\n        this.pollMapbox(response.uploadId).then(() => {\n          this.newFeatureCreated(response);\n        });\n      }\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //create the new feature from the feature that has been digitised on the map\n  createNewFeatureFromDigitising(){\n    //post the geometry to the server with the metadata\n    let formData = new FormData();\n    formData.append('name', this.state.featureDatasetName);\n    formData.append('description', this.state.featureDatasetDescription);\n    //convert the coordinates into a linestring to create the polygon in postgis\n    let coords = this.digitisedFeatures[0].geometry.coordinates[0].map((coordinate) => {\n      return coordinate[0] + \" \" + coordinate[1];\n    }).join(\",\");\n    formData.append('linestring', \"Linestring(\" + coords + \")\");\n    this._post(\"createFeatureFromLinestring\", formData).then((response) => {\n      if (response.id) this.newFeatureCreated(response);\n    }).catch((error) => {\n      //do something\n    });\n  }\n  \n  //gets the new feature information and updates the state\n  newFeatureCreated(response){\n    this.getInterestFeature(response.id);\n    //ui response\n    this.setSnackBar(response.info);\n    //close the dialog\n    this.closeNewFeatureDialog();\n    //reset the state\n    this.resetNewConservationFeature();\n  }\n  \n  resetNewConservationFeature() {\n    this.setState({ featureDatasetName: '', featureDatasetDescription: '', featureDatasetFilename: '' });\n  }\n\n  getInterestFeature(id) {\n    //load the interest feature from the marxan web database\n    this._get(\"getFeature?oid=\" + id + \"&format=json\").then((response) => {\n      //add the required attributes to use it in Marxan Web\n      this.addFeatureAttributes(response.data[0]);\n      //update the allFeatures array\n      this.addNewFeature(response.data[0]);\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //adds a new feature to the allFeatures array\n  addNewFeature(feature){\n    //update the allFeatures array\n    var featuresCopy = this.state.allFeatures;\n    featuresCopy.push(feature);\n    this.setState({allFeatures: featuresCopy});\n  }\n  \n  deleteFeature(feature) {\n    this._get(\"deleteFeature?feature_name=\" + feature.feature_class_name).then((response) => {\n      this.setSnackBar(\"Feature deleted\");\n      //remove it from the current project if necessary\n      this.removeFeature(feature);\n      //remove it from the allFeatures array\n      this.removeFeatureFromAllFeatures(feature);\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //removes a feature from the allFeatures array\n  removeFeatureFromAllFeatures(feature){\n    let featuresCopy = this.state.allFeatures;\n    //remove the feature \n    featuresCopy = featuresCopy.filter((item) => {return item.id !== feature.id});\n    //update the allFeatures state   \n    this.setState({allFeatures: featuresCopy});\n  }\n  \n  //gets all the features \n  getAllFeatures(){\n    return new Promise((resolve, reject) => {\n      this._get(\"getAllSpeciesData\").then((response) => {\n        //set the allfeatures state\n        this.setState({allFeatures: response.data});\n        resolve(\"Features returned\");\n      }).catch((error) => {\n        //do something\n      });\n    });\n  }\n\n  openFeatureMenu(evt, feature){\n    //set the menu text\n    let puvsprLayerText = this.getMenuTextForPuvsprLayer(feature);\n    this.setState({featureMenuOpen: true, currentFeature: feature, menuAnchor: evt.currentTarget, puvsprLayerText: puvsprLayerText});\n  }\n  closeFeatureMenu(evt){\n    this.setState({featureMenuOpen: false});\n  }\n\n  //get feature menu text for puvspr layer\n  getMenuTextForPuvsprLayer(feature){\n    //see if the layer that shows the planning units for a feature is currently visible on the map\n    let visible = this.isLayerVisible(PUVSPR_LAYER_NAME);\n    //see if the feature layer is different from the one that is already being shown on the map\n    let newFeature = ((feature.id !== this.puvsprLayerId) || (this.puvsprLayerId === undefined));\n    //really confusing line!\n    let puvsprLayerText = (visible) ? (newFeature) ? (feature.preprocessed) ? SHOW_PUVSPR_LAYER_TEXT : HIDE_PUVSPR_LAYER_TEXT : (feature.preprocessed) ? HIDE_PUVSPR_LAYER_TEXT : SHOW_PUVSPR_LAYER_TEXT : SHOW_PUVSPR_LAYER_TEXT;\n    return puvsprLayerText;\n  }\n  \n  //hides the feature layer\n  hideFeatureLayer(){\n    this.state.projectFeatures.forEach((feature) => {\n      if (feature.feature_layer_loaded) this.toggleFeatureLayer(feature);\n    });\n  }\n  \n  //toggles the feature layer on the map\n  toggleFeatureLayer(feature){\n    // this.closeFeatureMenu();\n    let layerName = feature.tilesetid.split(\".\")[1];\n    if (this.map.getLayer(layerName)){\n      this.map.removeLayer(layerName);\n      this.map.removeSource(layerName);\n      this.updateFeature(feature, {feature_layer_loaded: false});\n    }else{\n      this.map.addLayer({\n        'id': layerName,\n        'type': \"fill\",\n        'source': {\n          'type': \"vector\",\n          'url': \"mapbox://\" + feature.tilesetid\n        },\n        'source-layer': layerName,\n        'paint': {\n          'fill-color': \"rgba(255, 0, 0, 1)\",\n          'fill-outline-color': \"rgba(255, 0, 0, 1)\"\n        }\n      }, PUVSPR_LAYER_NAME); //add it before the layer that shows the planning unit outlines for the feature\n      this.updateFeature(feature, {feature_layer_loaded: true});\n    }\n  }\n  \n  toggleFeaturePuvsprLayer(feature){\n    // this.closeFeatureMenu();\n    if (this.state.puvsprLayerText === HIDE_PUVSPR_LAYER_TEXT){\n      this.hideLayer(PUVSPR_LAYER_NAME);\n      //set the text\n      this.setState({puvsprLayerText: SHOW_PUVSPR_LAYER_TEXT});\n      //reset the id of the currently shown pu layer\n      this.puvsprLayerId = -1;\n    }else{\n      //set the text\n      this.setState({puvsprLayerText: HIDE_PUVSPR_LAYER_TEXT});\n      //get the planning units where the feature occurs from the puvspr.dat file\n      this.getFeaturePlanningUnits(feature.id);\n    }\n  }\n\n  //get the planning unit ids where the feature occurs\n  getFeaturePlanningUnits(oid){\n    this._get(\"getFeaturePlanningUnits?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&oid=\" + oid).then((response) => {\n      //update the paint property for the layer\n      var line_color_expression = this.initialiseFillColorExpression(\"puid\");\n      response.data.forEach((puid) => {\n          line_color_expression.push(puid, PUVSPR_LAYER_OUTLINE_COLOR); \n      });\n      // Last value is the default, used where there is no data\n      line_color_expression.push(\"rgba(0,0,0,0)\");\n      this.map.setPaintProperty(PUVSPR_LAYER_NAME, \"line-color\", line_color_expression);\n      //show the layer\n      this.showLayer(PUVSPR_LAYER_NAME);\n      //set the puvsprLayerId value - this is used to see which puvspr layer is currently being shown on the map to be able to set the text for the menu item\n      this.puvsprLayerId = oid;\n    }).catch((error) => {\n      //do something\n    });\n  }\n\n  //removes the current feature from the project\n  removeFromProject(feature){\n    this.closeFeatureMenu();\n    this.unselectItem(feature);\n  }\n  \n  //zooms to a features extent\n  zoomToFeature(feature){\n    this.closeFeatureMenu();\n    //transform from BOX(-174.173506487 -18.788241791,-173.86528589 -18.5190063499999) to [[-73.9876, 40.7661], [-73.9397, 40.8002]]\n    let points = feature.extent.substr(4, feature.extent.length-5).replace(/ /g,\",\").split(\",\");\n    //get the points as numbers\n    let nums = points.map((item) => {return Number(item)});\n    //zoom to the feature\n    this.map.fitBounds([[nums[0], nums[1]],[nums[2], nums[3]]], { padding: 100});\n  }\n  \n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// DIALOG OPENING/CLOSING FUNCTIONS\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  showUserMenu(e) {\n    e.preventDefault();\n    this.setState({ userMenuOpen: true, menuAnchor: e.currentTarget });\n  }\n  hideUserMenu(e) {\n    this.setState({ userMenuOpen: false });\n  }\n  showHelpMenu(e) {\n    e.preventDefault();\n    this.setState({ helpMenuOpen: true, menuAnchor: e.currentTarget });\n  }\n  hideHelpMenu(e) {\n    this.setState({ helpMenuOpen: false });\n  }\n  openRegisterDialog() {\n    this.setState({ registerDialogOpen: true });\n  }\n  closeRegisterDialog() {\n    this.setState({ registerDialogOpen: false });\n  }\n  openResendPasswordDialog() {\n    this.setState({ resendPasswordDialogOpen: true });\n  }\n  closeResendPasswordDialog() {\n    this.setState({ resendPasswordDialogOpen: false });\n  }\n  openProjectsDialog() {\n    this.setState({ projectsDialogOpen: true });\n    this.getProjects();\n  }\n  closeProjectsDialog() {\n    this.setState({ projectsDialogOpen: false });\n  }\n  openNewProjectDialog() {\n    this.setState({ newProjectDialogOpen: true });\n  }\n  closeNewProjectDialog() {\n    this.setState({ newProjectDialogOpen: false });\n  }\n  openNewPlanningGridDialog() {\n    this.getCountries();\n    this.setState({ NewPlanningGridDialogOpen: true });\n  }\n  closeNewPlanningGridDialog() {\n    this.setState({ NewPlanningGridDialogOpen: false });\n  }\n  openImportPlanningGridDialog(){\n    this.setState({ importPlanningGridDialogOpen: true });\n  }\n  closeImportPlanningGridDialog(){\n    this.setState({ importPlanningGridDialogOpen: false });\n  }\n  openInfoDialog() {\n      this.setState({ openInfoDialogOpen: true, featureMenuOpen: false });\n  }\n  closeInfoDialog() {\n      this.setState({ openInfoDialogOpen: false });\n  }\n\n  openOptionsDialog() {\n    this.setState({ optionsDialogOpen: true });\n    this.hideUserMenu();\n  }\n\n  closeOptionsDialog() {\n    this.setState({ optionsDialogOpen: false });\n  }\n\n  openProfileDialog() {\n    this.setState({ profileDialogOpen: true });\n    this.hideUserMenu();\n  }\n  closeProfileDialog() {\n    this.setState({ profileDialogOpen: false });\n  }\n  \n  openAboutDialog(){\n    this.setState({ aboutDialogOpen: true });\n    this.hideHelpMenu();\n  }\n\n  closeAboutDialog() {\n    this.setState({ aboutDialogOpen: false });\n  }\n  \n  showRunSettingsDialog() {\n    this.setState({ settingsDialogOpen: true });\n  }\n  \n  closeRunSettingsDialog() {\n    this.setState({ settingsDialogOpen: false });\n  }\n\n  openClassificationDialog() {\n    this.setState({ classificationDialogOpen: true });\n  }\n  closeClassificationDialog() {\n    this.setState({ classificationDialogOpen: false });\n  }\n\n  openImportDialog() {\n    this.setState({ importDialogOpen: true });\n  }\n  closeImportDialog() {\n    this.setState({ importDialogOpen: false });\n  }\n  openUsersDialog() {\n    this.getUsers();\n    this.setState({ usersDialogOpen: true });\n  }\n  closeUsersDialog() {\n    this.setState({ usersDialogOpen: false });\n  }\n\n  hideResults() {\n    this.setState({ resultsPanelOpen: false });\n  }\n  showResults() {\n    this.setState({ resultsPanelOpen: true });\n  }\n  \n  toggleInfoPanel() {\n    this.setState({ infoPanelOpen: !this.state.infoPanelOpen });\n  }\n  toggleResultsPanel() {\n    this.setState({ resultsPanelOpen: !this.state.resultsPanelOpen });\n  }\n  \n  openRunLogDialog(){\n    this.getRunLogs();\n    this.setState({runLogDialogOpen: true});\n  }\n  closeRunLogDialog(){\n    this.setState({runLogDialogOpen: false});\n  }\n  openServerDetailsDialog(){\n    this.setState({serverDetailsDialogOpen: true});\n    this.hideHelpMenu();\n  }\n  closeServerDetailsDialog(){\n    this.setState({serverDetailsDialogOpen: false});\n  }\n  openChangePasswordDialog(){\n    this.hideUserMenu();\n    this.setState({changePasswordDialogOpen: true});\n  }\n  closeChangePasswordDialog(){\n    this.setState({changePasswordDialogOpen: false});\n  }\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// PROTECTED AREAS LAYERS STUFF\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  changeIucnCategory(iucnCategory) {\n    //update the state\n    let _metadata = this.state.metadata;\n    _metadata.IUCN_CATEGORY = iucnCategory;\n    this.setState({ metadata: _metadata });\n    //update the input.dat file\n    this.updateProjectParameter(\"IUCN_CATEGORY\", iucnCategory);\n    //filter the wdpa vector tiles\n    this.filterWdpaByIucnCategory(iucnCategory);\n    //render the wdpa intersections on the grid\n    this.renderPAGridIntersections(iucnCategory);\n  }\n\n  filterWdpaByIucnCategory(iucnCategory) {\n    //get the individual iucn categories\n    let iucnCategories = this.getIndividualIucnCategories(iucnCategory);\n    //TODO FILTER THE WDPA CLIENT SIDE BY INTERSECTING IT WITH THE PLANNING GRID\n    //filter the vector tiles for those iucn categories - and if the planning unit name has an iso3 country code - then use that as well. e.g. pu_ton_marine_hexagon_50 (has iso3 code) or pu_a4402723a92444ff829e9411f07e7 (no iso3 code)\n    let filterExpr = (this.state.metadata.PLANNING_UNIT_NAME.match(/_/g).length> 1) ? ['all', ['in', 'IUCN_CAT'].concat(iucnCategories), ['==', 'PARENT_ISO', this.state.metadata.PLANNING_UNIT_NAME.substr(3, 3).toUpperCase()]] : ['all', ['in', 'IUCN_CAT'].concat(iucnCategories)];\n    this.map.setFilter(WDPA_LAYER_NAME, filterExpr);\n    //turn on/off the protected areas legend\n    (iucnCategory === \"None\") ? this.hidePALegend() : this.showPALegend();\n  }\n\n  getIndividualIucnCategories(iucnCategory) {\n    let retValue = [];\n    switch (iucnCategory) {\n      case 'None':\n        retValue = [''];\n        break;\n      case 'IUCN I-II':\n        retValue = ['Ia', 'Ib', 'II'];\n        break;\n      case 'IUCN I-IV':\n        retValue = ['Ia', 'Ib', 'II', 'III', 'IV'];\n        break;\n      case 'IUCN I-V':\n        retValue = ['Ia', 'Ib', 'II', 'III', 'IV', 'V'];\n        break;\n      case 'IUCN I-VI':\n        retValue = ['Ia', 'Ib', 'II', 'III', 'IV', 'V', 'VI'];\n        break;\n      default:\n    }\n    return retValue;\n  }\n\n  //gets the puids for those protected areas that intersect the planning grid in the passed iucn category\n  getPuidsFromIucnCategory(iucnCategory) {\n    let intersections_by_category = this.getIntersections(iucnCategory);\n    //get all the puids in this iucn category \n    let puids = this.getPuidsFromNormalisedData(intersections_by_category);\n    return puids;\n  }\n\n  //called when the iucn category changes - gets the puids that need to be added/removed, adds/removes them and updates the PuEdit layer\n  async renderPAGridIntersections(iucnCategory) {\n    await this.preprocessProtectedAreas(iucnCategory).then((intersections) => {\n      //get all the puids of the intersecting protected areas in this iucn category \n      let puids = this.getPuidsFromIucnCategory(iucnCategory);\n      //see if any of them will overwrite existing manually edited planning units - these will be in status 1 and 3\n      let manuallyEditedPuids = this.getPlanningUnitsByStatus(1).concat(this.getPlanningUnitsByStatus(3));\n      let clashingPuids = manuallyEditedPuids.filter(value => -1 !== puids.indexOf(value));\n      if (clashingPuids.length > 0){\n        //remove them from the puids\n        puids = puids.filter((item) => !clashingPuids.includes(item));\n        this.setSnackBar(\"Not all protected area cells were added to the map as they would overlap some manual edits.\");\n      }\n      //get all the puids for the existing iucn category - these will come from the previousPuids rather than getPuidsFromIucnCategory as there may have been some clashes and not all of the puids from getPuidsFromIucnCategory may actually be renderered\n      //if the previousPuids are undefined then get them from the projects previousIucnCategory\n      let previousPuids = (this.previousPuids !== undefined) ? this.previousPuids : this.getPuidsFromIucnCategory(this.previousIucnCategory);\n      //set the previously selected puids\n      this.previousPuids = puids;\n      //and previousIucnCategory\n      this.previousIucnCategory = iucnCategory;\n      //rerender\n      this.updatePlanningUnits(previousPuids, puids);\n    }).catch((error) => {\n      this.setSnackBar(error);\n    });\n  }\n\n  //updates the planning units by reconciling the passed arrays of puids\n  updatePlanningUnits(previousPuids, puids){\n    //copy the current planning units state\n    let statuses = this.state.planning_units;\n    //get the new puids that need to be added\n    let newPuids = this.getNewPuids(previousPuids, puids);\n    if (newPuids.length === 0) {\n      //get the puids that need to be removed\n      let oldPuids = this.getNewPuids(puids, previousPuids);\n      this.removePuidsFromArray(statuses, 2, oldPuids);\n    }\n    else {\n      //add all the new protected area intersections into the planning units as status 2\n      this.appPuidsToPlanningUnits(statuses, 2, newPuids);\n    }\n    //update the state\n    this.setState({ planning_units: statuses });\n    //re-render the layer\n    this.renderPuEditLayer();\n    //update the pu.dat file\n    this.updatePuDatFile();\n  }\n  \n  getNewPuids(previousPuids, puids) {\n    return puids.filter((i) => {\n      return previousPuids.indexOf(i) === -1;\n    });\n  }\n\n  //turns on the legend for the protected areas\n  showPALegend(){\n    this.setState({pa_layer_visible:true});\n  }\n  \n  //hides the protected area legend\n  hidePALegend(){\n    this.setState({pa_layer_visible:false});  \n  }\n  preprocessProtectedAreas(iucnCategory) {\n    //have the intersections already been calculated\n    if (this.protected_area_intersections.length>0) {\n      return Promise.resolve(this.protected_area_intersections);\n    }\n    else {\n      //do the intersection on the server\n      return new Promise((resolve, reject) => {\n        //start the logging\n        this.startLogging();\n        //call the websocket \n        this._ws(\"preprocessProtectedAreas?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&planning_grid_name=\" + this.state.metadata.PLANNING_UNIT_NAME, this.wsMessageCallback.bind(this)).then((message) => {\n          //set the local variable\n          this.protected_area_intersections = message.intersections;\n          //return a value to the then() call\n          resolve(message);\n        }).catch((error) => {\n          reject(error);\n        });\n      }); //return\n    }\n  }\n\n  getIntersections(iucnCategory) {\n    //get the individual iucn categories\n    let iucn_categories = this.getIndividualIucnCategories(iucnCategory);\n    //get the planning units that intersect the protected areas with the passed iucn category\n    return this.protected_area_intersections.filter((item) => { return (iucn_categories.indexOf(item[0]) > -1); });\n  }\n\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// BOUNDARY LENGTH MODIFIER AND CLUMPING\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  async preprocessBoundaryLengths(iucnCategory) {\n    if (this.state.files.BOUNDNAME){ //if the bounds.dat file already exists\n      return Promise.resolve();\n    }else{\n      //calculate the boundary lengths on the server\n      return new Promise((resolve, reject) => {\n        //start the logging\n        this.startLogging();\n        //call the websocket \n        this._ws(\"preprocessPlanningUnits?user=\" + this.state.owner + \"&project=\" + this.state.project, this.wsMessageCallback.bind(this)).then((message) => {\n          //update the state\n          var currentFiles = this.state.files;\n          currentFiles.BOUNDNAME = \"bounds.dat\";\n          this.setState({files: currentFiles});\n          //return a value to the then() call\n          resolve(message);\n        }).catch((error) => {\n          reject(error);\n        });\n      }); //return\n    }\n  }\n\n  showClumpingDialog(){\n    //update the map centre and zoom state which is used by the maps in the clumping dialog\n    this.updateMapCentreAndZoom();\n    //when the boundary lengths have been calculated\n    this.preprocessBoundaryLengths().then((intersections) => {\n      //update the spec.dat file with any that have been added or removed or changed target or spf\n      this.updateSpecFile().then((value) => {\n        //when the species file has been updated, update the planning unit file \n        this.updatePuFile();\n        //when the planning unit file has been updated, update the PuVSpr file - this does all the preprocessing using web sockets\n        this.updatePuvsprFile().then((value) => {\n          //show the clumping dialog\n          this.setState({ clumpingDialogOpen: true, clumpingRunning: true });\n          //create the project group and run\n          this.createProjectGroupAndRun();\n        });\n      }).catch((error) => { //updateSpecFile error\n\n      });\n    }).catch((error) => { //preprocessBoundaryLengths error\n      console.log(error);\n    }); \n  }\n\n  hideClumpingDialog(){\n    //delete the project group\n    this.deleteProjects();\n    //reset the paint properties in the clumping dialog\n    this.resetPaintProperties();\n    //return state to normal\n    this.setState({ clumpingDialogOpen: false });\n  }\n\n  //creates a group of 5 projects with UUIDs in the _clumping folder\n  createProjectGroupAndRun(){\n    //clear any exists projects\n    if (this.projects) this.deleteProjects();\n    return new Promise((resolve, reject) => {\n      this._get(\"createProjectGroup?user=\" + this.state.owner + \"&project=\" + this.state.project + \"&copies=5&blmValues=\" + this.state.blmValues.join(\",\")).then((response) => {\n        //set the local variable for the projects\n        this.projects = response.data;\n        //run the projects\n        this.runProjects(response.data);\n        resolve(\"Project group created\");\n      }).catch((error) => {\n        //do something\n        reject(error);\n      });\n    });\n  }\n  \n  //deletes the projects from the _clumping folder\n  deleteProjects(){\n    if (this.projects){\n      var projectNames = this.projects.map((item) => {\n        return item.projectName;\n      });\n      //clear the local variable\n      this.projects = undefined;\n      return new Promise((resolve, reject) => {\n        this._get(\"deleteProjects?projectNames=\" + projectNames.join(\",\")).then((response) => {\n          resolve(\"Projects deleted\");\n        }).catch((error) => {\n          reject(error);\n        });\n      });\n    }\n  }\n  \n  runProjects(projects){\n    //reset the counter\n    this.projectsRun = 0;\n    //set the intitial state\n    this.setState({clumpingRunning: true});\n    //run the projects\n    projects.forEach((project) => {\n      this.startMarxanJob(\"_clumping\", project.projectName, false).then((response) => {\n        if (!this.checkForErrors(response, false)) {\n          //run completed - get a single solution\n          this.loadOtherSolution(response.user, response.project, 1);\n        }\n        //increment the project counter\n        this.projectsRun = this.projectsRun + 1;\n        //set the state\n        if (this.projectsRun===5) this.setState({clumpingRunning: false});\n      });\n    });\n  }\n  \n  rerunProjects(){\n    //reset the paint properties in the clumping dialog\n    this.resetPaintProperties();\n    //if the blmValues have changed then recreate the project group and run\n    if (this.blmChanged){\n      this.createProjectGroupAndRun();\n    }else{\n      //rerun the projects\n      this.runProjects(this.projects);\n    }\n    //reset the flag\n    this.blmChanged = false;\n  }\n  \n  resetPaintProperties(){\n    //reset the paint properties\n    this.setState({map0_paintProperty:[],map1_paintProperty:[],map2_paintProperty:[],map3_paintProperty:[],map4_paintProperty:[]});\n  }\n\n  changBlmMin(event, newValue){\n    //get the new blmValues\n    this.getBlmValues(newValue, this.state.blmMax);\n    //set the new blmMin\n    this.setState({blmMin:newValue});\n  }\n  \n  changBlmMax(event, newValue){\n    //get the new blmValues\n    this.getBlmValues(this.state.blmMin, newValue);\n    //set the new blmMax\n    this.setState({blmMax:newValue});\n  }\n\n  getBlmValues(min, max){\n    var blmValues = [];\n    //get the increment\n    var increment = (max - min) / (CLUMP_COUNT - 1);\n    //make the array of blmValues\n    for (var i = 0; i < CLUMP_COUNT; i++){\n        blmValues[i] = (i * increment) + Number(min);\n    }    \n    this.setState({blmValues: blmValues});\n    //flag that the blmValues have changed\n    this.blmChanged = true;\n  }\n  \n  setBlmValue(blmValue){\n    var newRunParams = [], value;\n    //iterate through the run parameters and update the value for the blm\n    this.state.runParams.forEach((item) => {\n      value = (item.key === 'BLM') ? String(blmValue) : item.value;\n      newRunParams.push({key: item.key, value: value});\n    });\n    //update this run parameters\n    this.updateRunParams(newRunParams);\n  }\n  \n  \n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////// MANAGING RUNS\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  //returns the log of all of the runs from the server\n  getRunLogs(){\n    if (!this.state.unauthorisedMethods.includes(\"getRunLogs\")){\n      this._get(\"getRunLogs\").then((response) => {\n          this.setState({runLogs: response.data});\n      });\n    }\n  }\n  \n  //clears the records from the run logs file\n  clearRunLogs(){\n    this._get(\"clearRunLogs\").then((response) => {\n        this.getRunLogs();\n    });\n  }\n  \n  render() {\n    const message = (<span id=\"snackbar-message-id\" dangerouslySetInnerHTML={{ __html: this.state.snackbarMessage }} />);    \n    return (\n      <MuiThemeProvider>\n        <React.Fragment>\n          <div ref={el => this.mapContainer = el} className=\"absolute top right left bottom\" />\n          <LoginDialog \n            open={!this.state.loggedIn} \n            onOk={this.processLogin.bind(this)} \n            onCancel={this.openRegisterDialog.bind(this)} \n            loading={this.state.loading} \n            user={this.state.user} \n            changeUserName={this.changeUserName.bind(this)} \n            changePassword={this.changePassword.bind(this)} \n            password={this.state.password} \n            openResendPasswordDialog={this.openResendPasswordDialog.bind(this)}\n            marxanServers={this.state.marxanServers}\n            selectServer={this.selectServer.bind(this)}\n            marxanServer={this.state.marxanServer}\n          />\n          <RegisterDialog \n            open={this.state.registerDialogOpen} \n            onOk={this.createNewUser.bind(this)}\n            onCancel={this.closeRegisterDialog.bind(this)}\n            loading={this.state.loading} \n          />\n          <ResendPasswordDialog\n            open={this.state.resendPasswordDialogOpen} \n            onOk={this.resendPassword.bind(this)}\n            onCancel={this.closeResendPasswordDialog.bind(this)}\n            loading={this.state.loading} \n            changeEmail={this.changeEmail.bind(this)} \n            email={this.state.resendEmail} \n          />\n          <UserMenu \n            userMenuOpen={this.state.userMenuOpen} \n            user={this.state.user}\n            userRole={this.state.userData.ROLE}\n            menuAnchor={this.state.menuAnchor}\n            hideUserMenu={this.hideUserMenu.bind(this)} \n            openOptionsDialog={this.openOptionsDialog.bind(this)}\n            openProfileDialog={this.openProfileDialog.bind(this)}\n            logout={this.logout.bind(this)}\n            marxanServer={this.state.marxanServer}\n            openChangePasswordDialog={this.openChangePasswordDialog.bind(this)}\n          />\n          <HelpMenu \n            open={this.state.helpMenuOpen} \n            menuAnchor={this.state.menuAnchor}\n            hideHelpMenu={this.hideHelpMenu.bind(this)} \n            openAboutDialog={this.openAboutDialog.bind(this)}\n            openServerDetailsDialog={this.openServerDetailsDialog.bind(this)}\n          />\n          <OptionsDialog \n            open={this.state.optionsDialogOpen}\n            onOk={this.closeOptionsDialog.bind(this)}\n            onCancel={this.closeOptionsDialog.bind(this)}\n            loading={this.state.loading} \n            userData={this.state.userData}\n            saveOptions={this.saveOptions.bind(this)}\n            changeBasemap={this.changeBasemap.bind(this)}\n            basemaps={this.state.basemaps}\n            basemap={this.state.basemap}\n          />\n          <UsersDialog\n            open={this.state.usersDialogOpen}\n            onOk={this.closeUsersDialog.bind(this)}\n            onCancel={this.closeUsersDialog.bind(this)}\n            loading={this.state.loading}\n            user={this.state.user}\n            users={this.state.users}\n            deleteUser={this.deleteUser.bind(this)}\n            changeRole={this.changeRole.bind(this)}\n            guestUserEnabled={this.state.guestUserEnabled}\n            toggleEnableGuestUser={this.toggleEnableGuestUser.bind(this)}\n          />\n          <ProfileDialog \n            open={this.state.profileDialogOpen}\n            onOk={this.closeProfileDialog.bind(this)}\n            onCancel={this.closeProfileDialog.bind(this)}\n            loading={this.state.loading}\n            userData={this.state.userData}\n            updateUser={this.updateUser.bind(this)}\n          />\n          <AboutDialog \n            open={this.state.aboutDialogOpen}\n            onOk={this.closeAboutDialog.bind(this)}\n            marxanClientReleaseVersion={MARXAN_CLIENT_VERSION}\n          />\n          <InfoPanel\n            open={this.state.infoPanelOpen}\n            activeTab={this.state.activeTab}\n            project={this.state.project}\n            metadata={this.state.metadata}\n            runMarxan={this.runMarxan.bind(this)} \n            stopMarxan={this.stopMarxan.bind(this)}\n            pid={this.state.pid}\n            renameProject={this.renameProject.bind(this)}\n            renameDescription={this.renameDescription.bind(this)}\n            startEditingProjectName={this.startEditingProjectName.bind(this)}\n            startEditingDescription={this.startEditingDescription.bind(this)}\n            editingProjectName={this.state.editingProjectName}\n            editingDescription={this.state.editingDescription}\n            features={this.state.projectFeatures}\n            project_tab_active={this.project_tab_active.bind(this)}\n            features_tab_active={this.features_tab_active.bind(this)}\n            pu_tab_active={this.pu_tab_active.bind(this)}\n            startPuEditSession={this.startPuEditSession.bind(this)}\n            stopPuEditSession={this.stopPuEditSession.bind(this)}\n            puEditing={this.state.puEditing}\n            clearManualEdits={this.clearManualEdits.bind(this)}\n            showRunSettingsDialog={this.showRunSettingsDialog.bind(this)}\n            openFeatureMenu={this.openFeatureMenu.bind(this)}\n            preprocessing={this.state.preprocessing}\n            openFeaturesDialog={this.openFeaturesDialog.bind(this)}\n            changeIucnCategory={this.changeIucnCategory.bind(this)}\n            updateFeature={this.updateFeature.bind(this)}\n            userRole={this.state.userData.ROLE}\n            toggleProjectPrivacy={this.toggleProjectPrivacy.bind(this)}\n          />\n          <ResultsPane\n            open={this.state.resultsPanelOpen}\n            preprocessing={this.state.preprocessing}\n            solutions={this.state.solutions}\n            loadSolution={this.loadSolution.bind(this)} \n            openClassificationDialog={this.openClassificationDialog.bind(this)}\n            hideResults={this.hideResults.bind(this)}\n            brew={this.state.brew}\n            log={this.state.streamingLog} \n            activeResultsTab={this.state.activeResultsTab}\n            legend_tab_active={this.legend_tab_active.bind(this)}\n            solutions_tab_active={this.solutions_tab_active.bind(this)}\n            log_tab_active={this.log_tab_active.bind(this)}\n            clearLog={this.clearLog.bind(this)}\n            owner={this.state.owner}\n            resultsLayer={this.state.resultsLayer}\n            wdpaLayer={ this.state.wdpaLayer }\n            pa_layer_visible={this.state.pa_layer_visible}\n            changeOpacity={this.changeOpacity.bind(this)}\n            results_layer_opacity={this.state.results_layer_opacity}\n            wdpa_layer_opacity={this.state.wdpa_layer_opacity}\n          />\n          <FeatureInfoDialog\n            open={this.state.openInfoDialogOpen}\n            onOk={this.closeInfoDialog.bind(this)}\n            onCancel={this.closeInfoDialog.bind(this)}\n            loading={this.state.loading}\n            feature={this.state.currentFeature}\n            updateFeature={this.updateFeature.bind(this)}\n            FEATURE_PROPERTIES={FEATURE_PROPERTIES}\n            userRole={this.state.userData.ROLE}\n          />\n          <Popup\n            active_pu={this.state.active_pu} \n            xy={this.state.popup_point}\n          />\n          <PopupFeatureList\n            xy={this.state.popup_point}\n            features={this.state.puFeatures}\n            loading={this.state.loading}\n          />\n          <ProjectsDialog \n            open={this.state.projectsDialogOpen} \n            onOk={this.closeProjectsDialog.bind(this)}\n            onCancel={this.closeProjectsDialog.bind(this)}\n            loading={this.state.loading}\n            projects={this.state.projects}\n            oldVersion={this.state.metadata.OLDVERSION}\n            deleteProject={this.deleteProject.bind(this)}\n            loadProject={this.loadProject.bind(this)}\n            cloneProject={this.cloneProject.bind(this)}\n            openNewProjectDialog={this.openNewProjectDialog.bind(this)}\n            openImportDialog={this.openImportDialog.bind(this)}\n            unauthorisedMethods={this.state.unauthorisedMethods}\n            userRole={this.state.userData.ROLE}\n            getAllFeatures={this.getAllFeatures.bind(this)}\n          />\n          <NewProjectDialog\n            open={this.state.newProjectDialogOpen}\n            onOk={this.closeNewProjectDialog.bind(this)}\n            loading={this.state.loading}\n            getPlanningUnitGrids={this.getPlanningUnitGrids.bind(this)}\n            planning_unit_grids={this.state.planning_unit_grids}\n            openFeaturesDialog={this.openFeaturesDialog.bind(this)}\n            features={this.state.allFeatures} \n            openCostsDialog={this.openCostsDialog.bind(this)}\n            selectedCosts={this.state.selectedCosts}\n            createNewProject={this.createNewProject.bind(this)}\n          />\n          <NewPlanningGridDialog \n            open={this.state.NewPlanningGridDialogOpen} \n            onCancel={this.closeNewPlanningGridDialog.bind(this)}\n            loading={this.state.loading}\n            createNewPlanningUnitGrid={this.createNewPlanningUnitGrid.bind(this)}\n            countries={this.state.countries}\n          />\n          <UploadPlanningGridDialog\n            open={this.state.importPlanningGridDialogOpen} \n            onOk={this.importPlanningUnitGrid.bind(this)}\n            onCancel={this.closeImportPlanningGridDialog.bind(this)}\n            loading={this.state.loading}\n            requestEndpoint={this.state.marxanServer.endpoint}\n            SEND_CREDENTIALS={SEND_CREDENTIALS}\n            checkForErrors={this.checkForErrors.bind(this)} \n          />\n          <FeaturesDialog\n            open={this.state.featuresDialogOpen}\n            onOk={this.updateSelectedFeatures.bind(this)}\n            onCancel={this.closeFeaturesDialog.bind(this)}\n            loading={this.state.loading}\n            metadata={this.state.metadata}\n            allFeatures={this.state.allFeatures}\n            deleteFeature={this.deleteFeature.bind(this)}\n            openNewFeatureDialog={this.openNewFeatureDialog.bind(this)}\n            selectAllFeatures={this.selectAllFeatures.bind(this)}\n            clearAllFeatures={this.clearAllFeatures.bind(this)}\n            userRole={this.state.userData.ROLE}\n            clickFeature={this.clickFeature.bind(this)}\n            addingRemovingFeatures={this.state.addingRemovingFeatures}\n            selectedFeatureIds={this.state.selectedFeatureIds}\n            initialiseDigitising={this.initialiseDigitising.bind(this)}\n            featuresDialogPopupOpen={this.state.featuresDialogPopupOpen}\n            closePopover={this.closePopover.bind(this)}\n            showNewFeaturesDialogPopover={this.showNewFeaturesDialogPopover.bind(this)}\n          />\n          <NewFeatureDialog\n            open={this.state.NewFeatureDialogOpen} \n            onOk={this.closeNewFeatureDialog.bind(this)}\n            onCancel={this.closeNewFeatureDialog.bind(this)}\n            loading={this.state.loading}\n            setName={this.setNewFeatureDatasetName.bind(this)}\n            setDescription={this.setNewFeatureDatasetDescription.bind(this)}\n            setFilename={this.setNewFeatureDatasetFilename.bind(this)}\n            name={this.state.featureDatasetName}\n            description={this.state.featureDatasetDescription}\n            filename={this.state.featureDatasetFilename}\n            createNewFeature={this.createNewFeature.bind(this)}\n            checkForErrors={this.checkForErrors.bind(this)} \n            requestEndpoint={this.state.marxanServer.endpoint}\n            SEND_CREDENTIALS={SEND_CREDENTIALS}\n            newFeatureSource={this.state.newFeatureSource}\n          />\n          <PlanningGridsDialog\n            open={this.state.planningGridsDialogOpen}\n            onOk={this.closePlanningGridsDialog.bind(this)}\n            onCancel={this.closePlanningGridsDialog.bind(this)}\n            loading={this.state.loading}\n            getPlanningUnitGrids={this.getPlanningUnitGrids.bind(this)}\n            unauthorisedMethods={this.state.unauthorisedMethods}\n            planningGrids={this.state.planning_unit_grids}\n            openNewPlanningGridDialog={this.openNewPlanningGridDialog.bind(this)}\n            openImportPlanningGridDialog={this.openImportPlanningGridDialog.bind(this)}\n            deletePlanningGrid={this.deletePlanningUnitGrid.bind(this)}\n          />\n          <CostsDialog\n            open={this.state.CostsDialogOpen}\n            onOk={this.closeCostsDialog.bind(this)}\n            onCancel={this.closeCostsDialog.bind(this)}\n            costs={this.state.costs}\n          />\n          <RunSettingsDialog\n            open={this.state.settingsDialogOpen}\n            onOk={this.closeRunSettingsDialog.bind(this)}\n            onCancel={this.closeRunSettingsDialog.bind(this)}\n            loading={this.state.loading}\n            updateRunParams={this.updateRunParams.bind(this)}\n            runParams={this.state.runParams}\n            showClumpingDialog={this.showClumpingDialog.bind(this)}\n            userRole={this.state.userData.ROLE}\n          />\n          <ClassificationDialog \n            open={this.state.classificationDialogOpen}\n            onOk={this.closeClassificationDialog.bind(this)}\n            onCancel={this.closeClassificationDialog.bind(this)}\n            loading={this.state.loading}\n            renderer={this.state.renderer}\n            changeColorCode={this.changeColorCode.bind(this)}\n            changeRenderer={this.changeRenderer.bind(this)}\n            changeNumClasses={this.changeNumClasses.bind(this)}\n            changeShowTopClasses={this.changeShowTopClasses.bind(this)}\n            summaryStats={this.state.summaryStats}\n            brew={this.state.brew}\n            dataBreaks={this.state.dataBreaks}\n          />\n          <ClumpingDialog\n            open={this.state.clumpingDialogOpen}\n            onOk={this.hideClumpingDialog.bind(this)}\n            onCancel={this.hideClumpingDialog.bind(this)}\n            tileset={this.state.tileset}\n            RESULTS_LAYER_NAME={RESULTS_LAYER_NAME}\n            map0_paintProperty={this.state.map0_paintProperty}\n            map1_paintProperty={this.state.map1_paintProperty}\n            map2_paintProperty={this.state.map2_paintProperty}\n            map3_paintProperty={this.state.map3_paintProperty}\n            map4_paintProperty={this.state.map4_paintProperty}\n            blmValues={this.state.blmValues}\n            mapCentre={this.state.mapCentre}\n            mapZoom={this.state.mapZoom}\n            rerunProjects={this.rerunProjects.bind(this)}\n            changBlmMin={this.changBlmMin.bind(this)}\n            changBlmMax={this.changBlmMax.bind(this)}\n            blmMin={this.state.blmMin}\n            blmMax={this.state.blmMax}\n            setBlmValue={this.setBlmValue.bind(this)}\n            clumpingRunning={this.state.clumpingRunning}\n          />\n          <ImportDialog \n            open={this.state.importDialogOpen}\n            onOk={this.closeImportDialog.bind(this)}\n            loading={this.state.loading}\n            requestEndpoint={this.state.marxanServer.endpoint}\n            SEND_CREDENTIALS={SEND_CREDENTIALS}\n            importProject={this.importProject.bind(this)}\n            checkForErrors={this.checkForErrors.bind(this)} \n            setLog={this.setLog.bind(this)}\n            setSnackBar={this.setSnackBar.bind(this)}\n            user={this.state.user}\n          />\n          <RunLogDialog\n            open={this.state.runLogDialogOpen}\n            onOk={this.closeRunLogDialog.bind(this)}\n            onRequestClose={this.closeRunLogDialog.bind(this)}\n            loading={this.state.loading}\n            preprocessing={this.state.preprocessing}\n            unauthorisedMethods={this.state.unauthorisedMethods}\n            getRunLogs={this.getRunLogs.bind(this)}\n            runLogs={this.state.runLogs}\n            clearRunLogs={this.clearRunLogs.bind(this)}\n            stopMarxan={this.stopMarxan.bind(this)}\n          />\n          <ServerDetailsDialog  \n            open={this.state.serverDetailsDialogOpen}\n            onOk={this.closeServerDetailsDialog.bind(this)}\n            onRequestClose={this.closeServerDetailsDialog.bind(this)}\n            marxanServer={this.state.marxanServer}\n          />\n          <ChangePasswordDialog  \n            open={this.state.changePasswordDialogOpen}\n            onOk={this.closeChangePasswordDialog.bind(this)}\n            user={this.state.user}\n            onRequestClose={this.closeChangePasswordDialog.bind(this)}\n            checkPassword={this.checkPassword.bind(this)}\n            setSnackBar={this.setSnackBar.bind(this)}\n            updateUser={this.updateUser.bind(this)}\n          />\n          <Snackbar\n            open={this.state.snackbarOpen}\n            message={message}\n            onRequestClose={this.closeSnackbar.bind(this)}\n            style={{maxWidth:'800px !important'}} \n            contentStyle={{maxWidth:'800px !important'}}\n            bodyStyle={{maxWidth:'800px !important'}}\n          />\n          <Popover open={this.state.featureMenuOpen} anchorEl={this.state.menuAnchor} onRequestClose={this.closeFeatureMenu.bind(this)} style={{width:'307px'}}>\n            <Menu style={{width:'207px'}} onMouseLeave={this.closeFeatureMenu.bind(this)} >\n              <MenuItemWithButton leftIcon={<Properties style={{margin: '1px'}}/>} onClick={this.openInfoDialog.bind(this)}>Properties</MenuItemWithButton>\n              <MenuItemWithButton leftIcon={<RemoveFromProject style={{margin: '1px'}}/>} style={{display: ((this.state.currentFeature.old_version)||(this.state.userData.ROLE === \"ReadOnly\")) ? 'none' : 'block'}} onClick={this.removeFromProject.bind(this, this.state.currentFeature)}>Remove from project</MenuItemWithButton>\n              <MenuItemWithButton leftIcon={(this.state.currentFeature.feature_layer_loaded) ? <RemoveFromMap style={{margin: '1px'}}/> : <AddToMap style={{margin: '1px'}}/>} style={{display: (this.state.currentFeature.tilesetid) ? 'block' : 'none'}} onClick={this.toggleFeatureLayer.bind(this, this.state.currentFeature)}>{(this.state.currentFeature.feature_layer_loaded) ? \"Remove from map\" : \"Add to map\"}</MenuItemWithButton>\n              <MenuItemWithButton leftIcon={(this.state.puvsprLayerText === HIDE_PUVSPR_LAYER_TEXT) ? <RemoveFromMap style={{margin: '1px'}}/> : <AddToMap style={{margin: '1px'}}/>} onClick={this.toggleFeaturePuvsprLayer.bind(this, this.state.currentFeature)} disabled={!(this.state.currentFeature.preprocessed && this.state.currentFeature.occurs_in_planning_grid)}>{this.state.puvsprLayerText}</MenuItemWithButton>\n              <MenuItemWithButton leftIcon={<ZoomIn style={{margin: '1px'}}/>} style={{display: (this.state.currentFeature.extent) ? 'block' : 'none'}} onClick={this.zoomToFeature.bind(this, this.state.currentFeature)}>Zoom to feature extent</MenuItemWithButton>\n              <MenuItemWithButton leftIcon={<Preprocess style={{margin: '1px'}}/>} style={{display: ((this.state.currentFeature.old_version)||(this.state.userData.ROLE === \"ReadOnly\")) ? 'none' : 'block'}} onClick={this.preprocessSingleFeature.bind(this, this.state.currentFeature)} disabled={this.state.currentFeature.preprocessed}>Pre-process</MenuItemWithButton>\n            </Menu>\n          </Popover>   \n          <AppBar\n            open={this.state.loggedIn}\n            user={this.state.user}\n            userRole={this.state.userData.ROLE}\n            infoPanelOpen={this.state.infoPanelOpen}\n            resultsPanelOpen={this.state.resultsPanelOpen}\n            openProjectsDialog={this.openProjectsDialog.bind(this)}\n            openFeaturesDialog={this.openFeaturesDialog.bind(this)}\n            openPlanningGridsDialog={this.openPlanningGridsDialog.bind(this)}\n            toggleInfoPanel={this.toggleInfoPanel.bind(this)}\n            toggleResultsPanel={this.toggleResultsPanel.bind(this)}\n            showUserMenu={this.showUserMenu.bind(this)}\n            showHelpMenu={this.showHelpMenu.bind(this)}\n            openUsersDialog={this.openUsersDialog.bind(this)}\n            openRunLogDialog={this.openRunLogDialog.bind(this)}\n          />\n        </React.Fragment>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'typeface-roboto';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","module.exports = {\n\t// returns a boolean if it is a valid number\n\tisNumber: function (str) {\n\t\tvar pattern = /^\\d+$/;\n\t\treturn pattern.test(str); \n\t},\n\tisValidTargetValue: function (value) {\n\t\tif (module.exports.isNumber(value)){\n\t\t\tif ((value<=100)&&(value>=0)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAqdSURBVFhHxVhrbBTXFf5mZt/r9YKNH7FbGYJoHq2AoNI2NJD2B6GtREApCqUgikSQEwW1+RESVNE8EKQVpUpbhURCkdsoiRoVlVBC0iRCqHkUEgLi0QYS8nKJedlre73vndmZ6Xfu7HrXxk5Mo6qfNZ575557zrnnnHvuuau5BCYIt0RSHdD4ADYfnzSQLKaRN32wHBd+v4Mp4SD8ml+NAQ4fHSbp/Zyv+bw5E8UVKQibwgwdH6TTONxv4rW0iaPpAoq2D+epyKBJpfMWkMrwSWHhJAOL2+P40aypaKqPQwRpHqcJY2wFy19cctNcCtUM1T86lMHhixmcdfxIuw6ytEiq5KDP1tBLBZOmhlyxBCOVg1vIo5DNojiYBhKDuKGhgMcWfwfzrpuqeIn9lSMI7TNUH1tB8Yq8yEFnZyBj4chQAX10YdZxqJRLa+lUzEF/qYQhy1bKJS3SOkUqmUcwTUUzOWjpDDSzACuZQepCAvOawtizcRmaJk9SghwqJqp5/y9HZREjQVqXIzan96aKOEu3Bfx+RA0DAU4xOOjq3lOk9XJ2CJeo/Kdc6mDRj1I2jCI97egUKw//AoaG1kkRvMvQaF75G3S9+A8K0vnn8m9s5QQ1FnSV4Tx2QNGx0ZvJIkiVEnRz0rQwWNDRQ7oErdWXsxFzC2iLh3CVz0VjUOfG0HG+YOJMzsJb3X149exF5C8BdYaJQD4FX9qCm83Bl0vjQvc53LXwa3j8F+so2mE46dC8/TQCwwrKOlwUOR5Ani58r38A9cEYhTLebRuDdF8Pg7KQSaMjGsLsyXVoCMlOlWjyYnQsvPjJWTyw5xhOfJLGpECebrfgY3y66TwSn57D6gVX48ntG0hZQsk1YGiegSqoUVCsZ6PIxoHzKcQCfsRJaRtU22a85Wkxv4kbmxsRoNtAl4LMlHq1HCvgIpl5uFxv8KV3/43bf7dPBCJuFeFmMrSmhYsffoTN9yzFpruXk5dJagmiKqoK0o0ah164MMSNoKOBUoN0ncTIANPHzLoIptGdopijqylqzFvZ5RZUkeVxhk3LG7Io4uv3/BZHL+XRYdFi2TSMbAFnP+rB4X1bMPeG66mHWvcwamIQDOAMnmdeu5qig9wUIRLmuNoFzQ1oCVdcOfa+uhIs7NyO/Uc/gF4owmHI8ARgtk+jNLAfhnJHVcMRCt57qgdt/skIBwoI0dR2ycb8KQFcE2esOZykX9kpcDlkF4g4A+eYGwO6QYtROXolT4vG66KYVF+nKCvQbMeWpIG9F5J4KWmh3fAzpQAhO4rmaAor2prJhNlK2b26sv8Wot5nJebR0EtKroG/XEhTEQNpriZpG0jmerG0tYkcGUvq8P3iygk8LhPnpcueOTGYxKdOGDl6IGXz+Cpo+MrkMMIMbKs2YsuoiYr/OWiaEl7pz6JAR+d4bKV5lJ1zTNzSEOPwyBxvWZZ6xN2ipGmyRmGOrEWFZjQGBgbQ19dX7lUhPBzKHI1isah4U0Edrw6QIeMszfSSonvrilk01oU4kelBBbaHBQsWIBAIqPaePXsQDAaxbds21a9AxuV7Bfv2MfdxQY2NjWhublbtBx98sDwKzJkzhzvXwNDQUPkLcOjQIYRCIRw8eNBT8J2kjTxjL2WX0Gc6mFEfJZldDuWqDX01tVyl7Wc6qoUIk0dw7NgxLF68WNHKgl5//XXMmjULmzdvVo+gsph58+apt6DCW9665Vi0nIYEFcnaFhI8AdrDYiUKUimvqqDO4qACb1dX3xUITUXBVatWqbe4fMmSJZg/fz6OHz+OWCw2worhcBinTp3Czp07Vb+Wtz5UKKhIy9F6Qw53MauTMAqK4ItChM6cObPcqyLFYray0STWxHobNmxAZ2en+lbrKV0dRyynTLOEAquVXipqlK2mwn+cDTtWYFdQu8tbW1vLrbEhVurp6RmO5dmzZ4+Yo9eJO3geOiwqbSnZzSISrJgFSs1xFIxEIupd4s6vhfRrN8mBAwfKrariO3bswNq1a1VbwiHLyltw4sQJ9WzZskX1BXowREGs+wK5IotMVr88H9/vT3mDNJIUrmPh2muvVe+9e/eqt6C/v18pMW3aNNVfuXKlUrg2ts6cOYP169ejq6tLfRP6fD6v2hIOd955p1qAQC2I/9yWrr+79c8ccePPHXcju0661+0+Kp95wlkscrymYO7cuWICl3Gj+h0dHapfX1/v3nTTTaotz65du9S4oPKtvb3dpfuG+6dPn1bj06dPV/1aRKNR9e2NN97w7HPLFD+KLCB1FpL+XB6nk0kUCyWYGoPVq5kUZCcuW7as3AO6u7uxceNGTJ06FRSIhQsXKpfW0lAeNm3aBC5CJep169YhkUgMe2D58uVYvXq1alcg+W/RokVoaWmRasZxd5/6GD988QM01ofgstzhNQRbb2zDfXNmME0XmClZB/6fwNLTxW3XT+dVcRB2zoTLWIzw+Htk/xmPwKkG/FgQC41+RmMiNOOBlZZH/OMZcRS5mwzmJc0qYMgO4JFXjpJiZCIeDQn80c9oTIRmPGi2W3J17rQeuvXL9z+FKU0xMqhjBZZD70AePT+/Fe2NDbRzpXCYOPMqJGfKPCkypLYcJzWozCt0NScWzT1s77v+uB9dJ3sQj9CtpLPlfOblpvjoGh5hkt3HY/w5kKSuPCEK+PDkM3vxzr8+gs8f4RDvQq4Pg4lL6HrsPlbzcsxWjVCjoHcyNN7xOLT6APysFAUWGSQZm+e2/wQtvDhxT6nL+BVBWJfX9vCv/4CHduxDbEoTQhYVprv7eBd6+N7v4YGfrS57agwF5b+mWfjnhRRmrn8CzS0NXKvDa6cPLu/EvckhPH3X97Hq5tlqouc0MpOJvLUpVPiq1ERRLEK0mgLjluX3481j59EyJc5hHq+8k2R5MMzpmIwDu7dXlChTexhW0FukHFs+PH/wJG7b+hwaWr+EkCvFBC83nDjAk+KGtsn4/d234htfvVqm1UDmyu1Gr1m/oIRf7diNrY8+g2C8FXVBHqOU6HARWcZ9o5HGmcNPl2kvR42L5acP+SlHTOzDrv2HcPvWP6tkqWoLStVpqcGSH+Ygb3+xCNYsmoNF356JGR2tiFKwbtgsrXinSebx2pGT+OurB/G3V07DCYURj4XJR+JNCWPYFNESKeH9Q095H8bBCAWloSKAQS2uefu9bnz3jm3wx1sQC5QUc8PJwypxp9tZpDMmMkNpBOkun4/1oyzRdpDLFOAPR1EXDrFwkLRCN7tSvuu8xPtwkSfJorkd2PenX3qSyXe8zFOjYBWy13T5pYG3PYsCb123BS+fOI/WeBN8ulwPbCpiyp2ViVwsL9U3FZEFKGEVaezQ6uJOC36kclk4uRQee3gN1q74weekHA9jKiiMvT0tYknElb/59nF0PvAEPuzOIhKLIuL3UaTEGy9PhoSGLIq0aqL0hC1vhcyx/SzntFwBnWu+he0P/ZTzLv+pZDyMq6CnmtcmESm9lb773sfY+ezLePaFtzCQzCAQjCLk8yureSq5zJ8s3ZwAzFQ/bv7mdVhx+43oXLFUzVf4LJ+OwjgKjg3HLTHfVstxk8XtkeOn0JPIIdHbx2sirwthH9ramjH9qkZcc03tTh+d4SYC4D+4K2Ev0lT/0gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAoCAYAAAAmPX7RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAABR9SURBVHhe7VsJeFXlmX7vvia5CQkJS1hEkE2qyL4rVQRFrQtDERemFhWdOn1Gpy2tVYvbtFOdqYK7osKwiYJaBBfCFkGhCAKyr0kI2e69yU3uvvT9zjk3uUAggVCmPA8vHu9Z/vMv3/59/4kuQeAiLljotd+LuEBxkYHnGTu9MdSE49pVy3GcCY3HE5i9L4S4jg94xDnOlC4WGA28aATzD4bgiyYgj/2RBO691AqnSW270xtFQVkUVgMQ4whZZh1u62hRnjWGw7UxfFoSho2dsUt0sOlxfXuz9rRpbK6Kom8rI5aXRhAggX7CsWJcj0HfMPcYlxpk5w7TuZfbSDQKX52fdFPHE1rK2ELcOAlp0OsVWqypMmDM+hASP7HAE4iCzernGI3FSGsDhCMmoxFOh025fzoc7wPZm26hB8qo0mcMqLstA3YZuRFkLvHA62djoUcwgWK2bZdmVJ69tieIB9bXARaNgCTcDzdkoEem+vxELDocxoQCH2Ble447orURq69N156eHiNX1uCBSyz4a3EYNVGO3d+On22qQ6ZZj/s7mjGibYMgzD8cQgYJFuIwt5yBgDQFT7UPVqsZZpMJoXAYgWAYrnQnmZGAu7oGOZkZCnPHrvJheXEUHw23Y3xuAr5wFGlOB8mtQ2lFJdrkZLO3BMqq3Nr56XG8KHJRNmqKQnT55aHXJKoxuETbpK2F3fDXkNLWImpZ/4yHVY+xG8jQU4C0TmmvQ5qmyafDU1v8eH5nAOUUoh3VMTzdx4bpPa34piKKxUOd6J5mQB9q5dRv61AaUM3WRGqmDPXhoRBepbU5VxDmmIwGRdNM1CLRIDkXjbIY9Hyux883+bH8GKWTdC2opFZajPXt9BQqOZdfvXIts2wazWt1LkAlPkz7P3t/ULvRMty4xofhuUaIDr1DjXvichs6pRsxqLUJt3SywGbU4/HeNrgoEK8PcMBpbBCIMflmvNDPgTYUkld3BbS7LUUC4UgMsVgc4aj8RpVzxZzQsvVd4cObIjCa0qdzPolgSGGaQMxs8ojxSDWMp8P5Y6CoNzVrysYAbX3zJtcY5M2NFRGU1MWx+GiE5iqBQbkmmDQ/IqgOxfFZUZj+PIgtlRHl3kkazY5WHIvgO2ru3hoSuYWQefkDAdTxCASDCITCMMSCKDzih2tZDN/5aNvFwgjoTu5tTzOe0OHBGW9i4469pE4CfjK0zs8+eAgTm4PzyEBCTCxHnLyhVrtx5niLTKkiTw744xhIf/qbH9m1J4CXjBv2RQ1c9OPjVtdiSmEdrlxRA90CN17ZfbzmZzNIeqi7FZ9SCPbUkljNlPhTQXyYKz0N6fRnGWkOtHU5sKHGgmFrOFkbzY8SCPIgH0e3NaFLKysMJjPeeup+TP+fBdi88xDa5eUo/lD6ENPbHJw/BgqB5KAmLDgYxnY3V3IWeO9AGPkMZpcOd+LHeQ0BUQmZkPmhF4U00yBzbulsxtdjGQRJxMkxp/3Nj1vXM0hKQS4DpiXDnPiePnN7dfMk/nRI6rhYgyJq3GAKD+y8m3xAU2rSJfDlqDQ8yvkowTDbPvHg7Zj42F8wf1mh2o5IvtIUzg8DybieJCpoMhQm8nzUmrPTQnl9TWUMd35dh7b2Biltv8yrEEMBg5pRWQYMpj8E0xvlIBM/2hvG63sbNDGb/vHft9BksVN6He3u2SHBf+VuD8oZPaK2GlesCasRdTKwk3whpscPg2nad3jw521BRp1eHC2rQKc2WejYNgf/O3cFKio9qPR46U+bJ+Dnh4FUihtzjAzpSVCZFwldxahw5u4zCyBK62IY38mMZ3cGsWtchnYXWMXcbwDN6WSmDNO6WvDWYDv6uAxwB+NYMNiBPzM6vYcaeXMXMz4pUn1iEn9g8LOU6Uf3tJaRQqLQ1q2ylGNZbQbckqdovFOkjr56x7VOuDJdmPJtHA/3sqBNrgvZvM6k6ZXgJc1uwYbt+5V7ZlPj6daJOD8MJNzUglcZ+SmLkYMO/WGaEUUym4k/7ArhnvYmvNjXjgWHGjRp+dEw+rn0GEKtuzrbiNvzTbi6jRlZTF0mMD8ckmXENRSggS4jahlAHaP/FEhqURGIYQHN6Es7W5hSKMtQ1/IUUxtI1JtkYCiBV/o70TPTgCHUzO7MS1/q76CWsRl93a7DpUrEKkzbdaBEe6l5OG8MjGguZuYVDDq4IGVxdAIjGGwIkms9HQZk6PHo9iCyaA6/T/FZH5dGMetABNNoDu8orEXGPC+WldCEEeYPPBj8lQ/3MAedviOIVWVR+ic16syjiXuejAvzcmsLI9E4hbKswo2A14OtXpqZJGU5za50xQ/k1aKwyIu9pTF8fVUYbg/NLU1ulOnG4s83wGJmJM08cvPOw6itq1NSkubgvDEwiWmXWdHeyWFlfnRha2n+vquKwpGSp50KUy61Yt7BEOYdCOLOzg1luTw7+xN3KKmCRAY0hy/vp0ZR2yJSKbLxvlQK5Dn/kwhUIGavLzX2p+tqMbNfQzR7NpByWNvcbNhcmfVuTwEtz4zunKszC/PLLRjVnsFWditkZWaifV5rvLl4JdOIg2SgUZmPpBBOh+Ofz4Sm4nOaLPEJCmhKb6N2KPFH6sIbwb7qKA7dnIGNjDiP1cbg1fq4hgm9UnAVaH1EKfk+ea7QQbspppsr7pyuBj//vSOAKfTLz1xlR8Gxs4uKk5Cu1cSdQ0gVRaYjNymYQ1zKbbxK4XukYwPJV27YhneWroVVY57yjhaISVDUHDTJwDPhcHMHlXroHSkBzUH6pEe30W+IhpwG7RwG3MfcruDqNLywP0wzqpqZ3/WyUSB4IgQT8MfBvtJE81L5QoZOZZCTxB+ZGw7PNeN9aqtLSoctgIxcS+0Bk/e+DjJSm4pZn4AzHkQ8FEKU2jhIK28WfLMdv315IfJaqTVSmXuATnHc8Cv4NFEvDE3heP6wI0X9U/jgP6UppnlKfcbxLMrLzcPCoWlqeK9J6WbxQZr0nQo2trOSMaNX+zCEAUEJtbBMq3HOHcYAqU4Ix/6ojdfSNCqaJz9yj2O1pel8TTOVVYxQ63j72e0BlITiGJFHgWoBZOaq5unwy24UKE1wwnEdahJG1PG6S5oR0UAAP3t8Fp6Y9QGyM5wq8whOBaFQBA9MuE5JIZL3m8JJClbvi+SHhCj0NM5BdzChlLOS1knaZlFDzgSvDSLR2Y+CJpiXxMKhDgzMMOLtAyFcSl/X4zMmy8Qk+sQPRtA0i88js/61i6ppj9Lngpp6JRlefKOkHjpcv8pHE5tAa661lFr5xUgKU4uRgM1qpsBYcGtHK1Nd0k1IF01gW8iMNIeFQZMBR45W4fs9R+By2o5j0tEKD555ZIJyLjsaUtRuDk5i4H35nIRsyAlnKO03fcMoUaNxKsas5X0lKOBB5g06CwmeSiJ3lvzrDFIJHRfm4Ctlt7nQhhp1dycT0xF1l0P2G+N3ZmLddemwaoL4x742rLo+HZuvTYfOoMNWMnMno9BcuwGLhjhQQg2mArYYwgyDXhPgeBRbRjtwdStxEwnMOqgqQWU4iiEDLseVPS+h9WoY9CgT+kcmj8WIfj20Owr1m4WTGPg0E1sxh4rZIbGEtrp5bkxkeP6brQFla0Zqi5ukZCX1PWlHHzZ3ILXpLCD+TNFC6acZkDLV7y63w7bIg/yPq5VA5k36w+T7QsihuQ3CJNcjmRMm8eQWP37FaFY3pwqjqInvc96ttai0JZDN46NllSiv8qC0ygtH0IOVQ2K4rZMFnx0Koc7tRiemLTtLKnDlZfmKuRRTKdWYhyaNwd3jh2H/4aNKalHGPppbiWn0o6Yvi8O4dhU1TIIAUWVpIkIkLUU0RNBE84S7JP5zfWz4tTA+BbMZGEzZKBu6JA6l8J62JsweShPXCB5mu5kHyIRkIEGNvoE+7NNRpzdt4gO/c8fQwaHDu4fCKOR5hGP157v9MwzKVGW34VumKXFq5FAm9OPzjKgi0zsx9RggpbZzBG9NLdJoFkULZXc+GArTbKr+dtZ2L7LTHUreubq4lkGXGcN+/l/olp+LX993My7r3E5pV0Hm5WRlKudSkpOqTlM45VdpmyqjGEutqxQ/J+YoVUhFQ0koPSc0+0o77krJyZJQduRlA1cYSIbc0d6EhSNOwRBOwfCBF3G2S5rkkTlGrGpiR76UEdYHhyP4kAInn32MphkfkW1AJQOUMe3MSuq3pDiCNpznBjJ3xdEI/Jz3Te1MysZuO7HF5wgqA+3K5qwwULaT0jUGhv0+mO3q2ievrcac4Q1lwEgkAhN9nkC0r7XGQNmRz20JA5NYVxbBUhKhkFFikMGBEKof/daNbUwYR6YoBG8E2z1RLC2K0BdxkmR4T+ZeN3VoMGUnorA8gjVlUZip3ZLDXULi3tGIYDSFWUwNpFiQiid/CODJnk1/X9ISyPcwkoSLj07QMkllxmBQBSQYDMNutSgpxbJjCfTJ0COXUwxFY2wbJwOZB/KfPxCE3WalPKssyc0+Bwy8iHOPPVSGbloxoaW4yMALHOfOCVzE/wsuMvACxz+MgZctr2au5dau/nlRzEi2/Awyecm/9/li9bWHWgZ2yU8WBUfqYqhJ7p0R0nZDZaS+8C7wcLzDbCfVoFTIu0U8Up1aMbMACfDKU8ZIxT+MgbIL/v7glm3RnA/kL6nGyHXHfytzOlSS+F0pmAuZnAtuXu1D20Ue5XwPmdXxXTcKGU0LRn9Vg658NvhzHzLnuTFXtrgI2ZvsNN+D+zf6lWtBhILQcZ4HHZhOVQXUys0vNtUhf6EHw1b6kMv2079raJ9EowycvtWPtI+86LOiBjuYBAuGrfVhKjucyMEzlnrxn1pnfQtqcO+3aimryh+Hmc8KmHoUVsYwr1T9fOFmEmgqk/Whq3z40w51J33ChlqkL/Fi4Jc1OFCtjvHU9gCuZpundwTg5PgTmIcK1nMOWX+txrwDITjYf58varDPG8XwAhKG128w50zifbbJ+6QaGZ94sVgj8gymEYPZ7+Pb/Ehn+1EkiGDCerUcuLs6jgc3n0ycxpBrYwrQ1oRl5eqcV8rHWSY9/GRsUS0Jb9dhDNOr1/eFsPJIBHtudSExKQu/6G3F5M/Vum0r5qWyZzmnpOHzjpn7uAbZJ7Xrkc45fU2te2lLAJ/+OA2JiVl4Z7gDz62vU/6EIBUnMfBhMum5rQH8vqcVUpvurQ26xxfHG7tD6MwJDsow4E9sIxI3yGnAuySQYE5RGBFvDMNaGUj0CFaXqoPt8vJdLugIw+eenPg1JPyi/WE828OK3TQNXZarY5RTAFYxKT9AQtxOIi3aG8SSI2GGyjQ7zCufIqN+f6kF27iIrhSuUZlGtOWCp0pdlpBP6+9eU4txzFEn5ppwOxlVzL72cowNJWHs4hru5rPVzGtfZN/TOlhg4RrbkSmTeL+56J1pULeypPBAzclz6PBFZRSrydTWLiOJqsNcCk8e6dCV14Lnf2TH0hvUBF4sdl/SULLV1WSUYAZpe5fkydEEc2EdFsu3O2xzg9SmCfm7k4/HZyD/hOLDSQyceSiMoSTev/B4XBJiEnUbiSed9uDEn+tjx3sDaBo5eZG4h7qxDSfkpu1eejSCDtnyubjarUXKcITk+q2Z9xTd5MI1eSYUUDOfuMKGh9n/7tHpzIJj+Ir3lJ0Q0uXtgU7MVmqrOhwLxuUjNuX+skEO/KqXDT24sN5k3gz28Xh3Juh8TzTgBQqJ02XAY53N+A/Z9zPr8cZBaq30Sy1ZNMSJlwewX9L0EMcc1c4E+auE9k4dhp8BA39K2sjHwLMpsJdyXZM6mlF4LIKvea8XaSQoCiaQn/yQl5CtsGQhQzK3CtLs7o4mvLgnhBCFwO2JYdolfC7Wk6/todDlyGZBCsaTmTnW0zBQKghyYxcd53U0Ob/c4kcvEtxCQZNBk85V9rZELeSvpHqRmGIOXjwYRkFJCNO7nVw9kfcytJHEhwjDL9Em0kq4Q0Z7ySiN3wqCSllNeaSCl3WUToGsUR4L/MkT/tQyeJCPlibSPI+lVvbNMaANGSftZRJhEiqJZL/yerKL5mJwjgl+EngO1zyWRL2TzP8Lz/fTFE8icwXtuL5S+fZHgxS7t2raJn9DUsJnv+1hU4R+Bl3GqE5mdWdN5sVfKXzLWlKxme9Xn/CnaccxUMpAsg0TYSe7xruwm8cr/ezolmUE6XsCdPUMfaSzBU/Tf4GaN/kU5bLk6/lpZDgl622aRsHiw/RT7Odyaq6U0BqDQmv+7/jlHA+pWil9k0nfXJ+B/dT2Zy+34YHuViVSPBWU70FPMe6pIGXBDLqOr2iKhXl9W5sQoqU6RPcxqLVqMse1M6LYzQhXix4fozJcwYBEIMIT5/LlW55saukz3wfwJOdZpkWqYTLudgpGgFq5lvGEYA4tyVV8f+cJHyAfx0DBejrLGmqg7r0q6Oa6MUJz+BIGV2ncj0j4y4mJMgmUzVMuoAsJ6JDiNeFhe7fW3s3z1FD93f52rKb50f2fGxOp6Xdy8t34brlIiSYpitbwXIrP5SKJHC8pfJU8l/4FAe2ZzG0hzWM2Jd/2vhu6+W5cv6wGpTTzShtKfL1AU9RrtPf70uRuPBjBMPmKurkgA7LEPHJNA7Wtq2wpjfG0Nxkr+A216yoyV6JHWeeL20N49Tq1oK3MXVvMBKknUxNGsq1PBI191nLNI9nvlF5WjFjGdIx93MVo998GOTEoRxWQekgp7UQEyaFPqeNflIYTiXhcucdcJrGRhyDIBGY5n3lo55L46lg4UcSRk9jiiSY2VPB94m9VkcQ67d0kDrHth0WhxLeVahvB3upoYoWMSciocl5aF0tUcz5yXhtW57KJfW12q/2VkTvyTOacxErOZWlxKOELqfPbXRNNUJLr11JAUT/gU+capm2TtjLHM0Ex578l5Z3d7G+L9+Q+hGafHQslymnrk5C232jv+jjvLV51LkLPdRWRRJRzSmIn+1xGW7yXa2gMF2uhFzhOMqEXcWHhIgMvaAB/B9DAT9auTzQiAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAAAbCAIAAAArsZyFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAjiSURBVGhD7ZiHb1dVFMf9A9RooibGgeDeky02gAWhbAEpy0WRpYCKCmG4t5ahxAgBCwVElK2glCpDRAVFFMvQgiIKgsrU3rfq5/zO61v9teKgYNKTm1/eu+/ec8/5nnl/x5X+FR36w9u41f1ik/vtdre01PNnq6kCqhDQr7a4g562L2trajYzF7Q0F2aZ81uYGpmmYXfz1AR7/8FqZNNTGkD3/OZl9bHA8aqbTd0upn5XKxj1sq3at5gr2puzmpp7n7H9DdUUoSSgMxc5ZzYx13aK4Vh+gCywXtTKfPfj/8NVl652xs9w3njX8d+PGMUAHZtv17jR1MtOoomfXtPRXNVBfqM+W+cWA/pFxeTWY51uHy4x16Cb5b8fMQoBfWe5c3bTJJSAe0kbc3Frc+cIa+hoO2ekdSmvrUJYecAGB38/1v20/2PW5e1MZq+qAtSyvbPL+SZg1Wpmpi1MhsnCZQ7Bfl1nfzH54YaeR1zQf0lVDWjOKIsSFEDJAFxiZNuO9OHsed6VHQwhr4tpA2YvSZ+ebMdzXN9/l69x3/vQNSbqzl7BR+6yTytMGjt2eYtXuivWhgtS3EIOrhvyLzFe4cfuklXuvgPRI4QSgK7f5C5a4X6xsbJktbFY1qz8jDUxbhzHoYlJZhielwKUgKVqU2cCNBnn3WTe/TCG0ax4Rt+73zsn098FslR//0OElqxyTq5fcur1hnyijReufWZj88xE6RBmLXZ41p6MvLHggxj/fQc99OcItrCGdDQm3x6b75zWyJxUt0TX/LbfO752ySkNRVS6jrOaCCvWo063B2LOqIB2GGh/udm9pLVBO5ad10Ky2dLVSVjfXubQL56bWgNDjh74VNjSUEjOaGw41Fg+prl5NlKdULskf4EjgL403eGwKJpEcft7ktEB94lvxXQeMdbGT3ULx2/alpRs2ScuuwAdudEBUYAG3+d3+BgbtS/KkiYMDetmm9MzDM2vbjzwuwfErEex81vKL8qzDMHghmF0GUaFLTNX3yxfkeGKdnLQle1lUEV1GQSgrGnQzceIX9bzQOICnTkFoV4vvmaT/a7uKHyAhXP5ZVzXyeeGFYEYbt0fFIhs2xe13d3yKoCCXaJPQgeuRrK7jMAeFFDef0/Rlu9cJnULR46bFoMbIpYRHeet35WNYs8NW2QLmFLcOg32bTbzHeeCLNHhtmH+TGYvERGAAhP+tNvLuFXkjAJKaKM2p2PXjoMsQl7nh4+1MRUiBZ6lgFIVOL2gzCXXFbms0V6F1MQMFiVoOLrFXdbesrzx/GSbEzEVlVlnxk2zcZFUSvR6jZRsSSQpBwFUjay4MDg1Ctz89516XcWYfKrTRc7u/bC9c7ceJlGvu4AjZ2Sy1VdA6QpSmcinUS/b+A5gRXuDNv0tJm+8UyQu3u7CFlVzpyQZAgfiJQDFYLiezgTUe5QgSBLQVwUULT74JOYo23d6tZpLBOTmieWyhwg6mEe/BjRstMQi3A4c8mVu2E3DRa4/sJ0yzzc8gHograDoYMX9z4Wa7PrFG/K8jf5sxnTEyPS3Q0/E23UX8636+gYMSAFF/52/hNhNmCU3WtTw31M04Anx8WapooFw+G9igdKwXDFGAlC4TZ2fDI6ib130ZHy8XhAEUDYmIkwpq69cUrrcL0ef2zxlyLykIXf/6nEoWWJuoX8Q1ZIZrCuK9wsVPw5HRfQATcalbc20BUn5Nm9zSRw39IwJpClMd9XunKYpCQDd8XMI6Csz7cvamZqZMVb9Hg2r8MvTbZ4xlX6K0ph8SfcJQNGzYFXM76Bf94nCBId+AlBitllOUkIIX4anegPZE/PMiHhMGYnbYeap88ODkJbgYP28wnBSQr5GWbHWAQSrPk/KB13fXYq1/5KivHlSDXUX/t9h4OECigKVADqnQAoxu8ib+jWgHg9ZREkCUOrP06m2IUr0T1IJW/gXOQ15FuvXKOFihDOpkGdkgFs0QJVos0jK0YyB7lgLYUiDnKKTkAAKO1w3AJRtQbWN0rpyXRuXqGAjAVX+75J/BqjjeGRqZA2qlhJaEUzlixK5iJnEbY0yiI05XV8VUEKbzkRnlCbNcbTcz04VenIlYnAKEa0LlBAMbjipvnIPIsvDcMDjNsUD3bXiQwIoXT2zAaAk/uLtSdcoTy37iLMEuwiH8pHytwAlJLUoQUNzpYyif1Yfi66+qNgbPcUhwZFY0lZ5tMVfyKSbtko3DprIxvrgmqeAYn60o1iv3eCu3+w++IKNc9EP8UmXaZnlFPqcV2c59PaFq93Gt0nlAeXJs31ubQcIYorv5DniqnwlJngVQOcVylQADUdW/n8HkUhVxSzBFpQkw/5RkjQD0qAV2ZBi6k9J22vjEWdkxADNGSmpJiNyhSXTIwmaIBsPbAFHej3iKUivCij6dx4sjTBrWInHARDaDnwy5Nb7YYv5JrfLDZA1yhCDYVqwoxj460pLv/neZS+pDBdhDaeTBMit2FgXzFzkIADCTHjTx5fGC1YpfD0BFEIsWmtFB8XWfp0eUK4ZfR+V2ws6BGgycIcu98XCU4lmtnU/Cy8Lejpo7lIHCydagmcn2YDV77FYPL4212nQVeDDKtx8du7xSOLs1RYaUkDx5TVfup8XyVnIxiBCF6+Ihctzk2w2Dk4lJeKawgtbIEvBlPQDZkaMk3YCVtip873Wp1+FgHAKM9GbGBmydX+Lzg+BfUDHz5AQU3QIH3L/+NedKfOd6QudiW86T75q9xwqtx0Mi/GjFYyh7nk4WeI/pwDQxSsqC6mqJB9QiFig3ilGYEosqNvziz/jg9HCFR2soVH1uVQtHdOAHjwk+Tj4A+kwB3GRcWssG1YlkUmOXUCh73+SvgT3TKBW0cB5G/VIkzqrjOjeT6wj/zaRl/2po00xQCEqdaOeUt3oVxPwRQfJAXfu88jRRFMJTBnpCsvRoSSgSjR0eB8liI6BNg1wSaBkA82t9AdN77DWRApfNQWUHlClj9a5o16y2wwQfwRHuuXsIVZunrP1h2ooK6TKAK2mv02lpX8Ck9xPuu2HMFMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAASCAYAAABhAEFjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABLbSURBVGhDjVl5dJXlnX6+7S65N2RPCAmBsAQBRXYiWkFcALeeMmodl6OOSzscW0fn2Do6aqdqW49TraVzpi7jH1jFhYKAFopWFGUJYNgRJQECZM9Ncpfc7dvmeb97Q25urjN9cr5zc9/3e7ff+vzeK315YrW9v2MDNNmFbNh8NMiwbQuq14dyeTzGlS3C9KrLnH7TikORPc7/g9h04Dm0RPfB1hVMr3wQS+oWp3uGw9QTUDR36v/+CLoP7kAsFoIsK9C8XmglVSibNsPpNwwLkgQoiux8F7BMm+9KeOnDdTjd14cZFRZ0I4nmXj9sSfSp8Hq8qBxdiyWTalFXXsRBFkwxjzQ0zyAMy4QqKdh4ajPWffs5/qnuEXzd/iCumfwYastnw7YMSJwzGzbHSdzz6r0PIZJs59wKPHIB7pz/X+yVnH1LGetZptiDTnm78cgnP8eR4HF4tDyEjQS2rVgHwzSgKiPXgUVt8LzN3d/ix9ufRqFHwwDHPDXrcdSPvZi6EjIafi7puU8X2XlqERfVKRSJ5zfSXSlInFTi0KTlgaoBUbTDiph4askuKG4XbJn9zjjTUcxzHy/GKFcBWgdMzB33M9w0/fL0TCNxZv82fPHMvQjH+zFj+mL4ZD/0RBS2IUOP9yKRMDD+uttRe+v96RFDMKkog0Z332svg+aAqcWAVzVwpMfr7MlwjEeBmdDRp7tRM2kWfrO8HnmOgVDi2bCSsCicX2x7BfPLvo8jnTdT2X7ke0rxo0vXUAJUIlfKBrdA5QKvNtyF/mgX3DT2/mQXFo+5A4um/zPlolMuFFwaBudROc+Gbzbgsd0vYLy/goZuIqTHsfvOLdApfy2HEVF3VC5w84f3ITDQQ4fjXuwkTy5h6z9uhJ1IQqI+MiH7lAJINhVD5dnxCEp9k1DkHYtib43zFPr5OWoyJKMbMgVWolWiwFeK947+iC4grDItKLEY4aLV2baBQKwcbn5mI5lMOJ+frXoEmx66GrpbRV5hGQ6f3I0jbUcQUZIw81UUVE9C2YQ69O38K/Y/drczxqSh2cKCCVkWEUVCHoUpPCcKN70vib5IJ871BtAdCiMcjtNLFFSOUhA+txNPbtzHkRbnEE9qnvNg5ApHbUwrvR8n+lfC5y6lMXvRE2vDub6DORXrQNadD8mSaAzck2Si0FWC7e1vIUpDlYVGMqCIebj0U7t/j9HeEipfgkld2lrqveFvZ0C2EKP897Y1QlVpzrQXTXPhrNGJk51nqNghAxqEbNt0aC5mKEFcOulu3DN/Fe6rfxX31r/iPPcteBX3zPsDHlu+E/l5JegfUBGQ8vHXtnOUdnqWLGiKga5oAbw5dupyudF8ageOrXsJo8ZOZqQRoUuGS/NzHzE0nd2PY00N2PX1Nuxp+hLNAy34uqMRG3+2nCmAhiQeYlA1VDdDoYTuQARL5y3D+4/8ApsffRIf8Pn1bXdgXs1EBKIxuCQP2jv3Y+vJANdjaJSzDc/CV20GgrEX6UkhCpKH4yKa4sK+Mx+k38mFtHELI6cxm2YXjayT3mfhb9/8lvsdbhTi7f3Nb+PGMRZqfCoiXCNM7YattLdmhdYhyHhpzxuoKaygUTOCGlHOJaFYLcEfm1ezP72PDMj53MQorwfCgyN6jnCQAU/RHXi3M4jtnSZ29EQczz0PCkxAtzsQjkURs6IYyLlRGztCF6HyqY2wejpg6S7EetuQN2Ag1nMWbtUPxaVSqDZURpRItB9GMo6m3VvRuv+zHEdIHWuA8bE4r+x8g0ojmFAxBj+5/gbMqR4DnQHRxZx8+HQb+1U6wvCzJqjL7mg7BhLbqCAFdSX1TFUMe4YHTX07uYdk+s3csJnWJHp6Zf4HGF+ymanpSuxvfw/9kS56Jx2IactiPhWaWd+8ChU05voCHfdWJbCyOo6fjhlw5pEZVYaBirTJLwTea1nLr8VIGP34/rgfoFvvhM+Vj01HNjr92ZD/HCjE/3wD/LYlhOZYKsR8F/IZDvyqDDeVWpDnSy2c7hvExNKPUFP8Opa4q1HnKk23DqElEEZS74VRdwN8194Ab1knCh6+BcZrb2HcCzthxoIp8iA0RG+QRaij1RZX1qBx7UupSXJAmJElEmAOzJw8DfEkha/EGSo5PyFIVyZO9dgIxbYx9Q5QST7ceOG/85wki+R8RjyME30N6Tdzw5TjGO15GZJHRxIxlJU8AZc6AZuOPuEQP5spQ2bK+svR38HHEMxESB4jIWjK6OcTNHKZbQqSIqGhtREuewAFWhCt4XY8Wv8AyZdOow2isqiW6zSm3x6CnKR7+/IMlCDBHFCRbs6NFxtXwce/iBnBdZWLUvJP94kcKGCwPxo5QyExRNH7stEWGiCbVKB3n4a+7HUkHm6EMua/oXRMQpe7DkUrHoYc7OObIiww5PJdEY4VCry7+ThDZsyZJxMiIjr52GEdI5FImhQEuQA8iCbDTpuc3rllmhS8gRM9MSj2Me4fmFY2j4qQUVd2BXTmOdU7CruaX3feH5Gr01BJBk01j1WCRKKn8/wm+clUnAk3oqXnIJm+F3EaVkPLahoNI4wicugAZMMmeezjWEZCwsyOdmne8pevC3B58TpM9b6OZ+cJ7gD8Ye4nmKatxmz/89hwPJUjkxmEmEaVOmS5twwv7n8NC9Zcg/o1S/mZeha+s8x5prxWT68l/XYnMSN/Fv5j8ZNO7B8Beo8kyI7zZVD1Q+hOktGJfCbWjXXAS13pyVOcKwo12o3Yon+BXFVODw5RQDoSgX4k2gKwz55D8nQzkpFQeqaRUJSRpEKgre0gLiz3ojwPqFFSxmGmvVxWFLLPBHrpnQnrtEMjZlevcPrmjrsFMSNCdqvRKJuZj8/xbCPPJGAZA4jqH9MIqzGl2Edj60NY34M8tQLrD//CEcX6Q7+E31/Co9tUdBTXTHoQAfssvfxh1Hq/4Cz0bnr9MJA5RxNxHO5pp4G24wwJ3tUTWdnQkC+drKEv2sSz9CGqutDc1gVXBtN2zEQk5hhjvSBc+ZIPmi0jjwditcn/FYYDFRX5Raw33SjQ6ZlqAl397VQIVZhDw6JFWL5OgpQNUepojOsS1xAr6xSyrTD2ORZL7+vrhf/xnagcV4+iqdOQ/6//AN/rK2G/8VPIT9+CJDlCNsQW3B4XTneexNHTR3Gk+TAONx3C7oO7sOqD3yMU6UBpXgKFWg+umzXXGaNmEJ2D7SF6k0wvDqJYq8GYgumO8ot8lahg9SD2qXg82Hvqz6kBOSDL+eQHL6O18w4a2RHMLP8cIStGJTMymCFsObgK53oanKokQsK2oOZGFBXMxoSCLeQZ34OukqBS3rCZ7rKw5ug5VHtY1bgKMR5xlOYXcK+MapTbtIpSRgqgWDewtjWVcgZxPgYIxhlgeCjM82NR7SIsGHsJi+NLcMnYhVhYsxBzK+agM9GEmJxEoK8FF69dBjMZ5bmzLJkLyUJhLAlsm66SBUepGQYhsZwRj2gRdbaoN+P9KpruvRinlqo47T6Jzua96D25Bz3qKZiuobEOOES0FDIk7jqyHesb1mPjng34cN9H+OLbHVSSzdznQSDSj7Hlk1FTVUsjHQpd4uLj7IAOTYogQu+dP/Fmp902UkY0d+IKRBIBeEwfjgQ+ddpyQdTBtpUPS6aAzRJMq7odZTQUt7gcUEbhYO+70PKquBfKJ2ljcd1D5KCFwrwpjphTSqVOknU+YsdJOpmP9XpkD66ek+IxIgkJXD2xGD3RJDz5buw5LgxkCCnlUgAhFsS3jL8ea298E89e8hh+c9kT559fXfo4XrziWRy6ay8FEIJOojHRX4mnG3/nDM+E5nXRCj04Ea1iuMuRAzXmYktkvOGHUCXmNsZEt1qG7vBKGEKQzIduslqLnq66PWScLP8ZRQYhxCEs2OTjyUuynMpjlNEcr1QZbi2eK8raPdDbjQVT6nHnVXdyANdSRS0uZrBxvDsORfBIhi2NNfH00VeIDta4qXWmly6Fx3bDdiWRiAbR1LnHaRe3dpkQGR3wo2rUehKyFGv/4ZxfoSvcxihmwqOU0g+i6E+Ece30h5z+JNm4ySojyz1S0MV8FrafOYTT5n3Y2fsTPs/jKpZ2AoO3WAtqSnH5hArW6BESq0oSq9Ns5Vhxg+cckh5jk+pPKBrnDMgJM3WYRTWXwiQJ06Q8HO0+5rRlItT2OXrO7qWFCiKUbszAKCogQTLheCkhlnes0PSwBCpj6fCfiJssyiU/D80J+JowBZNlhEajcampK0sBMVYmk2R8gp8HyWdJN3fyPFxUOxMXVV3Iun0+ls9ejmfufwbXsAZO6jqFmSIeojxhvERTIATJLSEe1VFXvhwetdDpH4SX5U116VzmO2F5Gna1veW0m1kXNGQHKPLcDEtiKhJ9FFdp/kTMrLqepUuMe2VtzXZxwXFxzQ+EVTpny6lYwtJEj4xXDv4RtjwKLt2PZXXXsW143Swwv8iD8rJiqOQHW5oDbKG8xBWsISeQYFiI8k/Q8+9CUmyGYAbmvmRoVgIxM3XbJGCl67NQ11HnokLc1ZrScAEIVOXTkKgIm4IVEBceGj1S10oxEH2XxGYL2/Kp3NReUtQhCS8VWETle10FTruA8H6LYd5L6zeY12649GYsmbMEy+cvx7KF1+Ky2Yswa8psvpmay6Vpzt2vgEIm3xUx0Rc3BHFFku3fq1vp9GVjYe1tiJHpemjQZwIH0D/Qw+iQdRfP48iumfSB/lRUSItyxYynEbeDjDhANDaAW2b8OtUhcr547zsgsy9Og9nbuY9RzUZEjeGeyYw82WAEmTWuHOGefkY4DQGmk5PtATqWDHmuPAtzMQv1nlkolNOXADkgBCPwZftn8Ppc9D4XQ1C105YJicV5PgZ4wNw2WVtc6JQLsuwVL7N2KoOsVUKPvYrO0CpGBLEHyQmpEp9SRp+BxCj8qSOCqG95apLzoMex1isZRWVZunPd9/dDxlGycJlSFDVvoayhwFvCqDTcIE0KuKZoJg1rjPA9KtWNQ63r071DUGWmBObWVC4cOru4Gl06/hF0x9swrnAmKgqnpHsEhr8rcF7fbN61ezcqC4udst+tuzGr8gJGsOGXKeI+XIR9JY9lGOVVQqNb29Lh9MkX6NWYTg5WH5+KfpYaaz9+C2s/eRtrtqzGO3z+tPVtvLV1Dd7c/AaeefNJ/Nh9G263l+Em83L8W/UDziSZEIvH6QUlLOYd9pcFj0vBGP8p5sJ9DJN7EIq/gFM9V6JnYB00VzVDkCBigI9KtcjU3+lQsbnXQihmYuWFP0zPIizbRpLe7ydjHO1Jkshwrdz2lBNRllktYZ2Vr4vsVcdF1X6nXWE+zoQscjznnTp6CZIMe8LgDnZsSvcOQShRoVmnHPa8ihyDWDDxVpRotbhp5i8dRQ1BbDjVwETlfIrSdDAKHmjZhyplMoLoxZ3Tb3faFDpVJpw3uadbJ1egj4zZ65Gxq0ncEzAsb5YasE1rxJf5R7El2YBNoV34MLwTXyQO4PPEfjQMNGI3n52xQwj5ZRy3zuJjsrb88mLUXTAtFYIyIMKpLUIly4DsPgGdxf3SKRejNfAouvuex0D8AGszPzTmFeeIHONTLTSxpn+vW4FBL28Pn8Br165iuBcpYegWzU1BTK2IglyM40b+5PV/4WSvjLjhgamKaxcN4wv8I7xWwEkhlOCcsSuQMOPwygWIGAGc7j7g9A/ZkygoxYFFJMhoNQRfsPHQkveZvwuGXS8Oerl4f/AHGHHLJi6Evmk5wf1FMFOdiN7+AG69MMXisyHCvUUDnFdbBiMkfihJspQrxrZvz0EuLyjC9s7d2Nt/GI3BY2iMHsZX4UPYHtyHL4JfYVuYyo804NNgA7ZGP0V/SQQPXvMA7r7yLmfyjHM4CEZ60BfqRTTYgQr/yOSvsRaQlUI8ufwYity16I6eJGsk0XFuioA8Pt+EFPytM85CP4CuZBCbV6zD/LKLnPFy+qLCMikQMsY4y5i2cA96g32Ixf+OsMz5jSQ5RuLnDHlfIhRSyTLzyaDlEV4rIH4XFjZT7K/ifiegX2/h2AQ++XaV058UuiJR6gm3ooeVRDBOEsZqYBCSmFeQPgGH/A31+RUvgtE4DTyJmPNrGfvTr360bwPXMZBs7cGiiiuZFkbWvwJC/oO3g5dMKMLZrii6yJzfPNotokwu//p/wKrZVoWljoTOgworpAr5LUWezv8smAGbZExiSO0KncWB1vfREWmCzuI+SBJ2IFRFT6rBVVXzcTlrbWHgFv/EPfMgHE8Va3DquBXnfBLztSiD2Db02gjYgvUzz8ZEfpajnDUPfpefhsV9poWUC8LwRIht7TsETVMcI6vwTnFKGcsgwdRk7p+5j3WVLHugk1BqGRcl2TAoF5XzGSSnYk/ihw0vyz1xX8xT8EwiQpGU0rh8XEtnyNXS5VkuiGtUcduW0EWA1ykHBf8LzmFC6t1ekQQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}